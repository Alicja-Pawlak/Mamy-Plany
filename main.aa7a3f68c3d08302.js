(self.webpackChunkmamy_plany_front=self.webpackChunkmamy_plany_front||[]).push([[179],{2011:(at,Ce,N)=>{"use strict";N.d(Ce,{hO:()=>je,xv:()=>de,Dh:()=>fe,GT:()=>me,cc:()=>Me,on:()=>$,pX:()=>ae});var a=N(5e3),re=N(127),P=N(5813);at=N.hmd(at);const ue=["ngOnDestroy"],ae=(ie,we,xe,ye={})=>new Proxy(ie,{get:(Ne,be)=>xe.runOutsideAngular(()=>{var et;if(ie[be])return(null===(et=null==ye?void 0:ye.spy)||void 0===et?void 0:et.get)&&ye.spy.get(be,ie[be]),ie[be];if(ue.indexOf(be)>-1)return()=>{};const Ge=we.toPromise().then(he=>{const V=he&&he[be];return"function"==typeof V?V.bind(he):V&&V.then?V.then(H=>xe.run(()=>H)):xe.run(()=>V)});return new Proxy(()=>{},{get:(he,V)=>Ge[V],apply:(he,V,H)=>Ge.then(Z=>{var W;const le=Z&&Z(...H);return(null===(W=null==ye?void 0:ye.spy)||void 0===W?void 0:W.apply)&&ye.spy.apply(be,H,le),le})})})}),me=(ie,we)=>{we.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach(ye=>{Object.defineProperty(ie.prototype,ye,Object.getOwnPropertyDescriptor(xe.prototype||xe,ye))})})};class ce{constructor(we){return we}}const fe=new a.OlP("angularfire2.app.options"),de=new a.OlP("angularfire2.app.name");function $(ie,we,xe){const Ne="object"==typeof xe&&xe||{};Ne.name=Ne.name||"string"==typeof xe&&xe||"[DEFAULT]";const et=re.Z.apps.filter(Ge=>Ge&&Ge.name===Ne.name)[0]||we.runOutsideAngular(()=>re.Z.initializeApp(ie,Ne));try{JSON.stringify(ie)!==JSON.stringify(et.options)&&z("error",`${et.name} Firebase App already initialized with different options${at.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ge){}return new ce(et)}const z=(ie,...we)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ie](...we)},X={provide:ce,useFactory:$,deps:[fe,a.R0b,[new a.FiY,de]]};let je=(()=>{class ie{constructor(xe){re.Z.registerVersion("angularfire",P.q4.full,"core"),re.Z.registerVersion("angularfire",P.q4.full,"app-compat"),re.Z.registerVersion("angular",a.q4F.full,xe.toString())}static initializeApp(xe,ye){return{ngModule:ie,providers:[{provide:fe,useValue:xe},{provide:de,useValue:ye}]}}}return ie.\u0275fac=function(xe){return new(xe||ie)(a.LFG(a.Lbi))},ie.\u0275mod=a.oAB({type:ie}),ie.\u0275inj=a.cJS({providers:[X]}),ie})();function Me(ie,we,xe,ye,Ne){const[,be,et]=globalThis.\u0275AngularfireInstanceCache.find(Ge=>Ge[0]===ie)||[];if(be)return function Fe(ie,we){try{return ie.toString()===we.toString()}catch(xe){return ie===we}}(Ne,et)||(ee("error",`${we} was already initialized on the ${xe} Firebase App with different settings.${nt?" You may need to reload as Firebase is not HMR aware.":""}`),ee("warn",{is:Ne,was:et})),be;{const Ge=ye();return globalThis.\u0275AngularfireInstanceCache.push([ie,Ge,Ne]),Ge}}const nt=!!at.hot,ee=(ie,...we)=>{(0,a.X6Q)()&&"undefined"!=typeof console&&console[ie](...we)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(at,Ce,N)=>{"use strict";N.d(Ce,{q4:()=>Ro,iC:()=>Ms,HU:()=>wl,vb:()=>af,JM:()=>nc});var a=N(5e3),re=N(5867),P=N(5861),ue=N(9681),ae=N(2090),me=N(4859),ce=N(1877),fe=N(2940);const de="@firebase/installations",$="0.5.5",X=`w:${$}`,je="FIS_v2",we=new ae.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xe(T){return T instanceof ae.ZR&&T.code.includes("request-failed")}function ye({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Ne(T){return{token:T.token,requestStatus:2,expiresIn:Z(T.expiresIn),creationTime:Date.now()}}function be(T,S){return et.apply(this,arguments)}function et(){return(et=(0,P.Z)(function*(T,S){const U=(yield S.json()).error;return we.create("request-failed",{requestName:T,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function Ge({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function he(T,{refreshToken:S}){const k=Ge(T);return k.append("Authorization",function W(T){return`${je} ${T}`}(S)),k}function V(T){return H.apply(this,arguments)}function H(){return(H=(0,P.Z)(function*(T){const S=yield T();return S.status>=500&&S.status<600?T():S})).apply(this,arguments)}function Z(T){return Number(T.replace("s","000"))}function le(T,S){return G.apply(this,arguments)}function G(){return(G=(0,P.Z)(function*(T,{fid:S}){const k=ye(T),pe={method:"POST",headers:Ge(T),body:JSON.stringify({fid:S,authVersion:je,appId:T.appId,sdkVersion:X})},ke=yield V(()=>fetch(k,pe));if(ke.ok){const Xe=yield ke.json();return{fid:Xe.fid||S,registrationStatus:2,refreshToken:Xe.refreshToken,authToken:Ne(Xe.authToken)}}throw yield be("Create Installation",ke)})).apply(this,arguments)}function ze(T){return new Promise(S=>{setTimeout(S,T)})}const rn=/^[cdef][\w-]{21}$/;function Je(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const k=function Tn(T){return function gt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return rn.test(k)?k:""}catch(T){return""}}function At(T){return`${T.appName}!${T.appId}`}const On=new Map;function Qt(T,S){const k=At(T);$t(k,S),function cs(T,S){const k=function $s(){return!Dr&&"BroadcastChannel"in self&&(Dr=new BroadcastChannel("[Firebase] FID Change"),Dr.onmessage=T=>{$t(T.data.key,T.data.fid)}),Dr}();k&&k.postMessage({key:T,fid:S}),function jr(){0===On.size&&Dr&&(Dr.close(),Dr=null)}()}(k,S)}function $t(T,S){const k=On.get(T);if(k)for(const U of k)U(S)}let Dr=null;const pi="firebase-installations-store";let Qi=null;function Et(){return Qi||(Qi=(0,fe.openDb)("firebase-installations-database",1,T=>{0===T.oldVersion&&T.createObjectStore(pi)})),Qi}function Jr(T,S){return sr.apply(this,arguments)}function sr(){return(sr=(0,P.Z)(function*(T,S){const k=At(T),Q=(yield Et()).transaction(pi,"readwrite"),pe=Q.objectStore(pi),ke=yield pe.get(k);return yield pe.put(S,k),yield Q.complete,(!ke||ke.fid!==S.fid)&&Qt(T,S.fid),S})).apply(this,arguments)}function qn(T){return _o.apply(this,arguments)}function _o(){return(_o=(0,P.Z)(function*(T){const S=At(T),U=(yield Et()).transaction(pi,"readwrite");yield U.objectStore(pi).delete(S),yield U.complete})).apply(this,arguments)}function bt(T,S){return it.apply(this,arguments)}function it(){return(it=(0,P.Z)(function*(T,S){const k=At(T),Q=(yield Et()).transaction(pi,"readwrite"),pe=Q.objectStore(pi),ke=yield pe.get(k),Xe=S(ke);return void 0===Xe?yield pe.delete(k):yield pe.put(Xe,k),yield Q.complete,Xe&&(!ke||ke.fid!==Xe.fid)&&Qt(T,Xe.fid),Xe})).apply(this,arguments)}function Bt(T){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(T){let S;const k=yield bt(T,U=>{const Q=kr(U),pe=jt(T,Q);return S=pe.registrationPromise,pe.installationEntry});return""===k.fid?{installationEntry:yield S}:{installationEntry:k,registrationPromise:S}})).apply(this,arguments)}function kr(T){return Ya(T||{fid:Je(),registrationStatus:0})}function jt(T,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(we.create("app-offline"))};const k={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},U=function st(T,S){return mt.apply(this,arguments)}(T,k);return{installationEntry:k,registrationPromise:U}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:sn(T)}:{installationEntry:S}}function mt(){return(mt=(0,P.Z)(function*(T,S){try{return Jr(T,yield le(T,S))}catch(k){throw xe(k)&&409===k.customData.serverCode?yield qn(T):yield Jr(T,{fid:S.fid,registrationStatus:0}),k}})).apply(this,arguments)}function sn(T){return ds.apply(this,arguments)}function ds(){return(ds=(0,P.Z)(function*(T){let S=yield Gt(T);for(;1===S.registrationStatus;)yield ze(100),S=yield Gt(T);if(0===S.registrationStatus){const{installationEntry:k,registrationPromise:U}=yield Bt(T);return U||k}return S})).apply(this,arguments)}function Gt(T){return bt(T,S=>{if(!S)throw we.create("installation-not-found");return Ya(S)})}function Ya(T){return function Xr(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function gi(T,S){return j.apply(this,arguments)}function j(){return(j=(0,P.Z)(function*({appConfig:T,platformLoggerProvider:S},k){const U=K(T,k),Q=he(T,k),pe=S.getImmediate({optional:!0});pe&&Q.append("x-firebase-client",pe.getPlatformInfoString());const Xe={method:"POST",headers:Q,body:JSON.stringify({installation:{sdkVersion:X}})},Ke=yield V(()=>fetch(U,Xe));if(Ke.ok)return Ne(yield Ke.json());throw yield be("Generate Auth Token",Ke)})).apply(this,arguments)}function K(T,{fid:S}){return`${ye(T)}/${S}/authTokens:generate`}function Y(T){return Te.apply(this,arguments)}function Te(){return(Te=(0,P.Z)(function*(T,S=!1){let k;const U=yield bt(T.appConfig,pe=>{if(!An(pe))throw we.create("not-registered");const ke=pe.authToken;if(!S&&ei(ke))return pe;if(1===ke.requestStatus)return k=oe(T,S),pe;{if(!navigator.onLine)throw we.create("app-offline");const Xe=or(pe);return k=gn(T,Xe),Xe}});return k?yield k:U.authToken})).apply(this,arguments)}function oe(T,S){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,P.Z)(function*(T,S){let k=yield Dt(T.appConfig);for(;1===k.authToken.requestStatus;)yield ze(100),k=yield Dt(T.appConfig);const U=k.authToken;return 0===U.requestStatus?Y(T,S):U})).apply(this,arguments)}function Dt(T){return bt(T,S=>{if(!An(S))throw we.create("not-registered");return function Hr(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function gn(T,S){return bn.apply(this,arguments)}function bn(){return(bn=(0,P.Z)(function*(T,S){try{const k=yield gi(T,S),U=Object.assign(Object.assign({},S),{authToken:k});return yield Jr(T.appConfig,U),k}catch(k){if(!xe(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const U=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Jr(T.appConfig,U)}else yield qn(T.appConfig);throw k}})).apply(this,arguments)}function An(T){return void 0!==T&&2===T.registrationStatus}function ei(T){return 2===T.requestStatus&&!function Vt(T){const S=Date.now();return S<T.creationTime||T.creationTime+T.expiresIn<S+36e5}(T)}function or(T){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:S})}function Qa(){return(Qa=(0,P.Z)(function*(T){const S=T,{installationEntry:k,registrationPromise:U}=yield Bt(S.appConfig);return U?U.catch(console.error):Y(S).catch(console.error),k.fid})).apply(this,arguments)}function Ja(){return(Ja=(0,P.Z)(function*(T,S=!1){const k=T;return yield ar(k.appConfig),(yield Y(k,S)).token})).apply(this,arguments)}function ar(T){return $r.apply(this,arguments)}function $r(){return($r=(0,P.Z)(function*(T){const{registrationPromise:S}=yield Bt(T);S&&(yield S)})).apply(this,arguments)}function Ko(T){return we.create("missing-app-config-values",{valueName:T})}const ni="installations",Lt=T=>{const S=T.getProvider("app").getImmediate(),k=function Cr(T){if(!T||!T.options)throw Ko("App Configuration");if(!T.name)throw Ko("App Name");const S=["projectId","apiKey","appId"];for(const k of S)if(!T.options[k])throw Ko(k);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(S);return{app:S,appConfig:k,platformLoggerProvider:(0,ue._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},vn=T=>{const S=T.getProvider("app").getImmediate(),k=(0,ue._getProvider)(S,ni).getImmediate();return{getId:()=>function Gl(T){return Qa.apply(this,arguments)}(k),getToken:Q=>function Kl(T){return Ja.apply(this,arguments)}(k,Q)}};(function zr(){(0,ue._registerComponent)(new me.wA(ni,Lt,"PUBLIC")),(0,ue._registerComponent)(new me.wA("installations-internal",vn,"PRIVATE"))})(),(0,ue.registerVersion)(de,$),(0,ue.registerVersion)(de,$,"esm2017");const fs="@firebase/remote-config",Bn=new ae.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ii{constructor(S,k,U,Q){this.client=S,this.storage=k,this.storageCache=U,this.logger=Q}isCachedDataFresh(S,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-k,Q=U<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Q}.`),Q}fetch(S){var k=this;return(0,P.Z)(function*(){const[U,Q]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(Q&&k.isCachedDataFresh(S.cacheMaxAgeMillis,U))return Q;S.eTag=Q&&Q.eTag;const pe=yield k.client.fetch(S),ke=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===pe.status&&ke.push(k.storage.setLastSuccessfulFetchResponse(pe)),yield Promise.all(ke),pe})()}}function Ql(T=navigator){return T.languages&&T.languages[0]||T.language}class er{constructor(S,k,U,Q,pe,ke){this.firebaseInstallations=S,this.sdkVersion=k,this.namespace=U,this.projectId=Q,this.apiKey=pe,this.appId=ke}fetch(S){var k=this;return(0,P.Z)(function*(){const[U,Q]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),ke=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Xe={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},Ke={sdk_version:k.sdkVersion,app_instance_id:U,app_instance_id_token:Q,app_id:k.appId,language_code:Ql()},zt={method:"POST",headers:Xe,body:JSON.stringify(Ke)},Dn=fetch(ke,zt),Fr=new Promise((xs,$i)=>{S.signal.addEventListener(()=>{const Ea=new Error("The operation was aborted.");Ea.name="AbortError",$i(Ea)})});let nr;try{yield Promise.race([Dn,Fr]),nr=yield Dn}catch(xs){let $i="fetch-client-network";throw"AbortError"===xs.name&&($i="fetch-timeout"),Bn.create($i,{originalErrorMessage:xs.message})}let mn=nr.status;const _a=nr.headers.get("ETag")||void 0;let is,wa;if(200===nr.status){let xs;try{xs=yield nr.json()}catch($i){throw Bn.create("fetch-client-parse",{originalErrorMessage:$i.message})}is=xs.entries,wa=xs.state}if("INSTANCE_STATE_UNSPECIFIED"===wa?mn=500:"NO_CHANGE"===wa?mn=304:("NO_TEMPLATE"===wa||"EMPTY_CONFIG"===wa)&&(is={}),304!==mn&&200!==mn)throw Bn.create("fetch-status",{httpStatus:mn});return{status:mn,eTag:_a,config:is}})()}}class gs{constructor(S,k){this.client=S,this.storage=k}fetch(S){var k=this;return(0,P.Z)(function*(){const U=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(S,U)})()}attemptFetch(S,{throttleEndTimeMillis:k,backoffCount:U}){var Q=this;return(0,P.Z)(function*(){yield function Jc(T,S){return new Promise((k,U)=>{const Q=Math.max(S-Date.now(),0),pe=setTimeout(k,Q);T.addEventListener(()=>{clearTimeout(pe),U(Bn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,k);try{const pe=yield Q.client.fetch(S);return yield Q.storage.deleteThrottleMetadata(),pe}catch(pe){if(!function gg(T){if(!(T instanceof ae.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}(pe))throw pe;const ke={throttleEndTimeMillis:Date.now()+(0,ae.$s)(U),backoffCount:U+1};return yield Q.storage.setThrottleMetadata(ke),Q.attemptFetch(S,ke)}})()}}class yg{constructor(S,k,U,Q,pe){this.app=S,this._client=k,this._storageCache=U,this._storage=Q,this._logger=pe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function tl(T,S){const k=T.target.error||void 0;return Bn.create(S,{originalErrorMessage:k&&k.message})}const Jo="app_namespace_store";class ed{constructor(S,k,U,Q=function _g(){return new Promise((T,S)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=U=>{S(tl(U,"storage-open"))},k.onsuccess=U=>{T(U.target.result)},k.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(Jo,{keyPath:"compositeKey"})}}catch(k){S(Bn.create("storage-open",{originalErrorMessage:k}))}})}()){this.appId=S,this.appName=k,this.namespace=U,this.openDbPromise=Q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var k=this;return(0,P.Z)(function*(){const U=yield k.openDbPromise;return new Promise((Q,pe)=>{const Xe=U.transaction([Jo],"readonly").objectStore(Jo),Ke=k.createCompositeKey(S);try{const zt=Xe.get(Ke);zt.onerror=Dn=>{pe(tl(Dn,"storage-get"))},zt.onsuccess=Dn=>{const Fr=Dn.target.result;Q(Fr?Fr.value:void 0)}}catch(zt){pe(Bn.create("storage-get",{originalErrorMessage:zt&&zt.message}))}})})()}set(S,k){var U=this;return(0,P.Z)(function*(){const Q=yield U.openDbPromise;return new Promise((pe,ke)=>{const Ke=Q.transaction([Jo],"readwrite").objectStore(Jo),zt=U.createCompositeKey(S);try{const Dn=Ke.put({compositeKey:zt,value:k});Dn.onerror=Fr=>{ke(tl(Fr,"storage-set"))},Dn.onsuccess=()=>{pe()}}catch(Dn){ke(Bn.create("storage-set",{originalErrorMessage:Dn&&Dn.message}))}})})()}delete(S){var k=this;return(0,P.Z)(function*(){const U=yield k.openDbPromise;return new Promise((Q,pe)=>{const Xe=U.transaction([Jo],"readwrite").objectStore(Jo),Ke=k.createCompositeKey(S);try{const zt=Xe.delete(Ke);zt.onerror=Dn=>{pe(tl(Dn,"storage-delete"))},zt.onsuccess=()=>{Q()}}catch(zt){pe(Bn.create("storage-delete",{originalErrorMessage:zt&&zt.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Gs{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,P.Z)(function*(){const k=S.storage.getLastFetchStatus(),U=S.storage.getLastSuccessfulFetchTimestampMillis(),Q=S.storage.getActiveConfig(),pe=yield k;pe&&(S.lastFetchStatus=pe);const ke=yield U;ke&&(S.lastSuccessfulFetchTimestampMillis=ke);const Xe=yield Q;Xe&&(S.activeConfig=Xe)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Ky(){return nl.apply(this,arguments)}function nl(){return(nl=(0,P.Z)(function*(){if(!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(T){return!1}})).apply(this,arguments)}!function wg(){(0,ue._registerComponent)(new me.wA("remote-config",function T(S,{instanceIdentifier:k}){const U=S.getProvider("app").getImmediate(),Q=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bn.create("registration-window");if(!(0,ae.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:pe,apiKey:ke,appId:Xe}=U.options;if(!pe)throw Bn.create("registration-project-id");if(!ke)throw Bn.create("registration-api-key");if(!Xe)throw Bn.create("registration-app-id");const Ke=new ed(Xe,U.name,k=k||"firebase"),zt=new Gs(Ke),Dn=new ce.Yd(fs);Dn.logLevel=ce.in.ERROR;const Fr=new er(Q,ue.SDK_VERSION,k,pe,ke,Xe),nr=new gs(Fr,Ke),mn=new ii(nr,Ke,zt,Dn),_a=new yg(U,mn,zt,Ke,Dn);return function cn(T){const S=(0,ae.m9)(T);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(_a),_a},"PUBLIC").setMultipleInstances(!0)),(0,ue.registerVersion)(fs,"0.3.4"),(0,ue.registerVersion)(fs,"0.3.4","esm2017")}();const Ks="/firebase-messaging-sw.js",vi="/firebase-cloud-messaging-push-scope",bo="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ea="google.c.a.c_id",zu="google.c.a.c_l",Eg="google.c.a.ts",Vi="google.c.a.e";var ys=(()=>{return(T=ys||(ys={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",ys;var T})();function _i(T){const S=new Uint8Array(T);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function nd(T){const k=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(k),Q=new Uint8Array(U.length);for(let pe=0;pe<U.length;++pe)Q[pe]=U.charCodeAt(pe);return Q}const fr="fcm_token_details_db",qu="fcm_token_object_Store";function rd(T){return Jl.apply(this,arguments)}function Jl(){return Jl=(0,P.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(pe=>pe.name).includes(fr))return null;let S=null;return(yield(0,fe.openDb)(fr,5,function(){var U=(0,P.Z)(function*(Q){var pe;if(Q.oldVersion<2||!Q.objectStoreNames.contains(qu))return;const ke=Q.transaction.objectStore(qu),Xe=yield ke.index("fcmSenderId").get(T);if(yield ke.clear(),Xe)if(2===Q.oldVersion){const Ke=Xe;if(!Ke.auth||!Ke.p256dh||!Ke.endpoint)return;S={token:Ke.fcmToken,createTime:null!==(pe=Ke.createTime)&&void 0!==pe?pe:Date.now(),subscriptionOptions:{auth:Ke.auth,p256dh:Ke.p256dh,endpoint:Ke.endpoint,swScope:Ke.swScope,vapidKey:"string"==typeof Ke.vapidKey?Ke.vapidKey:_i(Ke.vapidKey)}}}else if(3===Q.oldVersion){const Ke=Xe;S={token:Ke.fcmToken,createTime:Ke.createTime,subscriptionOptions:{auth:_i(Ke.auth),p256dh:_i(Ke.p256dh),endpoint:Ke.endpoint,swScope:Ke.swScope,vapidKey:_i(Ke.vapidKey)}}}else if(4===Q.oldVersion){const Ke=Xe;S={token:Ke.fcmToken,createTime:Ke.createTime,subscriptionOptions:{auth:_i(Ke.auth),p256dh:_i(Ke.p256dh),endpoint:Ke.endpoint,swScope:Ke.swScope,vapidKey:_i(Ke.vapidKey)}}}});return function(Q){return U.apply(this,arguments)}}())).close(),yield(0,fe.deleteDb)(fr),yield(0,fe.deleteDb)("fcm_vapid_details_db"),yield(0,fe.deleteDb)("undefined"),ta(S)?S:null}),Jl.apply(this,arguments)}function ta(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:S}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const Ys="firebase-messaging-store";let Xl=null;function Sn(){return Xl||(Xl=(0,fe.openDb)("firebase-messaging-database",1,T=>{0===T.oldVersion&&T.createObjectStore(Ys)})),Xl}function eu(T){return So.apply(this,arguments)}function So(){return(So=(0,P.Z)(function*(T){const S=Ui(T),U=yield(yield Sn()).transaction(Ys).objectStore(Ys).get(S);if(U)return U;{const Q=yield rd(T.appConfig.senderId);if(Q)return yield wi(T,Q),Q}})).apply(this,arguments)}function wi(T,S){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,P.Z)(function*(T,S){const k=Ui(T),Q=(yield Sn()).transaction(Ys,"readwrite");return yield Q.objectStore(Ys).put(S,k),yield Q.complete,S})).apply(this,arguments)}function na(T){return ra.apply(this,arguments)}function ra(){return(ra=(0,P.Z)(function*(T){const S=Ui(T),U=(yield Sn()).transaction(Ys,"readwrite");yield U.objectStore(Ys).delete(S),yield U.complete})).apply(this,arguments)}function Ui({appConfig:T}){return T.appId}const Wn=new ae.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ia(T,S){return rl.apply(this,arguments)}function rl(){return(rl=(0,P.Z)(function*(T,S){const k=yield oa(T),U=aa(S),Q={method:"POST",headers:k,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(sa(T.appConfig),Q)).json()}catch(ke){throw Wn.create("token-subscribe-failed",{errorInfo:ke})}if(pe.error)throw Wn.create("token-subscribe-failed",{errorInfo:pe.error.message});if(!pe.token)throw Wn.create("token-subscribe-no-token");return pe.token})).apply(this,arguments)}function Ei(T,S){return vs.apply(this,arguments)}function vs(){return(vs=(0,P.Z)(function*(T,S){const k=yield oa(T),U=aa(S.subscriptionOptions),Q={method:"PATCH",headers:k,body:JSON.stringify(U)};let pe;try{pe=yield(yield fetch(`${sa(T.appConfig)}/${S.token}`,Q)).json()}catch(ke){throw Wn.create("token-update-failed",{errorInfo:ke})}if(pe.error)throw Wn.create("token-update-failed",{errorInfo:pe.error.message});if(!pe.token)throw Wn.create("token-update-no-token");return pe.token})).apply(this,arguments)}function il(T,S){return vt.apply(this,arguments)}function vt(){return(vt=(0,P.Z)(function*(T,S){const U={method:"DELETE",headers:yield oa(T)};try{const pe=yield(yield fetch(`${sa(T.appConfig)}/${S}`,U)).json();if(pe.error)throw Wn.create("token-unsubscribe-failed",{errorInfo:pe.error.message})}catch(Q){throw Wn.create("token-unsubscribe-failed",{errorInfo:Q})}})).apply(this,arguments)}function sa({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function oa(T){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,P.Z)(function*({appConfig:T,installations:S}){const k=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function aa({p256dh:T,auth:S,endpoint:k,vapidKey:U}){const Q={web:{endpoint:k,auth:S,p256dh:T}};return U!==bo&&(Q.web.applicationPubKey=U),Q}const la=6048e5;function id(T){return sl.apply(this,arguments)}function sl(){return(sl=(0,P.Z)(function*(T){const S=yield si(T.swRegistration,T.vapidKey),k={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:S.endpoint,auth:_i(S.getKey("auth")),p256dh:_i(S.getKey("p256dh"))},U=yield eu(T.firebaseDependencies);if(U){if(Zu(U.subscriptionOptions,k))return Date.now()>=U.createTime+la?sd(T,{token:U.token,createTime:Date.now(),subscriptionOptions:k}):U.token;try{yield il(T.firebaseDependencies,U.token)}catch(Q){console.warn(Q)}return ol(T.firebaseDependencies,k)}return ol(T.firebaseDependencies,k)})).apply(this,arguments)}function Ae(T){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,P.Z)(function*(T){const S=yield eu(T.firebaseDependencies);S&&(yield il(T.firebaseDependencies,S.token),yield na(T.firebaseDependencies));const k=yield T.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function sd(T,S){return _n.apply(this,arguments)}function _n(){return(_n=(0,P.Z)(function*(T,S){try{const k=yield Ei(T.firebaseDependencies,S),U=Object.assign(Object.assign({},S),{token:k,createTime:Date.now()});return yield wi(T.firebaseDependencies,U),k}catch(k){throw yield Ae(T),k}})).apply(this,arguments)}function ol(T,S){return Js.apply(this,arguments)}function Js(){return(Js=(0,P.Z)(function*(T,S){const U={token:yield ia(T,S),createTime:Date.now(),subscriptionOptions:S};return yield wi(T,U),U.token})).apply(this,arguments)}function si(T,S){return _s.apply(this,arguments)}function _s(){return(_s=(0,P.Z)(function*(T,S){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:nd(S)})})).apply(this,arguments)}function Zu(T,S){return S.vapidKey===T.vapidKey&&S.endpoint===T.endpoint&&S.auth===T.auth&&S.p256dh===T.p256dh}function tu(T){const S={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function Gh(T,S){if(!S.notification)return;T.notification={};const k=S.notification.title;k&&(T.notification.title=k);const U=S.notification.body;U&&(T.notification.body=U);const Q=S.notification.image;Q&&(T.notification.image=Q)}(S,T),function nu(T,S){!S.data||(T.data=S.data)}(S,T),function ua(T,S){if(!S.fcmOptions)return;T.fcmOptions={};const k=S.fcmOptions.link;k&&(T.fcmOptions.link=k);const U=S.fcmOptions.analytics_label;U&&(T.fcmOptions.analyticsLabel=U)}(S,T),S}function br(T){return"object"==typeof T&&!!T&&ea in T}function Ji(T,S){const k=[];for(let U=0;U<T.length;U++)k.push(T.charAt(U)),U<S.length&&k.push(S.charAt(U));return k.join("")}function ws(T){return Wn.create("missing-app-config-values",{valueName:T})}Ji("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ji("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Bi{constructor(S,k,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Q=function ru(T){if(!T||!T.options)throw ws("App Configuration Object");if(!T.name)throw ws("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:k}=T;for(const U of S)if(!k[U])throw ws(U);return{appName:T.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Q,installations:k,analyticsProvider:U}}_delete(){return Promise.resolve()}}function od(T){return ca.apply(this,arguments)}function ca(){return(ca=(0,P.Z)(function*(T){try{T.swRegistration=yield navigator.serviceWorker.register(Ks,{scope:vi}),T.swRegistration.update().catch(()=>{})}catch(S){throw Wn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Kh(T,S){return al.apply(this,arguments)}function al(){return(al=(0,P.Z)(function*(T,S){if(!S&&!T.swRegistration&&(yield od(T)),S||!T.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Wn.create("invalid-sw-registration");T.swRegistration=S}})).apply(this,arguments)}function Wu(T,S){return Io.apply(this,arguments)}function Io(){return(Io=(0,P.Z)(function*(T,S){S?T.vapidKey=S:T.vapidKey||(T.vapidKey=bo)})).apply(this,arguments)}function Ao(){return(Ao=(0,P.Z)(function*(T,S){if(!navigator)throw Wn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wn.create("permission-blocked");return yield Wu(T,null==S?void 0:S.vapidKey),yield Kh(T,null==S?void 0:S.serviceWorkerRegistration),id(T)})).apply(this,arguments)}function ad(T,S,k){return ll.apply(this,arguments)}function ll(){return(ll=(0,P.Z)(function*(T,S,k){const U=iu(S);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:k[ea],message_name:k[zu],message_time:k[Eg],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function iu(T){switch(T){case ys.NOTIFICATION_CLICKED:return"notification_open";case ys.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function su(){return(su=(0,P.Z)(function*(T,S){const k=S.data;if(!k.isFirebaseMessaging)return;T.onMessageHandler&&k.messageType===ys.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(tu(k)):T.onMessageHandler.next(tu(k)));const U=k.data;br(U)&&"1"===U[Vi]&&(yield ad(T,k.messageType,U))})).apply(this,arguments)}const ul="@firebase/messaging",Es=T=>{const S=new Bi(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Yh(T,S){return su.apply(this,arguments)}(S,k)),S},Qh=T=>{const S=T.getProvider("messaging").getImmediate();return{getToken:U=>function Gu(T,S){return Ao.apply(this,arguments)}(S,U)}};function pr(){return gr.apply(this,arguments)}function gr(){return(gr=(0,P.Z)(function*(){return"undefined"!=typeof window&&(0,ae.hl)()&&(yield(0,ae.eu)())&&(0,ae.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Dg(){(0,ue._registerComponent)(new me.wA("messaging",Es,"PUBLIC")),(0,ue._registerComponent)(new me.wA("messaging-internal",Qh,"PRIVATE")),(0,ue.registerVersion)(ul,"0.9.6"),(0,ue.registerVersion)(ul,"0.9.6","esm2017")}();const cl="analytics",da="firebase_id",Tg="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ds="https://www.googletagmanager.com/gtag/js",Gn=new ce.Yd("@firebase/analytics");function Xh(T){return Promise.all(T.map(S=>S.catch(k=>k)))}function cd(T,S){const k=document.createElement("script");k.src=`${Ds}?l=${T}&id=${S}`,k.async=!0,document.head.appendChild(k)}function dd(T,S,k,U,Q,pe){return dl.apply(this,arguments)}function dl(){return(dl=(0,P.Z)(function*(T,S,k,U,Q,pe){const ke=U[Q];try{if(ke)yield S[ke];else{const Ke=(yield Xh(k)).find(zt=>zt.measurementId===Q);Ke&&(yield S[Ke.appId])}}catch(Xe){Gn.error(Xe)}T("config",Q,pe)})).apply(this,arguments)}function ef(T,S,k,U,Q){return tf.apply(this,arguments)}function tf(){return(tf=(0,P.Z)(function*(T,S,k,U,Q){try{let pe=[];if(Q&&Q.send_to){let ke=Q.send_to;Array.isArray(ke)||(ke=[ke]);const Xe=yield Xh(k);for(const Ke of ke){const zt=Xe.find(Fr=>Fr.measurementId===Ke),Dn=zt&&S[zt.appId];if(!Dn){pe=[];break}pe.push(Dn)}}0===pe.length&&(pe=Object.values(S)),yield Promise.all(pe),T("event",U,Q||{})}catch(pe){Gn.error(pe)}})).apply(this,arguments)}function xn(){const T=window.document.getElementsByTagName("script");for(const S of Object.values(T))if(S.src&&S.src.includes(Ds))return S;return null}const Kn=new ae.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),fa=new class Cs{constructor(S={},k=1e3){this.throttleMetadata=S,this.intervalMillis=k}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,k){this.throttleMetadata[S]=k}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function pa(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Nn(T){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,P.Z)(function*(T){var S;const{appId:k,apiKey:U}=T,Q={method:"GET",headers:pa(U)},pe=Tg.replace("{app-id}",k),ke=yield fetch(pe,Q);if(200!==ke.status&&304!==ke.status){let Xe="";try{const Ke=yield ke.json();(null===(S=Ke.error)||void 0===S?void 0:S.message)&&(Xe=Ke.error.message)}catch(Ke){}throw Kn.create("config-fetch-failed",{httpStatus:ke.status,responseMessage:Xe})}return ke.json()})).apply(this,arguments)}function hd(T){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,P.Z)(function*(T,S=fa,k){const{appId:U,apiKey:Q,measurementId:pe}=T.options;if(!U)throw Kn.create("no-app-id");if(!Q){if(pe)return{measurementId:pe,appId:U};throw Kn.create("no-api-key")}const ke=S.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Xe=new ur;return setTimeout((0,P.Z)(function*(){Xe.abort()}),void 0!==k?k:6e4),Fn({appId:U,apiKey:Q,measurementId:pe},ke,Xe,S)})).apply(this,arguments)}function Fn(T,S,k){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,P.Z)(function*(T,{throttleEndTimeMillis:S,backoffCount:k},U,Q=fa){const{appId:pe,measurementId:ke}=T;try{yield nf(U,S)}catch(Xe){if(ke)return Gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:pe,measurementId:ke};throw Xe}try{const Xe=yield Nn(T);return Q.deleteThrottleMetadata(pe),Xe}catch(Xe){if(!Nr(Xe)){if(Q.deleteThrottleMetadata(pe),ke)return Gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Xe.message}]`),{appId:pe,measurementId:ke};throw Xe}const Ke=503===Number(Xe.customData.httpStatus)?(0,ae.$s)(k,Q.intervalMillis,30):(0,ae.$s)(k,Q.intervalMillis),zt={throttleEndTimeMillis:Date.now()+Ke,backoffCount:k+1};return Q.setThrottleMetadata(pe,zt),Gn.debug(`Calling attemptFetch again in ${Ke} millis`),Fn(T,zt,U,Q)}})).apply(this,arguments)}function nf(T,S){return new Promise((k,U)=>{const Q=Math.max(S-Date.now(),0),pe=setTimeout(k,Q);T.addEventListener(()=>{clearTimeout(pe),U(Kn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Nr(T){if(!(T instanceof ae.ZR&&T.customData))return!1;const S=Number(T.customData.httpStatus);return 429===S||500===S||503===S||504===S}class ur{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Ts(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,P.Z)(function*(){if(!(0,ae.hl)())return Gn.warn(Kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ae.eu)()}catch(T){return Gn.warn(Kn.create("indexeddb-unavailable",{errorInfo:T}).message),!1}return!0})).apply(this,arguments)}function Di(){return(Di=(0,P.Z)(function*(T,S,k,U,Q,pe,ke){var Xe;const Ke=hd(T);Ke.then(mn=>{k[mn.measurementId]=mn.appId,T.options.measurementId&&mn.measurementId!==T.options.measurementId&&Gn.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${mn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(mn=>Gn.error(mn)),S.push(Ke);const zt=Ts().then(mn=>{if(mn)return U.getId()}),[Dn,Fr]=yield Promise.all([Ke,zt]);xn()||cd(pe,Dn.measurementId),Q("js",new Date);const nr=null!==(Xe=null==ke?void 0:ke.config)&&void 0!==Xe?Xe:{};return nr.origin="firebase",nr.update=!0,null!=Fr&&(nr[da]=Fr),Q("config",Dn.measurementId,nr),Dn.measurementId})).apply(this,arguments)}class es{constructor(S){this.app=S}_delete(){return delete Zr[this.app.options.appId],Promise.resolve()}}let Zr={},Qe=[];const hl={};let ga,tr,ou="dataLayer",au=!1;function eo(T,S,k){!function xo(){const T=[];if((0,ae.ru)()&&T.push("This is a browser extension environment."),(0,ae.zI)()||T.push("Cookies are not available."),T.length>0){const S=T.map((U,Q)=>`(${Q+1}) ${U}`).join(" "),k=Kn.create("invalid-analytics-context",{errorInfo:S});Gn.warn(k.message)}}();const U=T.options.appId;if(!U)throw Kn.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw Kn.create("no-api-key");Gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Zr[U])throw Kn.create("already-exists",{id:U});if(!au){!function ha(T){let S=[];Array.isArray(window[T])?S=window[T]:window[T]=S}(ou);const{wrappedGtag:pe,gtagCore:ke}=function Ju(T,S,k,U,Q){let pe=function(...ke){window[U].push(arguments)};return window[Q]&&"function"==typeof window[Q]&&(pe=window[Q]),window[Q]=function bg(T,S,k,U){function pe(){return(pe=(0,P.Z)(function*(ke,Xe,Ke){try{"event"===ke?yield ef(T,S,k,Xe,Ke):"config"===ke?yield dd(T,S,k,U,Xe,Ke):T("set",Xe)}catch(zt){Gn.error(zt)}})).apply(this,arguments)}return function Q(ke,Xe,Ke){return pe.apply(this,arguments)}}(pe,T,S,k),{gtagCore:pe,wrappedGtag:window[Q]}}(Zr,Qe,hl,ou,"gtag");tr=pe,ga=ke,au=!0}return Zr[U]=function ji(T,S,k,U,Q,pe,ke){return Di.apply(this,arguments)}(T,Qe,hl,S,ga,ou,k),new es(T)}function to(){return(to=(0,P.Z)(function*(T,S,k,U,Q){if(Q&&Q.global)T("event",k,U);else{const pe=yield S;T("event",k,Object.assign(Object.assign({},U),{send_to:pe}))}})).apply(this,arguments)}function ec(){return gd.apply(this,arguments)}function gd(){return(gd=(0,P.Z)(function*(){if((0,ae.ru)()||!(0,ae.zI)()||!(0,ae.hl)())return!1;try{return yield(0,ae.eu)()}catch(T){return!1}})).apply(this,arguments)}const Is="@firebase/analytics";!function En(){(0,ue._registerComponent)(new me.wA(cl,(S,{options:k})=>eo(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ue._registerComponent)(new me.wA("analytics-internal",function T(S){try{const k=S.getProvider(cl).getImmediate();return{logEvent:(U,Q,pe)=>function cu(T,S,k,U){T=(0,ae.m9)(T),function uu(T,S,k,U,Q){return to.apply(this,arguments)}(tr,Zr[T.app.options.appId],S,k,U).catch(Q=>Gn.error(Q))}(k,U,Q,pe)}}catch(k){throw Kn.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ue.registerVersion)(Is,"0.7.5"),(0,ue.registerVersion)(Is,"0.7.5","esm2017")}();var gl=N(4408),tc=N(7565);const Wr=new class ts extends tc.v{}(class ml extends gl.o{constructor(S,k){super(S,k),this.scheduler=S,this.work=k}schedule(S,k=0){return k>0?super.schedule(S,k):(this.delay=k,this.state=S,this.scheduler.flush(this),this)}execute(S,k){return k>0||this.closed?super.execute(S,k):this._execute(S,k)}requestAsyncId(S,k,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(S,k,U):S.flush(this)}});var du=N(4986),Oo=N(8505),no=N(9468),yd=N(5363);const Ro=new a.GfV("7.2.0"),ro="__angularfire_symbol__analyticsIsSupported",vl="__angularfire_symbol__remoteConfigIsSupported",No="__angularfire_symbol__messagingIsSupported";function nc(T,S,k){if(S){if(1===S.length)return S[0];const pe=S.filter(ke=>ke.app===k);if(1===pe.length)return pe[0]}return k.container.getProvider(T).getImmediate({optional:!0})}globalThis[ro]||(globalThis[ro]=ec().then(T=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=T)),globalThis[No]||(globalThis[No]=pr().then(T=>globalThis.__angularfire_symbol__messagingIsSupportedValue=T)),globalThis[vl]||(globalThis[vl]=Ky().then(T=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=T));const af=(T,S)=>{const k=S?[S]:(0,re.C6)(),U=[];return k.forEach(Q=>{Q.container.getProvider(T).instances.forEach(ke=>{U.includes(ke)||U.push(ke)})}),U};function io(){}class ya{constructor(S,k=Wr){this.zone=S,this.delegate=k}now(){return this.delegate.now()}schedule(S,k,U){const Q=this.zone;return this.delegate.schedule(function(ke){Q.runGuarded(()=>{S.apply(this,[ke])})},k,U)}}class _l{constructor(S){this.zone=S,this.task=null}call(S,k){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",io,{},io,io)),k.pipe((0,Oo.b)({next:U,complete:U,error:U})).subscribe(S).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wl=(()=>{class T{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new ya(Zone.current)),this.insideAngular=k.run(()=>new ya(Zone.current,du.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(k){return new(k||T)(a.LFG(a.R0b))},T.\u0275prov=a.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function rs(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function Ms(T){return rs(),function va(T){return function(k){return(k=k.lift(new _l(T.ngZone))).pipe((0,no.R)(T.outsideAngular),(0,yd.Q)(T.insideAngular))}}(rs())(T)}},2090:(at,Ce,N)=>{"use strict";N.d(Ce,{BH:()=>je,LL:()=>G,ZR:()=>le,zI:()=>H,US:()=>me,tV:()=>de,$s:()=>Gt,r3:()=>fi,Sg:()=>Me,ne:()=>Qi,vZ:()=>Dr,ZB:()=>z,pd:()=>zs,m9:()=>gi,z$:()=>Fe,jU:()=>ie,ru:()=>we,d:()=>ye,xb:()=>$t,w1:()=>Ne,hl:()=>he,uI:()=>nt,UG:()=>ee,b$:()=>xe,G6:()=>Ge,Mn:()=>be,xO:()=>jr,zd:()=>Yi,eu:()=>V});const ue=function(j){const K=[];let Y=0;for(let Te=0;Te<j.length;Te++){let oe=j.charCodeAt(Te);oe<128?K[Y++]=oe:oe<2048?(K[Y++]=oe>>6|192,K[Y++]=63&oe|128):55296==(64512&oe)&&Te+1<j.length&&56320==(64512&j.charCodeAt(Te+1))?(oe=65536+((1023&oe)<<10)+(1023&j.charCodeAt(++Te)),K[Y++]=oe>>18|240,K[Y++]=oe>>12&63|128,K[Y++]=oe>>6&63|128,K[Y++]=63&oe|128):(K[Y++]=oe>>12|224,K[Y++]=oe>>6&63|128,K[Y++]=63&oe|128)}return K},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(j,K){if(!Array.isArray(j))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=K?this.byteToCharMapWebSafe_:this.byteToCharMap_,Te=[];for(let oe=0;oe<j.length;oe+=3){const Ye=j[oe],Dt=oe+1<j.length,gn=Dt?j[oe+1]:0,bn=oe+2<j.length,An=bn?j[oe+2]:0;let or=(15&gn)<<2|An>>6,Hr=63&An;bn||(Hr=64,Dt||(or=64)),Te.push(Y[Ye>>2],Y[(3&Ye)<<4|gn>>4],Y[or],Y[Hr])}return Te.join("")},encodeString(j,K){return this.HAS_NATIVE_SUPPORT&&!K?btoa(j):this.encodeByteArray(ue(j),K)},decodeString(j,K){return this.HAS_NATIVE_SUPPORT&&!K?atob(j):function(j){const K=[];let Y=0,Te=0;for(;Y<j.length;){const oe=j[Y++];if(oe<128)K[Te++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const Ye=j[Y++];K[Te++]=String.fromCharCode((31&oe)<<6|63&Ye)}else if(oe>239&&oe<365){const bn=((7&oe)<<18|(63&j[Y++])<<12|(63&j[Y++])<<6|63&j[Y++])-65536;K[Te++]=String.fromCharCode(55296+(bn>>10)),K[Te++]=String.fromCharCode(56320+(1023&bn))}else{const Ye=j[Y++],Dt=j[Y++];K[Te++]=String.fromCharCode((15&oe)<<12|(63&Ye)<<6|63&Dt)}}return K.join("")}(this.decodeStringToByteArray(j,K))},decodeStringToByteArray(j,K){this.init_();const Y=K?this.charToByteMapWebSafe_:this.charToByteMap_,Te=[];for(let oe=0;oe<j.length;){const Ye=Y[j.charAt(oe++)],gn=oe<j.length?Y[j.charAt(oe)]:0;++oe;const An=oe<j.length?Y[j.charAt(oe)]:64;++oe;const Vt=oe<j.length?Y[j.charAt(oe)]:64;if(++oe,null==Ye||null==gn||null==An||null==Vt)throw Error();Te.push(Ye<<2|gn>>4),64!==An&&(Te.push(gn<<4&240|An>>2),64!==Vt&&Te.push(An<<6&192|Vt))}return Te},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let j=0;j<this.ENCODED_VALS.length;j++)this.byteToCharMap_[j]=this.ENCODED_VALS.charAt(j),this.charToByteMap_[this.byteToCharMap_[j]]=j,this.byteToCharMapWebSafe_[j]=this.ENCODED_VALS_WEBSAFE.charAt(j),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[j]]=j,j>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(j)]=j,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(j)]=j)}}},fe=function(j){return function(j){const K=ue(j);return me.encodeByteArray(K,!0)}(j).replace(/\./g,"")},de=function(j){try{return me.decodeString(j,!0)}catch(K){console.error("base64Decode failed: ",K)}return null};function z(j,K){if(!(K instanceof Object))return K;switch(K.constructor){case Date:return new Date(K.getTime());case Object:void 0===j&&(j={});break;case Array:j=[];break;default:return K}for(const Y in K)!K.hasOwnProperty(Y)||!X(Y)||(j[Y]=z(j[Y],K[Y]));return j}function X(j){return"__proto__"!==j}class je{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((K,Y)=>{this.resolve=K,this.reject=Y})}wrapCallback(K){return(Y,Te)=>{Y?this.reject(Y):this.resolve(Te),"function"==typeof K&&(this.promise.catch(()=>{}),1===K.length?K(Y):K(Y,Te))}}}function Me(j,K){if(j.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Te=K||"demo-project",oe=j.iat||0,Ye=j.sub||j.user_id;if(!Ye)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${Te}`,aud:Te,iat:oe,exp:oe+3600,auth_time:oe,sub:Ye,user_id:Ye,firebase:{sign_in_provider:"custom",identities:{}}},j);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(Dt)),""].join(".")}function Fe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function nt(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function ee(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(j){return!1}}function ie(){return"object"==typeof self&&self.self===self}function we(){const j="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof j&&void 0!==j.id}function xe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function ye(){return Fe().indexOf("Electron/")>=0}function Ne(){const j=Fe();return j.indexOf("MSIE ")>=0||j.indexOf("Trident/")>=0}function be(){return Fe().indexOf("MSAppHost/")>=0}function Ge(){return!ee()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"object"==typeof indexedDB}function V(){return new Promise((j,K)=>{try{let Y=!0;const Te="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(Te);oe.onsuccess=()=>{oe.result.close(),Y||self.indexedDB.deleteDatabase(Te),j(!0)},oe.onupgradeneeded=()=>{Y=!1},oe.onerror=()=>{var Ye;K((null===(Ye=oe.error)||void 0===Ye?void 0:Ye.message)||"")}}catch(Y){K(Y)}})}function H(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(K,Y,Te){super(Y),this.code=K,this.customData=Te,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,G.prototype.create)}}class G{constructor(K,Y,Te){this.service=K,this.serviceName=Y,this.errors=Te}create(K,...Y){const Te=Y[0]||{},oe=`${this.service}/${K}`,Ye=this.errors[K],Dt=Ye?function ze(j,K){return j.replace(gt,(Y,Te)=>{const oe=K[Te];return null!=oe?String(oe):`<${Te}?>`})}(Ye,Te):"Error";return new le(oe,`${this.serviceName}: ${Dt} (${oe}).`,Te)}}const gt=/\{\$([^}]+)}/g;function fi(j,K){return Object.prototype.hasOwnProperty.call(j,K)}function $t(j){for(const K in j)if(Object.prototype.hasOwnProperty.call(j,K))return!1;return!0}function Dr(j,K){if(j===K)return!0;const Y=Object.keys(j),Te=Object.keys(K);for(const oe of Y){if(!Te.includes(oe))return!1;const Ye=j[oe],Dt=K[oe];if($s(Ye)&&$s(Dt)){if(!Dr(Ye,Dt))return!1}else if(Ye!==Dt)return!1}for(const oe of Te)if(!Y.includes(oe))return!1;return!0}function $s(j){return null!==j&&"object"==typeof j}function jr(j){const K=[];for(const[Y,Te]of Object.entries(j))Array.isArray(Te)?Te.forEach(oe=>{K.push(encodeURIComponent(Y)+"="+encodeURIComponent(oe))}):K.push(encodeURIComponent(Y)+"="+encodeURIComponent(Te));return K.length?"&"+K.join("&"):""}function Yi(j){const K={};return j.replace(/^\?/,"").split("&").forEach(Te=>{if(Te){const[oe,Ye]=Te.split("=");K[decodeURIComponent(oe)]=decodeURIComponent(Ye)}}),K}function zs(j){const K=j.indexOf("?");if(!K)return"";const Y=j.indexOf("#",K);return j.substring(K,Y>0?Y:void 0)}function Qi(j,K){const Y=new Et(j,K);return Y.subscribe.bind(Y)}class Et{constructor(K,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{K(this)}).catch(Te=>{this.error(Te)})}next(K){this.forEachObserver(Y=>{Y.next(K)})}error(K){this.forEachObserver(Y=>{Y.error(K)}),this.close(K)}complete(){this.forEachObserver(K=>{K.complete()}),this.close()}subscribe(K,Y,Te){let oe;if(void 0===K&&void 0===Y&&void 0===Te)throw new Error("Missing Observer.");oe=function sr(j,K){if("object"!=typeof j||null===j)return!1;for(const Y of K)if(Y in j&&"function"==typeof j[Y])return!0;return!1}(K,["next","error","complete"])?K:{next:K,error:Y,complete:Te},void 0===oe.next&&(oe.next=qn),void 0===oe.error&&(oe.error=qn),void 0===oe.complete&&(oe.complete=qn);const Ye=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch(Dt){}}),this.observers.push(oe),Ye}unsubscribeOne(K){void 0===this.observers||void 0===this.observers[K]||(delete this.observers[K],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(K){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,K)}sendOne(K,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[K])try{Y(this.observers[K])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})}close(K){this.finalized||(this.finalized=!0,void 0!==K&&(this.finalError=K),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qn(){}function Gt(j,K=1e3,Y=2){const Te=K*Math.pow(Y,j),oe=Math.round(.5*Te*(Math.random()-.5)*2);return Math.min(144e5,Te+oe)}function gi(j){return j&&j._delegate?j._delegate:j}},7906:(at,Ce,N)=>{"use strict";var a=N(5e3);let re=null;function P(){return re}const ce=new a.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function de(){return(0,a.LFG)(z)}()},providedIn:"platform"}),n})();const $=new a.OlP("Location Initialized");let z=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){X()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){X()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function je(){return new z((0,a.LFG)(ce))}()},providedIn:"platform"}),n})();function X(){return!!window.history.pushState}function Me(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function nt(n){return n&&"?"!==n[0]?"?"+n:n}let ee=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:function(){return function ie(n){const e=(0,a.LFG)(ce).location;return new xe((0,a.LFG)(fe),e&&e.origin||"")}()},providedIn:"root"}),n})();const we=new a.OlP("appBaseHref");let xe=(()=>{class n extends ee{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Me(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+nt(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,l){const d=this.prepareExternalUrl(i+nt(l));this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){const d=this.prepareExternalUrl(i+nt(l));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(we,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ye=(()=>{class n extends ee{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Me(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,l){let d=this.prepareExternalUrl(i+nt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,i,l){let d=this.prepareExternalUrl(i+nt(l));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(fe),a.LFG(we,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n{constructor(t,r){this._subject=new a.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Fe(Ge(i)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nt(r))}normalize(t){return n.stripTrailingSlash(function et(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ge(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._platformStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}replaceState(t,r="",i=null){this._platformStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nt(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=nt,n.joinWithSlash=Me,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(a.LFG(ee),a.LFG(fe))},n.\u0275prov=a.Yz7({token:n,factory:function(){return function be(){return new Ne((0,a.LFG)(ee),(0,a.LFG)(fe))}()},providedIn:"root"}),n})();function Ge(n){return n.replace(/\/index.html$/,"")}var H=(()=>((H=H||{})[H.Zero=0]="Zero",H[H.One=1]="One",H[H.Two=2]="Two",H[H.Few=3]="Few",H[H.Many=4]="Many",H[H.Other=5]="Other",H))(),Z=(()=>((Z=Z||{})[Z.Format=0]="Format",Z[Z.Standalone=1]="Standalone",Z))(),W=(()=>((W=W||{})[W.Narrow=0]="Narrow",W[W.Abbreviated=1]="Abbreviated",W[W.Wide=2]="Wide",W[W.Short=3]="Short",W))(),le=(()=>((le=le||{})[le.Short=0]="Short",le[le.Medium=1]="Medium",le[le.Long=2]="Long",le[le.Full=3]="Full",le))(),G=(()=>((G=G||{})[G.Decimal=0]="Decimal",G[G.Group=1]="Group",G[G.List=2]="List",G[G.PercentSign=3]="PercentSign",G[G.PlusSign=4]="PlusSign",G[G.MinusSign=5]="MinusSign",G[G.Exponential=6]="Exponential",G[G.SuperscriptingExponent=7]="SuperscriptingExponent",G[G.PerMille=8]="PerMille",G[G.Infinity=9]="Infinity",G[G.NaN=10]="NaN",G[G.TimeSeparator=11]="TimeSeparator",G[G.CurrencyDecimal=12]="CurrencyDecimal",G[G.CurrencyGroup=13]="CurrencyGroup",G))();function Qt(n,e){return sr((0,a.cg1)(n)[a.wAp.DateFormat],e)}function fi(n,e){return sr((0,a.cg1)(n)[a.wAp.TimeFormat],e)}function ln(n,e){return sr((0,a.cg1)(n)[a.wAp.DateTimeFormat],e)}function $t(n,e){const t=(0,a.cg1)(n),r=t[a.wAp.NumberSymbols][e];if(void 0===r){if(e===G.CurrencyDecimal)return t[a.wAp.NumberSymbols][G.Decimal];if(e===G.CurrencyGroup)return t[a.wAp.NumberSymbols][G.Group]}return r}const zs=a.kL8;function pi(n){if(!n[a.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[a.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function sr(n,e){for(let t=e;t>-1;t--)if(void 0!==n[t])return n[t];throw new Error("Locale data API: locale data undefined")}function qn(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const Bt=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,In={},kr=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var jt=(()=>((jt=jt||{})[jt.Short=0]="Short",jt[jt.ShortGMT=1]="ShortGMT",jt[jt.Long=2]="Long",jt[jt.Extended=3]="Extended",jt))(),st=(()=>((st=st||{})[st.FullYear=0]="FullYear",st[st.Month=1]="Month",st[st.Date=2]="Date",st[st.Hours=3]="Hours",st[st.Minutes=4]="Minutes",st[st.Seconds=5]="Seconds",st[st.FractionalSeconds=6]="FractionalSeconds",st[st.Day=7]="Day",st))(),mt=(()=>((mt=mt||{})[mt.DayPeriods=0]="DayPeriods",mt[mt.Days=1]="Days",mt[mt.Months=2]="Months",mt[mt.Eras=3]="Eras",mt))();function sn(n,e,t,r){let i=function Kl(n){if(ar(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,l=1,d=1]=n.split("-").map(f=>+f);return ds(i,l-1,d)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(Bt))return function Ja(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,l=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const d=Number(n[4]||0)-t,f=Number(n[5]||0)-r,y=Number(n[6]||0),D=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return l.call(e,d,f,y,D),e}(r)}const e=new Date(n);if(!ar(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Gt(t,e)||e;let f,d=[];for(;e;){if(f=kr.exec(e),!f){d.push(e);break}{d=d.concat(f.slice(1));const b=d.pop();if(!b)break;e=b}}let y=i.getTimezoneOffset();r&&(y=Hr(r,y),i=function Qa(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Gl(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*(Hr(e,i)-i))}(i,r,!0));let D="";return d.forEach(b=>{const M=function or(n){if(Vt[n])return Vt[n];let e;switch(n){case"G":case"GG":case"GGG":e=Y(mt.Eras,W.Abbreviated);break;case"GGGG":e=Y(mt.Eras,W.Wide);break;case"GGGGG":e=Y(mt.Eras,W.Narrow);break;case"y":e=j(st.FullYear,1,0,!1,!0);break;case"yy":e=j(st.FullYear,2,0,!0,!0);break;case"yyy":e=j(st.FullYear,3,0,!1,!0);break;case"yyyy":e=j(st.FullYear,4,0,!1,!0);break;case"Y":e=ei(1);break;case"YY":e=ei(2,!0);break;case"YYY":e=ei(3);break;case"YYYY":e=ei(4);break;case"M":case"L":e=j(st.Month,1,1);break;case"MM":case"LL":e=j(st.Month,2,1);break;case"MMM":e=Y(mt.Months,W.Abbreviated);break;case"MMMM":e=Y(mt.Months,W.Wide);break;case"MMMMM":e=Y(mt.Months,W.Narrow);break;case"LLL":e=Y(mt.Months,W.Abbreviated,Z.Standalone);break;case"LLLL":e=Y(mt.Months,W.Wide,Z.Standalone);break;case"LLLLL":e=Y(mt.Months,W.Narrow,Z.Standalone);break;case"w":e=An(1);break;case"ww":e=An(2);break;case"W":e=An(1,!0);break;case"d":e=j(st.Date,1);break;case"dd":e=j(st.Date,2);break;case"c":case"cc":e=j(st.Day,1);break;case"ccc":e=Y(mt.Days,W.Abbreviated,Z.Standalone);break;case"cccc":e=Y(mt.Days,W.Wide,Z.Standalone);break;case"ccccc":e=Y(mt.Days,W.Narrow,Z.Standalone);break;case"cccccc":e=Y(mt.Days,W.Short,Z.Standalone);break;case"E":case"EE":case"EEE":e=Y(mt.Days,W.Abbreviated);break;case"EEEE":e=Y(mt.Days,W.Wide);break;case"EEEEE":e=Y(mt.Days,W.Narrow);break;case"EEEEEE":e=Y(mt.Days,W.Short);break;case"a":case"aa":case"aaa":e=Y(mt.DayPeriods,W.Abbreviated);break;case"aaaa":e=Y(mt.DayPeriods,W.Wide);break;case"aaaaa":e=Y(mt.DayPeriods,W.Narrow);break;case"b":case"bb":case"bbb":e=Y(mt.DayPeriods,W.Abbreviated,Z.Standalone,!0);break;case"bbbb":e=Y(mt.DayPeriods,W.Wide,Z.Standalone,!0);break;case"bbbbb":e=Y(mt.DayPeriods,W.Narrow,Z.Standalone,!0);break;case"B":case"BB":case"BBB":e=Y(mt.DayPeriods,W.Abbreviated,Z.Format,!0);break;case"BBBB":e=Y(mt.DayPeriods,W.Wide,Z.Format,!0);break;case"BBBBB":e=Y(mt.DayPeriods,W.Narrow,Z.Format,!0);break;case"h":e=j(st.Hours,1,-12);break;case"hh":e=j(st.Hours,2,-12);break;case"H":e=j(st.Hours,1);break;case"HH":e=j(st.Hours,2);break;case"m":e=j(st.Minutes,1);break;case"mm":e=j(st.Minutes,2);break;case"s":e=j(st.Seconds,1);break;case"ss":e=j(st.Seconds,2);break;case"S":e=j(st.FractionalSeconds,1);break;case"SS":e=j(st.FractionalSeconds,2);break;case"SSS":e=j(st.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=oe(jt.Short);break;case"ZZZZZ":e=oe(jt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=oe(jt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=oe(jt.Long);break;default:return null}return Vt[n]=e,e}(b);D+=M?M(i,t,y):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),D}function ds(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Gt(n,e){const t=function gt(n){return(0,a.cg1)(n)[a.wAp.LocaleId]}(n);if(In[t]=In[t]||{},In[t][e])return In[t][e];let r="";switch(e){case"shortDate":r=Qt(n,le.Short);break;case"mediumDate":r=Qt(n,le.Medium);break;case"longDate":r=Qt(n,le.Long);break;case"fullDate":r=Qt(n,le.Full);break;case"shortTime":r=fi(n,le.Short);break;case"mediumTime":r=fi(n,le.Medium);break;case"longTime":r=fi(n,le.Long);break;case"fullTime":r=fi(n,le.Full);break;case"short":const i=Gt(n,"shortTime"),l=Gt(n,"shortDate");r=Ya(ln(n,le.Short),[i,l]);break;case"medium":const d=Gt(n,"mediumTime"),f=Gt(n,"mediumDate");r=Ya(ln(n,le.Medium),[d,f]);break;case"long":const y=Gt(n,"longTime"),D=Gt(n,"longDate");r=Ya(ln(n,le.Long),[y,D]);break;case"full":const b=Gt(n,"fullTime"),M=Gt(n,"fullDate");r=Ya(ln(n,le.Full),[b,M])}return r&&(In[t][e]=r),r}function Ya(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function Xr(n,e,t="-",r,i){let l="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,l=t));let d=String(n);for(;d.length<e;)d="0"+d;return r&&(d=d.substr(d.length-e)),l+d}function j(n,e,t=0,r=!1,i=!1){return function(l,d){let f=function K(n,e){switch(n){case st.FullYear:return e.getFullYear();case st.Month:return e.getMonth();case st.Date:return e.getDate();case st.Hours:return e.getHours();case st.Minutes:return e.getMinutes();case st.Seconds:return e.getSeconds();case st.FractionalSeconds:return e.getMilliseconds();case st.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,l);if((t>0||f>-t)&&(f+=t),n===st.Hours)0===f&&-12===t&&(f=12);else if(n===st.FractionalSeconds)return function gi(n,e){return Xr(n,3).substr(0,e)}(f,e);const y=$t(d,G.MinusSign);return Xr(f,e,y,r,i)}}function Y(n,e,t=Z.Format,r=!1){return function(i,l){return function Te(n,e,t,r,i,l){switch(t){case mt.Months:return function Je(n,e,t){const r=(0,a.cg1)(n),l=sr([r[a.wAp.MonthsFormat],r[a.wAp.MonthsStandalone]],e);return sr(l,t)}(e,i,r)[n.getMonth()];case mt.Days:return function Le(n,e,t){const r=(0,a.cg1)(n),l=sr([r[a.wAp.DaysFormat],r[a.wAp.DaysStandalone]],e);return sr(l,t)}(e,i,r)[n.getDay()];case mt.DayPeriods:const d=n.getHours(),f=n.getMinutes();if(l){const D=function Qi(n){const e=(0,a.cg1)(n);return pi(e),(e[a.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?qn(r):[qn(r[0]),qn(r[1])])}(e),b=function Et(n,e,t){const r=(0,a.cg1)(n);pi(r);const l=sr([r[a.wAp.ExtraData][0],r[a.wAp.ExtraData][1]],e)||[];return sr(l,t)||[]}(e,i,r),M=D.findIndex(F=>{if(Array.isArray(F)){const[R,B]=F,te=d>=R.hours&&f>=R.minutes,se=d<B.hours||d===B.hours&&f<B.minutes;if(R.hours<B.hours){if(te&&se)return!0}else if(te||se)return!0}else if(F.hours===d&&F.minutes===f)return!0;return!1});if(-1!==M)return b[M]}return function rn(n,e,t){const r=(0,a.cg1)(n),l=sr([r[a.wAp.DayPeriodsFormat],r[a.wAp.DayPeriodsStandalone]],e);return sr(l,t)}(e,i,r)[d<12?0:1];case mt.Eras:return function Tn(n,e){return sr((0,a.cg1)(n)[a.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,l,n,e,t,r)}}function oe(n){return function(e,t,r){const i=-1*r,l=$t(t,G.MinusSign),d=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case jt.Short:return(i>=0?"+":"")+Xr(d,2,l)+Xr(Math.abs(i%60),2,l);case jt.ShortGMT:return"GMT"+(i>=0?"+":"")+Xr(d,1,l);case jt.Long:return"GMT"+(i>=0?"+":"")+Xr(d,2,l)+":"+Xr(Math.abs(i%60),2,l);case jt.Extended:return 0===r?"Z":(i>=0?"+":"")+Xr(d,2,l)+":"+Xr(Math.abs(i%60),2,l);default:throw new Error(`Unknown zone width "${n}"`)}}}function bn(n){return ds(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function An(n,e=!1){return function(t,r){let i;if(e){const l=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();i=1+Math.floor((d+l)/7)}else{const l=bn(t),d=function gn(n){const e=ds(n,0,1).getDay();return ds(n,0,1+(e<=4?4:11)-e)}(l.getFullYear()),f=l.getTime()-d.getTime();i=1+Math.round(f/6048e5)}return Xr(i,n,$t(r,G.MinusSign))}}function ei(n,e=!1){return function(t,r){return Xr(bn(t).getFullYear(),n,$t(r,G.MinusSign),e)}}const Vt={};function Hr(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function ar(n){return n instanceof Date&&!isNaN(n.valueOf())}class tn{}let Bn=(()=>{class n extends tn{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(zs(r||this.locale)(t)){case H.Zero:return"zero";case H.One:return"one";case H.Two:return"two";case H.Few:return"few";case H.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.soG))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Do(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(l)}return null}let Or=(()=>{class n{constructor(t,r,i,l){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=l,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,a.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,a.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.ZZ4),a.Y36(a.aQg),a.Y36(a.SBq),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Qo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let on=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,l,d)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Qo(i.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===l?void 0:l);else if(null!==l){const f=r.get(l);r.move(f,d),Zs(f,i)}});for(let i=0,l=r.length;i<l;i++){const f=r.get(i).context;f.index=i,f.count=l,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Zs(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(a.ZZ4))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Zs(n,e){n.context.$implicit=e.item}let un=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new cn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Yc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Yc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class cn{constructor(){this.$implicit=null,this.ngIf=null}}function Yc(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,a.AaK)(e)}'.`)}class To{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let mi=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const r=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),ri=(()=>{class n{constructor(t,r,i){this.ngSwitch=i,i._addCase(),this._view=new To(t,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b),a.Y36(a.Rgc),a.Y36(mi,9))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),el=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,l]=t.split(".");null!=(r=null!=r&&l?`${r}${l}`:r)?this._renderer.setStyle(this._ngEl.nativeElement,i,r):this._renderer.removeStyle(this._ngEl.nativeElement,i)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.aQg),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}}),n})(),ii=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(t){if(t.ngTemplateOutlet){const r=this._viewContainerRef;this._viewRef&&r.remove(r.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?r.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.s_b))},n.\u0275dir=a.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[a.TTD]}),n})();function er(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,a.AaK)(n)}'`)}class Jc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class gg{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const gs=new gg,mg=new Jc;let $u=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,a.QGY)(t))return gs;if((0,a.F4k)(t))return mg;throw er(n,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO,16))},n.\u0275pipe=a.Yjl({name:"async",type:n,pure:!1}),n})();const ed=/#/g;let Gs=(()=>{class n{constructor(t){this._localization=t}transform(t,r,i){if(null==t)return"";if("object"!=typeof r||null===r)throw er(n,r);return r[function Eo(n,e,t,r){let i=`=${n}`;if(e.indexOf(i)>-1||(i=t.getPluralCategory(n,r),e.indexOf(i)>-1))return i;if(e.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${n}"`)}(t,Object.keys(r),this._localization,i)].replace(ed,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(tn,16))},n.\u0275pipe=a.Yjl({name:"i18nPlural",type:n,pure:!0}),n})(),zu=(()=>{class n{transform(t,r,i){if(null==t)return null;if(!this.supports(t))throw er(n,t);return t.slice(r,i)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=a.Yjl({name:"slice",type:n,pure:!1}),n})(),Vi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[{provide:tn,useClass:Bn}]}),n})();const td="browser";function fr(n){return n===td}function qr(n){return"server"===n}let ta=(()=>{class n{}return n.\u0275prov=(0,a.Yz7)({token:n,providedIn:"root",factory:()=>new Wh((0,a.LFG)(ce),window)}),n})();class Wh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Ys(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const l=i.shadowRoot;if(l){const d=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],i-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Mn(this.window.history)||Mn(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function Mn(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sn{}class So extends class eu extends class me{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ae(n){re||(re=n)}(new So)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Rr(){return wi=wi||document.querySelector("base"),wi?wi.getAttribute("href"):null}();return null==t?null:function ra(n){na=na||document.createElement("a"),na.setAttribute("href",n);const e=na.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Do(document.cookie,e)}}let na,wi=null;const Ui=new a.OlP("TRANSITION_ID"),Wn=[{provide:a.ip1,useFactory:function Tr(n,e,t){return()=>{t.get(a.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<i.length;l++)r.remove(i[l])})}},deps:[Ui,ce,a.zs3],multi:!0}];class ia{static init(){(0,a.VLi)(new ia)}addToWindow(e){a.dqk.getAngularTestability=(r,i=!0)=>{const l=e.findTestabilityInTree(r,i);if(null==l)throw new Error("Could not find testability for element.");return l},a.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),a.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),a.dqk.frameworkStabilizers||(a.dqk.frameworkStabilizers=[]),a.dqk.frameworkStabilizers.push(r=>{const i=a.dqk.getAllAngularTestabilities();let l=i.length,d=!1;const f=function(y){d=d||y,l--,0==l&&r(d)};i.forEach(function(y){y.whenStable(f)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let rl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Ei=new a.OlP("EventManagerPlugins");let vs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let l=0;l<i.length;l++){const d=i[l];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Ei),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class il{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vt=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),sa=(()=>{class n extends vt{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(l=>{const d=this._doc.createElement("style");d.textContent=l,i.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(oa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(oa))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function oa(n){P().remove(n)}const Qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},aa=/%COMP%/g;function _n(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?_n(n,i,t):(i=i.replace(aa,n),t.push(i))}return t}function ol(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let si=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new _s(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case a.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new Gh(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case a.ifc.ShadowDom:return new nu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=_n(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(vs),a.LFG(sa),a.LFG(a.AFp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class _s{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Qs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const l=Qs[i];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Qs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(a.JOm.DashCase|a.JOm.Important)?e.style.setProperty(t,r,i&a.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&a.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ol(r)):this.eventManager.addEventListener(e,t,ol(r))}}class Gh extends _s{constructor(e,t,r,i){super(e),this.component=r;const l=_n(i+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr=function Ut(n){return"_ngcontent-%COMP%".replace(aa,n)}(i+"-"+r.id),this.hostAttr=function sd(n){return"_nghost-%COMP%".replace(aa,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class nu extends _s{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=_n(i.id,i.styles,[]);for(let d=0;d<l.length;d++){const f=document.createElement("style");f.textContent=l[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ua=(()=>{class n extends il{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const br=["alt","control","meta","shift"],ru={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ws={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Bi={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let od=(()=>{class n extends il{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const l=n.parseEventName(r),d=n.eventCallback(l.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,l.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const l=n._normalizeKey(r.pop());let d="";if(br.forEach(y=>{const D=r.indexOf(y);D>-1&&(r.splice(D,1),d+=y+".")}),d+=l,0!=r.length||0===l.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(t){let r="",i=function ca(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ws.hasOwnProperty(e)&&(e=ws[e]))}return ru[e]||e}(t);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),br.forEach(l=>{l!=i&&Bi[l](t)&&(r+=l+".")}),r+=i,r}static eventCallback(t,r,i){return l=>{n.getEventFullKey(l)===t&&i.runGuarded(()=>r(l))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Gu=(0,a.eFA)(a._c5,"browser",[{provide:a.Lbi,useValue:td},{provide:a.g9A,useValue:function Kh(){So.makeCurrent(),ia.init()},multi:!0},{provide:ce,useFactory:function Wu(){return(0,a.RDi)(document),document},deps:[]}]),Ao=[{provide:a.zSh,useValue:"root"},{provide:a.qLn,useFactory:function al(){return new a.qLn},deps:[]},{provide:Ei,useClass:ua,multi:!0,deps:[ce,a.R0b,a.Lbi]},{provide:Ei,useClass:od,multi:!0,deps:[ce]},{provide:si,useClass:si,deps:[vs,sa,a.AFp]},{provide:a.FYo,useExisting:si},{provide:vt,useExisting:sa},{provide:sa,useClass:sa,deps:[ce]},{provide:a.dDg,useClass:a.dDg,deps:[a.R0b]},{provide:vs,useClass:vs,deps:[Ei,a.R0b]},{provide:Sn,useClass:rl,deps:[]}];let ad=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:a.AFp,useValue:t.appId},{provide:Ui,useExisting:a.AFp},Wn]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(n,12))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:Ao,imports:[Vi,a.hGG]}),n})();"undefined"!=typeof window&&window;var xn=N(7579),wn=N(9751),Kn=N(3269),nn=N(8996);function _t(...n){const e=(0,Kn.yG)(n);return(0,nn.D)(n,e)}var Cs=N(4986),fa=N(3532);function Nn(n=0,e,t=Cs.P){let r=-1;return null!=e&&((0,fa.K)(e)?t=e:r=e),new wn.y(i=>{let l=function pa(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;l<0&&(l=0);let d=0;return t.schedule(function(){i.closed||(i.next(d++),0<=r?this.schedule(void 0,r):i.complete())},l)})}class Pn extends xn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Yn=N(4482),Fn=N(5403),Xi=N(8421),nf=N(5032);function Nr(n){return(0,Yn.e)((e,t)=>{(0,Xi.Xf)(n).subscribe(new Fn.Q(t,()=>t.complete(),nf.Z)),!t.closed&&e.subscribe(t)})}function ur(n,e){return(0,Yn.e)((t,r)=>{let i=null,l=0,d=!1;const f=()=>d&&!i&&r.complete();t.subscribe(new Fn.Q(r,y=>{null==i||i.unsubscribe();let D=0;const b=l++;(0,Xi.Xf)(n(y,b)).subscribe(i=new Fn.Q(r,M=>r.next(e?e(y,M,b,D++):M),()=>{i=null,f()}))},()=>{d=!0,f()}))})}var Ts=N(8189);function ji(...n){return function Mo(){return(0,Ts.J)(1)}()((0,nn.D)(n,(0,Kn.yG)(n)))}function Di(...n){const e=(0,Kn.yG)(n);return(0,Yn.e)((t,r)=>{(e?ji(n,t,e):ji(n,t)).subscribe(r)})}var es=N(576);function Zr(n,e){return(0,es.m)(e)?ur(()=>n,e):ur(()=>n)}var Qe=N(4004),hl=function(){function n(){}return n.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},n.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},n.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},n.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},n.prototype.position=function(e,t){void 0===t&&(t=!0);var r,i={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))r={top:(r=e.getBoundingClientRect()).top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var l=this.offsetParent(e);r=this.offset(e,!1),l!==document.documentElement&&(i=this.offset(l,!1)),i.top+=l.clientTop,i.left+=l.clientLeft}return r.top-=i.top,r.bottom-=i.top,r.left-=i.left,r.right-=i.left,t&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},n.prototype.offset=function(e,t){void 0===t&&(t=!0);var r=e.getBoundingClientRect(),i_top=window.pageYOffset-document.documentElement.clientTop,i_left=window.pageXOffset-document.documentElement.clientLeft,l={height:r.height||e.offsetHeight,width:r.width||e.offsetWidth,top:r.top+i_top,bottom:r.bottom+i_top,left:r.left+i_left,right:r.right+i_left};return t&&(l.height=Math.round(l.height),l.width=Math.round(l.width),l.top=Math.round(l.top),l.bottom=Math.round(l.bottom),l.left=Math.round(l.left),l.right=Math.round(l.right)),l},n.prototype.positionElements=function(e,t,r,i){var l=r.split("-"),d=l[0],f=void 0===d?"top":d,y=l[1],D=void 0===y?"center":y,b=i?this.offset(e,!1):this.position(e,!1),M=this.getAllStyles(t),F=parseFloat(M.marginTop),R=parseFloat(M.marginBottom),B=parseFloat(M.marginLeft),te=parseFloat(M.marginRight),se=0,De=0;switch(f){case"top":se=b.top-(t.offsetHeight+F+R);break;case"bottom":se=b.top+b.height;break;case"left":De=b.left-(t.offsetWidth+B+te);break;case"right":De=b.left+b.width}switch(D){case"top":se=b.top;break;case"bottom":se=b.top+b.height-t.offsetHeight;break;case"left":De=b.left;break;case"right":De=b.left+b.width-t.offsetWidth;break;case"center":"top"===f||"bottom"===f?De=b.left+b.width/2-t.offsetWidth/2:se=b.top+b.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(De)+"px, "+Math.round(se)+"px)";var Re=t.getBoundingClientRect(),Be=document.documentElement,Pe=window.innerHeight||Be.clientHeight,ct=window.innerWidth||Be.clientWidth;return Re.left>=0&&Re.top>=0&&Re.right<=ct&&Re.bottom<=Pe},n}(),ou=/\s+/,fl=new hl,tr=function(){return tr=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},tr.apply(this,arguments)},au=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;var r=Array(n),i=0;for(e=0;e<t;e++)for(var l=arguments[e],d=0,f=l.length;d<f;d++,i++)r[i]=l[d];return r},lu=(()=>{return(n=lu||(lu={}))[n.SUNDAY=0]="SUNDAY",n[n.MONDAY=1]="MONDAY",n[n.TUESDAY=2]="TUESDAY",n[n.WEDNESDAY=3]="WEDNESDAY",n[n.THURSDAY=4]="THURSDAY",n[n.FRIDAY=5]="FRIDAY",n[n.SATURDAY=6]="SATURDAY",lu;var n})(),xo=[lu.SUNDAY,lu.SATURDAY],Ci=86400;function bs(n,e){var t=e.startDate,i=e.excluded,l=e.precision;if(i.length<1)return 0;for(var f=n.getDay,y=n.addDays,D=(0,n.addSeconds)(t,e.seconds-1),b=f(t),M=f(D),F=0,R=t,B=function(){var te=f(R);i.some(function(se){return se===te})&&(F+=function ko(n,e){var r=e.day,l=e.dayEnd,d=e.startDate,f=e.endDate,y=n.differenceInSeconds,b=n.startOfDay;if("minutes"===e.precision){if(r===e.dayStart)return y((0,n.endOfDay)(d),d)+1;if(r===l)return y(f,b(f))+1}return Ci}(n,{dayStart:b,dayEnd:M,day:te,precision:l,startDate:t,endDate:D})),R=y(R,1)};R<D;)B();return F}function oi(n,e){var r=e.periodStart,i=e.periodEnd;return e.events.filter(function(l){return function pl(n,e){var t=e.event,r=e.periodStart,i=e.periodEnd,l=n.isSameSecond,d=t.start,f=t.end||t.start;return!!(d>r&&d<i||f>r&&f<i||d<r&&f>i||l(d,r)||l(d,i)||l(f,r)||l(f,i))}(n,{event:l,periodStart:r,periodEnd:i})})}function Xu(n,e){var t=e.date,r=e.weekendDays,i=void 0===r?xo:r,d=n.isSameDay,f=n.getDay,y=(0,n.startOfDay)(new Date),D=f(t);return{date:t,day:D,isPast:t<y,isToday:d(t,y),isFuture:t>y,isWeekend:i.indexOf(D)>-1}}function pd(n,e){for(var i=e.excluded,l=void 0===i?[]:i,d=e.weekendDays,f=e.viewStart,y=void 0===f?n.startOfWeek(e.viewDate,{weekStartsOn:e.weekStartsOn}):f,D=e.viewEnd,b=void 0===D?n.addDays(y,7):D,M=n.addDays,F=n.getDay,R=[],B=y;B<b;)l.some(function(te){return F(B)===te})||R.push(Xu(n,{date:B,weekendDays:d})),B=M(B,1);return R}function ec(n,e){var t=e.events,r=void 0===t?[]:t,i=e.excluded,l=void 0===i?[]:i,d=e.precision,f=void 0===d?"days":d,y=e.absolutePositionedEvents,D=void 0!==y&&y,b=e.viewStart,M=e.viewEnd;b=n.startOfDay(b),M=n.endOfDay(M);var F=n.differenceInSeconds,R=n.differenceInDays,B=function Ln(n,e){for(var r=e.date2,i=e.excluded,l=e.date1,d=0;l<r;)-1===i.indexOf(n.getDay(l))&&d++,l=n.addDays(l,1);return d}(n,{date1:b,date2:M,excluded:l}),te=R(M,b)+1,se=r.filter(function(Be){return Be.allDay}).map(function(Be){var Pe=function fd(n,e){var t=e.event,r=e.startOfWeek,i=e.excluded,l=e.precision,d=n.differenceInDays,f=n.startOfDay,y=n.differenceInSeconds;if(t.start<r)return 0;var D=0;switch(l){case"days":D=d(f(t.start),r)*Ci;break;case"minutes":D=y(t.start,r)}return D-=bs(n,{startDate:r,seconds:D,excluded:i,precision:l}),Math.abs(D/Ci)}(n,{event:Be,startOfWeek:b,excluded:l,precision:f}),ct=function Ss(n,e){var t=e.event,r=e.offset,l=e.excluded,d=e.precision,f=e.totalDaysInView,D=n.differenceInSeconds,b=n.addDays,M=n.endOfDay,F=n.differenceInDays,R=Ci,B=(0,n.max)([t.start,e.startOfWeekDate]);t.end&&(R="minutes"===d?D(t.end,B):F(b(M(t.end),1),B)*Ci);var te=r*Ci,De=f*Ci;return te+R>De&&(R=De-te),(R-=bs(n,{startDate:B,seconds:R,excluded:l,precision:d}))/Ci}(n,{event:Be,offset:Pe,startOfWeekDate:b,excluded:l,precision:f,totalDaysInView:te});return{event:Be,offset:Pe,span:ct}}).filter(function(Be){return Be.offset<B}).filter(function(Be){return Be.span>0}).map(function(Be){return{event:Be.event,offset:Be.offset,span:Be.span,startsBeforeWeek:Be.event.start<b,endsAfterWeek:(Be.event.end||Be.event.start)>M}}).sort(function(Be,Pe){var ct=F(Be.event.start,Pe.event.start);return 0===ct?F(Pe.event.end||Pe.event.start,Be.event.end||Be.event.start):ct}),De=[],Re=[];return se.forEach(function(Be,Pe){if(-1===Re.indexOf(Be)){Re.push(Be);var ct=Be.span+Be.offset,Ft=se.slice(Pe+1).filter(function(Ot){if(Ot.offset>=ct&&ct+Ot.span<=te&&-1===Re.indexOf(Ot)){var It=Ot.offset-ct;return D||(Ot.offset=It),ct+=Ot.span+It,Re.push(Ot),!0}}),Yt=au([Be],Ft),qt=Yt.filter(function(Ot){return Ot.event.id}).map(function(Ot){return Ot.event.id}).join("-");De.push(tr({row:Yt},qt?{id:qt}:{}))}}),De}function gd(n,e){var t=e.events,r=e.viewDate,i=e.hourSegments,l=e.hourDuration,d=e.dayStart,f=e.dayEnd,y=e.weekStartsOn,D=e.excluded,b=e.weekendDays,M=e.segmentHeight,F=e.viewStart,R=e.viewEnd,B=e.minimumEventHeight,te=function rf(n,e){var t=e.viewDate,r=e.hourSegments,i=e.hourDuration,l=e.dayStart,d=e.dayEnd,f=n.setMinutes,y=n.setHours,D=n.startOfDay,b=n.startOfMinute,M=n.endOfDay,F=n.addMinutes,B=n.addDays,te=[],se=f(y(D(t),cu(l.hour)),Is(l.minute)),De=f(y(b(M(t)),cu(d.hour)),Is(d.minute)),Re=(i||60)/r,Be=D(t),Pe=M(t),ct=function(dt){return dt};n.getTimezoneOffset(Be)!==n.getTimezoneOffset(Pe)&&(Be=B(Be,1),se=B(se,1),De=B(De,1),ct=function(dt){return B(dt,-1)});for(var Ft=i?1440/i:60,Yt=0;Yt<Ft;Yt++){for(var qt=[],Ot=0;Ot<r;Ot++){var It=F(F(se,Yt*(i||60)),Ot*Re);It>=se&&It<De&&qt.push({date:ct(It),displayDate:It,isStart:0===Ot})}qt.length>0&&te.push({segments:qt})}return te}(n,{viewDate:r,hourSegments:i,hourDuration:l,dayStart:d,dayEnd:f}),se=pd(n,{viewDate:r,weekStartsOn:y,excluded:D,weekendDays:b,viewStart:F,viewEnd:R}),De=n.setHours,Re=n.setMinutes,Be=n.getHours,Pe=n.getMinutes;return se.map(function(ct){var Ft=function Jy(n,e){var t=e.events,r=e.viewDate,i=e.hourSegments,l=e.dayStart,d=e.dayEnd,f=e.eventWidth,y=e.segmentHeight,D=e.hourDuration,b=e.minimumEventHeight,M=n.setMinutes,F=n.setHours,R=n.startOfDay,B=n.startOfMinute,te=n.endOfDay,se=n.differenceInMinutes,De=M(F(R(r),cu(l.hour)),Is(l.minute)),Re=M(F(B(te(r)),cu(d.hour)),Is(d.minute));Re.setSeconds(59,999);var Be=[],Pe=oi(n,{events:t.filter(function(qt){return!qt.allDay}),periodStart:De,periodEnd:Re}),ct=Pe.sort(function(qt,Ot){return qt.start.valueOf()-Ot.start.valueOf()}).map(function(qt){var Ot=qt.start,It=qt.end||Ot,dt=Ot<De,We=It>Re,fn=i*y/(D||60),yn=0;if(Ot>De){var hg=n.getTimezoneOffset(Ot),wt=n.getTimezoneOffset(De)-hg;yn+=se(Ot,De)+wt}yn*=fn,yn=Math.floor(yn);var Tt=dt?De:Ot,en=We?Re:It,pn=n.getTimezoneOffset(Tt)-n.getTimezoneOffset(en),hr=se(en,Tt)+pn;qt.end?hr*=fn:hr=y,b&&hr<b&&(hr=b),hr=Math.floor(hr);for(var Ka=md(Be,yn,yn+hr),zn=0;Ka.some(function(tk){return tk.left===zn});)zn+=f;var N0={event:qt,height:hr,width:f,top:yn,left:zn,startsBeforeDay:dt,endsAfterDay:We};return Be.push(N0),N0}),Ft=Math.max.apply(Math,ct.map(function(qt){return qt.left+qt.width})),Yt=oi(n,{events:t.filter(function(qt){return qt.allDay}),periodStart:R(De),periodEnd:te(Re)});return{events:ct,width:Ft,allDayEvents:Yt,period:{events:Pe,start:De,end:Re}}}(n,{events:t,viewDate:ct.date,hourSegments:i,dayStart:d,dayEnd:f,segmentHeight:M,eventWidth:1,hourDuration:l,minimumEventHeight:B}),Yt=te.map(function(It){var dt=It.segments.map(function(We){var fn=Re(De(ct.date,Be(We.date)),Pe(We.date));return tr(tr({},We),{date:fn})});return tr(tr({},It),{segments:dt})});function qt(It,dt){var We=Math.max.apply(Math,dt.map(function(yn){return yn.left+1})),fn=It.filter(function(yn){return yn.left>=We}).filter(function(yn){return md(dt,yn.top,yn.top+yn.height).length>0});return fn.length>0?qt(It,fn):We}var Ot=Ft.events.map(function(It){var We=100/qt(Ft.events,md(Ft.events,It.top,It.top+It.height));return tr(tr({},It),{left:It.left*We,width:We})});return{hours:Yt,date:ct.date,events:Ot.map(function(It){var dt=md(Ot.filter(function(We){return We.left>It.left}),It.top,It.top+It.height);return dt.length>0?tr(tr({},It),{width:Math.min.apply(Math,dt.map(function(We){return We.left}))-It.left}):It})}})}function md(n,e,t){return n.filter(function(r){var i=r.top,l=r.top+r.height;return e<l&&l<t||e<i&&i<t||i<=e&&t<=l})}function cu(n){return Math.max(Math.min(23,n),0)}function Is(n){return Math.max(Math.min(59,n),0)}var En=(()=>{return(n=En||(En={})).NotArray="Events must be an array",n.StartPropertyMissing="Event is missing the `start` property",n.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",n.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",n.EndsBeforeStart="Event `start` property occurs after the `end`",En;var n})(),ml=N(6063);class tc extends xn.x{constructor(e=1/0,t=1/0,r=ml.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:l,_windowTime:d}=this;t||(r.push(e),!i&&r.push(l.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,l=i.slice();for(let d=0;d<l.length&&!e.closed;d+=r?1:2)e.next(l[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,l=(i?1:2)*e;if(e<1/0&&l<r.length&&r.splice(0,r.length-l),!i){const d=t.now();let f=0;for(let y=1;y<r.length&&r[y]<=d;y+=2)f=y;f&&r.splice(0,f+1)}}}var ts=N(6451);const{isArray:Wr}=Array,{getPrototypeOf:As,prototype:du,keys:Oo}=Object;function no(n){if(1===n.length){const e=n[0];if(Wr(e))return{args:e,keys:null};if(function yd(n){return n&&"object"==typeof n&&As(n)===du}(e)){const t=Oo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ro=N(4671);const{isArray:ma}=Array;function yl(n){return(0,Qe.U)(e=>function ro(n,e){return ma(e)?n(...e):n(e)}(n,e))}function vl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Gr=N(9672);function No(...n){const e=(0,Kn.yG)(n),t=(0,Kn.jO)(n),{args:r,keys:i}=no(n);if(0===r.length)return(0,nn.D)([],e);const l=new wn.y(function ns(n,e,t=Ro.y){return r=>{sf(e,()=>{const{length:i}=n,l=new Array(i);let d=i,f=i;for(let y=0;y<i;y++)sf(e,()=>{const D=(0,nn.D)(n[y],e);let b=!1;D.subscribe(new Fn.Q(r,M=>{l[y]=M,b||(b=!0,f--),f||r.next(t(l.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,i?d=>vl(i,d):Ro.y));return t?l.pipe(yl(t)):l}function sf(n,e,t){n?(0,Gr.f)(t,n,e):e()}var Qn=N(5577),Sg=N(1144);const nc=["addListener","removeListener"],af=["addEventListener","removeEventListener"],io=["on","off"];function ya(n,e,t,r){if((0,es.m)(t)&&(r=t,t=void 0),r)return ya(n,e,t).pipe(yl(r));const[i,l]=function rc(n){return(0,es.m)(n.addEventListener)&&(0,es.m)(n.removeEventListener)}(n)?af.map(d=>f=>n[d](e,f,t)):function wl(n){return(0,es.m)(n.addListener)&&(0,es.m)(n.removeListener)}(n)?nc.map(_l(n,e)):function rs(n){return(0,es.m)(n.on)&&(0,es.m)(n.off)}(n)?io.map(_l(n,e)):[];if(!i&&(0,Sg.z)(n))return(0,Qn.z)(d=>ya(d,e,t))((0,Xi.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new wn.y(d=>{const f=(...y)=>d.next(1<y.length?y:y[0]);return i(f),()=>l(f)})}function _l(n,e){return t=>r=>n[t](e,r)}function Jt(n,e){return(0,Yn.e)((t,r)=>{let i=0;t.subscribe(new Fn.Q(r,l=>n.call(e,l,i++)&&r.next(l)))})}var Hi=N(3099),Pr=N(5698),Ms=N(515);function va(n){return n<=0?()=>Ms.E:(0,Yn.e)((e,t)=>{let r=[];e.subscribe(new Fn.Q(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function vd(n,e,t,r,i){return(l,d)=>{let f=t,y=e,D=0;l.subscribe(new Fn.Q(d,b=>{const M=D++;y=f?n(y,b,M):(f=!0,b),r&&d.next(y)},i&&(()=>{f&&d.next(y),d.complete()})))}}function S(){return(0,Yn.e)((n,e)=>{let t,r=!1;n.subscribe(new Fn.Q(e,i=>{const l=t;t=i,r&&e.next([l,i]),r=!0}))})}function k(n,e=Ro.y){return n=null!=n?n:U,(0,Yn.e)((t,r)=>{let i,l=!0;t.subscribe(new Fn.Q(r,d=>{const f=e(d);(l||!n(i,f))&&(l=!1,i=f,r.next(d))}))})}function U(n,e){return n===e}function pe(n,e){return n=function Q(n,e){return void 0===n?void 0===e?n:e:n}(n,e),"function"==typeof n?function(){for(var r=arguments,i=arguments.length,l=Array(i),d=0;d<i;d++)l[d]=r[d];return!!n.apply(this,l)}:n?function(){return!0}:function(){return!1}}var ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol?"symbol":typeof n},Xe=function(n){return null!=n&&"object"===(void 0===n?"undefined":ke(n))&&1===n.nodeType&&"object"===ke(n.style)&&"object"===ke(n.ownerDocument)};function Ke(n,e){if(e=mn(e,!0),!Xe(e))return-1;for(var t=0;t<n.length;t++)if(n[t]===e)return t;return-1}function zt(n,e){return-1!==Ke(n,e)}function Dn(n,e){for(var t=0;t<e.length;t++)zt(n,e[t])||n.push(e[t]);return e}function Fr(n){for(var e=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=e[r+1];return Dn(n,t=t.map(mn))}function nr(n){for(var e=arguments,t=[],r=arguments.length-1;r-- >0;)t[r]=e[r+1];return t.map(mn).reduce(function(i,l){var d=Ke(n,l);return-1!==d?i.concat(n.splice(d,1)):i},[])}function mn(n,e){if("string"==typeof n)try{return document.querySelector(n)}catch(t){throw t}if(!Xe(n)&&!e)throw new TypeError(n+" is not a DOM element.");return n}function wa(n){if(n===window)return function is(){var n={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},n);var e={};return Object.defineProperties(e,n),e}();try{var e=n.getBoundingClientRect();return void 0===e.x&&(e.x=e.left,e.y=e.top),e}catch(t){throw new TypeError("Can't call getBoundingClientRect on "+n)}}var e,$i=void 0;"function"!=typeof Object.create?(e=function(){},$i=function(t,r){if(t!==Object(t)&&null!==t)throw TypeError("Argument must be an object, or null");e.prototype=t||{};var i=new e;return e.prototype=null,void 0!==r&&Object.defineProperties(i,r),null===t&&(i.__proto__=null),i}):$i=Object.create;var Ea=$i,Da=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function ic(n,e){e=e||{};for(var t=Ea(n),r=0;r<Da.length;r++)void 0!==e[Da[r]]&&(t[Da[r]]=e[Da[r]]);return t}function Ca(n,e){console.log("data ",e),n.data=e||{},n.dispatched="mousemove"}var Po=["webkit","moz","ms","o"],sc=function(){if("undefined"==typeof window)return function(){};for(var n=0,e=Po.length;n<e&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[Po[n]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var t=0;window.requestAnimationFrame=function(r){var i=(new Date).getTime(),l=Math.max(0,16-i-t),d=window.setTimeout(function(){return r(i+l)},l);return t=i+l,d}}return window.requestAnimationFrame.bind(window)}(),El=function(){if("undefined"==typeof window)return function(){};for(var n=0,e=Po.length;n<e&&!window.cancelAnimationFrame;++n)window.cancelAnimationFrame=window[Po[n]+"CancelAnimationFrame"]||window[Po[n]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){window.clearTimeout(t)}),window.cancelAnimationFrame.bind(window)}();function Ag(n,e){void 0===e&&(e={});var t=this,r=4,i=!1;if("object"!=typeof e.margin){var l=e.margin||-1;this.margin={left:l,right:l,top:l,bottom:l}}else this.margin=e.margin;this.scrollWhenOutside=e.scrollWhenOutside||!1;var d={},f=function _a(n,e){var t=pe((e=e||{}).allowUpdate,!0);return function(i){if(i=i||window.event,n.target=i.target||i.srcElement||i.originalTarget,n.element=this,n.type=i.type,t(i)){if(i.targetTouches)n.x=i.targetTouches[0].clientX,n.y=i.targetTouches[0].clientY,n.pageX=i.targetTouches[0].pageX,n.pageY=i.targetTouches[0].pageY,n.screenX=i.targetTouches[0].screenX,n.screenY=i.targetTouches[0].screenY;else{if(null===i.pageX&&null!==i.clientX){var l=i.target&&i.target.ownerDocument||document,d=l.documentElement,f=l.body;n.pageX=i.clientX+(d&&d.scrollLeft||f&&f.scrollLeft||0)-(d&&d.clientLeft||f&&f.clientLeft||0),n.pageY=i.clientY+(d&&d.scrollTop||f&&f.scrollTop||0)-(d&&d.clientTop||f&&f.clientTop||0)}else n.pageX=i.pageX,n.pageY=i.pageY;n.x=i.clientX,n.y=i.clientY,n.screenX=i.screenX,n.screenY=i.screenY}n.clientX=n.x,n.clientY=n.y}}}(d),y=function Ig(n){var e={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function t(l){for(var d=0;d<Da.length;d++)e[Da[d]]=l[Da[d]]}return void 0!==n&&n.addEventListener("mousemove",t),{destroy:function i(){n&&n.removeEventListener("mousemove",t,!1),e=null},dispatch:MouseEvent?function(d,f,y){var D=new MouseEvent("mousemove",ic(e,f));return Ca(D,y),d.dispatchEvent(D)}:"function"==typeof document.createEvent?function(d,f,y){var D=ic(e,f),b=document.createEvent("MouseEvents");return b.initMouseEvent("mousemove",!0,!0,window,0,D.screenX,D.screenY,D.clientX,D.clientY,D.ctrlKey,D.altKey,D.shiftKey,D.metaKey,D.button,D.relatedTarget),Ca(b,y),d.dispatchEvent(b)}:"function"==typeof document.createEventObject?function(d,f,y){var D=document.createEventObject(),b=ic(e,f);for(var M in b)D[M]=b[M];return Ca(D,y),d.dispatchEvent(D)}:void 0}}(),D=!1;window.addEventListener("mousemove",f,!1),window.addEventListener("touchmove",f,!1),isNaN(e.maxSpeed)||(r=e.maxSpeed),"object"!=typeof r&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=pe(e.autoScroll),this.syncMove=pe(e.syncMove,!1),this.destroy=function(dt){window.removeEventListener("mousemove",f,!1),window.removeEventListener("touchmove",f,!1),window.removeEventListener("mousedown",te,!1),window.removeEventListener("touchstart",te,!1),window.removeEventListener("mouseup",se,!1),window.removeEventListener("touchend",se,!1),window.removeEventListener("pointerup",se,!1),window.removeEventListener("mouseleave",Re,!1),window.removeEventListener("mousemove",ct,!1),window.removeEventListener("touchmove",ct,!1),window.removeEventListener("scroll",B,!0),n=[],dt&&De()},this.add=function(){for(var dt=[],We=arguments.length;We--;)dt[We]=arguments[We];return Fr.apply(void 0,[n].concat(dt)),this},this.remove=function(){for(var dt=[],We=arguments.length;We--;)dt[We]=arguments[We];return nr.apply(void 0,[n].concat(dt))};var M,dt,b=null;"[object Array]"!==Object.prototype.toString.call(n)&&(n=[n]),dt=n,n=[],dt.forEach(function(We){We===window?b=window:t.add(We)}),Object.defineProperties(this,{down:{get:function(){return D}},maxSpeed:{get:function(){return r}},point:{get:function(){return d}},scrolling:{get:function(){return i}}});var R,F=null;function B(dt){for(var We=0;We<n.length;We++)if(n[We]===dt.target){i=!0;break}i&&sc(function(){return i=!1})}function te(){D=!0}function se(){D=!1,De()}function De(){El(R),El(M)}function Re(){D=!1}function Pe(){for(var dt=null,We=0;We<n.length;We++)Mg(d,n[We])&&(dt=n[We]);return dt}function ct(dt){if(t.autoScroll()&&!dt.dispatched){var We=dt.target,fn=document.body;F&&!Mg(d,F)&&(t.scrollWhenOutside||(F=null)),We&&We.parentNode===fn?We=Pe():(We=function Be(dt){if(!dt)return null;if(F===dt||zt(n,dt))return dt;for(;dt=dt.parentNode;)if(zt(n,dt))return dt;return null}(We),We||(We=Pe())),We&&We!==F&&(F=We),b&&(El(M),M=sc(Ft)),F&&(El(R),R=sc(Yt))}}function Ft(){qt(b),El(M),M=sc(Ft)}function Yt(){!F||(qt(F),El(R),R=sc(Yt))}function qt(dt){var fn,yn,We=wa(dt);fn=d.x<We.left+t.margin.left?Math.floor(Math.max(-1,(d.x-We.left)/t.margin.left-1)*t.maxSpeed.left):d.x>We.right-t.margin.right?Math.ceil(Math.min(1,(d.x-We.right)/t.margin.right+1)*t.maxSpeed.right):0,yn=d.y<We.top+t.margin.top?Math.floor(Math.max(-1,(d.y-We.top)/t.margin.top-1)*t.maxSpeed.top):d.y>We.bottom-t.margin.bottom?Math.ceil(Math.min(1,(d.y-We.bottom)/t.margin.bottom+1)*t.maxSpeed.bottom):0,t.syncMove()&&y.dispatch(dt,{pageX:d.pageX+fn,pageY:d.pageY+yn,clientX:d.x+fn,clientY:d.y+yn}),setTimeout(function(){yn&&function Ot(dt,We){dt===window?window.scrollTo(dt.pageXOffset,dt.pageYOffset+We):dt.scrollTop+=We}(dt,yn),fn&&function It(dt,We){dt===window?window.scrollTo(dt.pageXOffset+We,dt.pageYOffset):dt.scrollLeft+=We}(dt,fn)})}window.addEventListener("mousedown",te,!1),window.addEventListener("touchstart",te,!1),window.addEventListener("mouseup",se,!1),window.addEventListener("touchend",se,!1),window.addEventListener("pointerup",se,!1),window.addEventListener("mousemove",ct,!1),window.addEventListener("touchmove",ct,!1),window.addEventListener("mouseleave",Re,!1),window.addEventListener("scroll",B,!0)}function Mg(n,e,t){return t?n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right:function xs(n,e){var t=wa(e);return n.y>t.top&&n.y<t.bottom&&n.x>t.left&&n.x<t.right}(n,e)}function hu(n,e,t){t&&t.split(" ").forEach(r=>n.addClass(e.nativeElement,r))}function wd(n,e,t){t&&t.split(" ").forEach(r=>n.removeClass(e.nativeElement,r))}let oc=(()=>{class n{constructor(){this.currentDrag=new xn.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ed=(()=>{class n{constructor(t){this.elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlDraggableScrollContainer",""]]}),n})(),Ta=(()=>{class n{constructor(t,r,i,l,d,f,y){this.element=t,this.renderer=r,this.draggableHelper=i,this.zone=l,this.vcr=d,this.scrollContainer=f,this.document=y,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new a.vpe,this.dragStart=new a.vpe,this.ghostElementCreated=new a.vpe,this.dragging=new a.vpe,this.dragEnd=new a.vpe,this.pointerDown$=new xn.x,this.pointerMove$=new xn.x,this.pointerUp$=new xn.x,this.eventListenerSubscriptions={},this.destroy$=new xn.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const t=this.pointerDown$.pipe(Jt(()=>this.canDrag()),(0,Qn.z)(r=>{r.event.stopPropagation&&!this.scrollContainer&&r.event.stopPropagation();const i=this.renderer.createElement("style");this.renderer.setAttribute(i,"type","text/css"),this.renderer.appendChild(i,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(i)});const l=this.getScrollPosition(),d=new wn.y(R=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",te=>R.next(te))).pipe(Di(l),(0,Qe.U)(()=>this.getScrollPosition())),f=new xn.x,y=new tc;this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const D=(0,ts.T)(this.pointerUp$,this.pointerDown$,y,this.destroy$).pipe((0,Hi.B)()),b=No([this.pointerMove$,d]).pipe((0,Qe.U)(([R,B])=>({currentDrag$:f,transformX:R.clientX-r.clientX,transformY:R.clientY-r.clientY,clientX:R.clientX,clientY:R.clientY,scrollLeft:B.left,scrollTop:B.top,target:R.event.target})),(0,Qe.U)(R=>(this.dragSnapGrid.x&&(R.transformX=Math.round(R.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(R.transformY=Math.round(R.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),R)),(0,Qe.U)(R=>(this.dragAxis.x||(R.transformX=0),this.dragAxis.y||(R.transformY=0),R)),(0,Qe.U)(R=>{const B=R.scrollLeft-l.left,te=R.scrollTop-l.top;return Object.assign(Object.assign({},R),{x:R.transformX+B,y:R.transformY+te})}),Jt(({x:R,y:B,transformX:te,transformY:se})=>!this.validateDrag||this.validateDrag({x:R,y:B,transform:{x:te,y:se}})),Nr(D),(0,Hi.B)()),M=b.pipe((0,Pr.q)(1),(0,Hi.B)()),F=b.pipe(va(1),(0,Hi.B)());return M.subscribe(({clientX:R,clientY:B,x:te,y:se})=>{if(this.zone.run(()=>{this.dragStart.next({cancelDrag$:y})}),this.scroller=function Xy(n,e){return new Ag(n,e)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),hu(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const De=this.element.nativeElement.getBoundingClientRect(),Re=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(Re):this.element.nativeElement.parentNode.insertBefore(Re,this.element.nativeElement.nextSibling),this.ghostElement=Re,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(Re,{position:"fixed",top:`${De.top}px`,left:`${De.left}px`,width:`${De.width}px`,height:`${De.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const Be=this.vcr.createEmbeddedView(this.ghostElementTemplate);Re.innerHTML="",Be.rootNodes.filter(Pe=>Pe instanceof Node).forEach(Pe=>{Re.appendChild(Pe)}),F.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(Be))})}this.zone.run(()=>{this.ghostElementCreated.emit({clientX:R-te,clientY:B-se,element:Re})}),F.subscribe(()=>{Re.parentElement.removeChild(Re),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(f)}),F.pipe((0,Qn.z)(R=>{const B=y.pipe(function T(n){return function _d(n,e){return(0,Yn.e)(vd(n,e,arguments.length>=2,!1,!0))}((e,t,r)=>!n||n(t,r)?e+1:e,0)}(),(0,Pr.q)(1),(0,Qe.U)(te=>Object.assign(Object.assign({},R),{dragCancelled:te>0})));return y.complete(),B})).subscribe(({x:R,y:B,dragCancelled:te})=>{this.scroller.destroy(),this.zone.run(()=>{this.dragEnd.next({x:R,y:B,dragCancelled:te})}),wd(this.renderer,this.element,this.dragActiveClass),f.complete()}),(0,ts.T)(D,F).pipe((0,Pr.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(i)})}),b}),(0,Hi.B)());(0,ts.T)(t.pipe((0,Pr.q)(1),(0,Qe.U)(r=>[,r])),t.pipe(S())).pipe(Jt(([r,i])=>!r||r.x!==i.x||r.y!==i.y),(0,Qe.U)(([r,i])=>i)).subscribe(({x:r,y:i,currentDrag$:l,clientX:d,clientY:f,transformX:y,transformY:D,target:b})=>{this.zone.run(()=>{this.dragging.next({x:r,y:i})}),requestAnimationFrame(()=>{if(this.ghostElement){const M=`translate3d(${y}px, ${D}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:M,"-webkit-transform":M,"-ms-transform":M,"-moz-transform":M,"-o-transform":M})}}),l.next({clientX:d,clientY:f,dropData:this.dropData,target:b})})}ngOnChanges(t){t.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const t=this.canDrag(),r=Object.keys(this.eventListenerSubscriptions).length>0;t&&!r?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",i=>{this.onMouseDown(i)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",i=>{this.onMouseUp(i)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",i=>{this.onTouchStart(i)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",i=>{this.onTouchEnd(i)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!t&&r&&this.unsubscribeEventListeners()}onMouseDown(t){0===t.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",r=>{this.pointerMove$.next({event:r,clientX:r.clientX,clientY:r.clientY})})),this.pointerDown$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onMouseUp(t){0===t.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:t,clientX:t.clientX,clientY:t.clientY}))}onTouchStart(t){let r,i,l;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),i=!1,l=this.hasScrollbar(),r=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const d=ya(this.document,"contextmenu").subscribe(y=>{y.preventDefault()}),f=ya(this.document,"touchmove",{passive:!1}).subscribe(y=>{this.touchStartLongPress&&!i&&l&&(i=this.shouldBeginDrag(t,y,r)),(!this.touchStartLongPress||!l||i)&&(y.preventDefault(),this.pointerMove$.next({event:y,clientX:y.targetTouches[0].clientX,clientY:y.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{d.unsubscribe(),f.unsubscribe()}}this.pointerDown$.next({event:t,clientX:t.touches[0].clientX,clientY:t.touches[0].clientY})}onTouchEnd(t){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:t,clientX:t.changedTouches[0].clientX,clientY:t.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(t){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",t)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(t=>{this.eventListenerSubscriptions[t](),delete this.eventListenerSubscriptions[t]})}setElementStyles(t,r){Object.keys(r).forEach(i=>{this.renderer.setStyle(t,i,r[i])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(t,r,i){const l=this.getScrollPosition(),d_top=Math.abs(l.top-i.top),d_left=Math.abs(l.left-i.left),f=Math.abs(r.targetTouches[0].clientX-t.touches[0].clientX)-d_left,y=Math.abs(r.targetTouches[0].clientY-t.touches[0].clientY)-d_top,b=this.touchStartLongPress;return(f+y>b.delta||d_top>0||d_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=b.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const t=this.getScrollElement();return t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.Qsj),a.Y36(oc),a.Y36(a.R0b),a.Y36(a.s_b),a.Y36(Ed,8),a.Y36(ce))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[a.TTD]}),n})();function xg(n,e,t){return n>=t.left&&n<=t.right&&e>=t.top&&e<=t.bottom}let lf=(()=>{class n{constructor(t,r,i,l,d){this.element=t,this.draggableHelper=r,this.zone=i,this.renderer=l,this.scrollContainer=d,this.dragEnter=new a.vpe,this.dragLeave=new a.vpe,this.dragOver=new a.vpe,this.drop=new a.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(t=>{hu(this.renderer,this.element,this.dragActiveClass);const r={updateCache:!0},i=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{r.updateCache=!0});let l;const d=t.pipe((0,Qe.U)(({clientX:D,clientY:b,dropData:M,target:F})=>{l=M,r.updateCache&&(r.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(r.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),r.updateCache=!1);const R=xg(D,b,r.rect),B=!this.validateDrop||this.validateDrop({clientX:D,clientY:b,target:F});return r.scrollContainerRect?R&&B&&xg(D,b,r.scrollContainerRect):R&&B})),f=d.pipe(k());let y;f.pipe(Jt(D=>D)).subscribe(()=>{y=!0,hu(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragEnter.next({dropData:l})})}),d.pipe(Jt(D=>D)).subscribe(()=>{this.zone.run(()=>{this.dragOver.next({dropData:l})})}),f.pipe(S(),Jt(([D,b])=>D&&!b)).subscribe(()=>{y=!1,wd(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.dragLeave.next({dropData:l})})}),t.subscribe({complete:()=>{i(),wd(this.renderer,this.element,this.dragActiveClass),y&&(wd(this.renderer,this.element,this.dragOverClass),this.zone.run(()=>{this.drop.next({dropData:l})}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(oc),a.Y36(a.R0b),a.Y36(a.Qsj),a.Y36(Ed,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),n})(),uf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();class ac{}const so="*";function cf(n,e=null){return{type:4,styles:e,timings:n}}function Og(n,e=null){return{type:2,steps:n,options:e}}function uc(n){return{type:6,styles:n,offset:null}}function Rg(n,e,t){return{type:0,name:n,styles:e,options:t}}function Ng(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Pg(n){Promise.resolve(null).then(n)}class cc{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class df{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const l=this.players.length;0==l?Pg(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==l&&this._onFinish()}),d.onDestroy(()=>{++r==l&&this._onDestroy()}),d.onStart(()=>{++i==l&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}var ai=N(8505);const ba="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function Fg(n,e,t,r){const i=e.querySelectorAll(n);if(i.length){const l=t.querySelectorAll(n);for(let d=0;d<i.length;d++)r(i[d],l[d])}}let U0=0;function iv(n,e){"file"!==e.type&&(e.value=n.value),"radio"===e.type&&e.name&&(e.name=`mat-clone-${e.name}-${U0++}`)}function ks(n,e){const t=e.getContext("2d");if(t)try{t.drawImage(n,0,0)}catch(r){}}function hf(n,e,t,r){const i={top:n.top,bottom:n.bottom,left:n.left,right:n.right};return e.top&&(i.top+=r),e.bottom&&(i.bottom+=r),e.left&&(i.left+=t),e.right&&(i.right+=t),i.height=i.bottom-i.top,i.width=i.right-i.left,i}const Sa=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function ff(n,e){return n.left&&n.top?e.topLeft:n.right&&n.top?e.topRight:n.left&&n.bottom?e.bottomLeft:n.right&&n.bottom?e.bottomRight:n.left||n.right?e.leftOrRight:n.top||n.bottom?e.topOrBottom:""}function Cl({edges:n,initialRectangle:e,newRectangle:t}){const r={};return Object.keys(n).forEach(i=>{r[i]=(t[i]||0)-(e[i]||0)}),r}const pf="resize-active";let sv=(()=>{class n{constructor(t,r,i,l){this.platformId=t,this.renderer=r,this.elm=i,this.zone=l,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Sa,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new a.vpe,this.resizing=new a.vpe,this.resizeEnd=new a.vpe,this.mouseup=new xn.x,this.mousedown=new xn.x,this.mousemove=new xn.x,this.destroy$=new xn.x,this.pointerEventListeners=Ia.getInstance(r,l)}ngOnInit(){const t=(0,ts.T)(this.pointerEventListeners.pointerDown,this.mousedown),r=(0,ts.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,ai.b)(({event:D})=>{if(l)try{D.preventDefault()}catch(b){}}),(0,Hi.B)()),i=(0,ts.T)(this.pointerEventListeners.pointerUp,this.mouseup);let l;const d=()=>{l&&l.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(l.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},f=()=>Object.assign(Object.assign({},Sa),this.resizeCursors);t.pipe((0,Qn.z)(D=>{function b(R){return{clientX:R.clientX-D.clientX,clientY:R.clientY-D.clientY}}const M=()=>{const R={x:1,y:1};return l&&(this.resizeSnapGrid.left&&l.edges.left?R.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&l.edges.right&&(R.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&l.edges.top?R.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&l.edges.bottom&&(R.y=+this.resizeSnapGrid.bottom)),R};function F(R,B){return{x:Math.ceil(R.clientX/B.x),y:Math.ceil(R.clientY/B.y)}}return(0,ts.T)(r.pipe((0,Pr.q)(1)).pipe((0,Qe.U)(R=>[,R])),r.pipe(S())).pipe((0,Qe.U)(([R,B])=>[R&&b(R),b(B)])).pipe(Jt(([R,B])=>{if(!R)return!0;const te=M(),se=F(R,te),De=F(B,te);return se.x!==De.x||se.y!==De.y})).pipe((0,Qe.U)(([,R])=>{const B=M();return{clientX:Math.round(R.clientX/B.x)*B.x,clientY:Math.round(R.clientY/B.y)*B.y}})).pipe(Nr((0,ts.T)(i,t)))})).pipe(Jt(()=>!!l)).pipe((0,Qe.U)(({clientX:D,clientY:b})=>hf(l.startingRect,l.edges,D,b))).pipe(Jt(D=>this.allowNegativeResizes||!!(D.height&&D.width&&D.height>0&&D.width>0))).pipe(Jt(D=>!this.validateResize||this.validateResize({rectangle:D,edges:Cl({edges:l.edges,initialRectangle:l.startingRect,newRectangle:D})})),Nr(this.destroy$)).subscribe(D=>{l&&l.clonedNode&&(this.renderer.setStyle(l.clonedNode,"height",`${D.height}px`),this.renderer.setStyle(l.clonedNode,"width",`${D.width}px`),this.renderer.setStyle(l.clonedNode,"top",`${D.top}px`),this.renderer.setStyle(l.clonedNode,"left",`${D.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Cl({edges:l.edges,initialRectangle:l.startingRect,newRectangle:D}),rectangle:D})}),l.currentRect=D}),t.pipe((0,Qe.U)(({edges:D})=>D||{}),Jt(D=>Object.keys(D).length>0),Nr(this.destroy$)).subscribe(D=>{l&&d();const b=function oo(n,e){let t=0,r=0;const i=n.nativeElement.style,d=["transform","-ms-transform","-moz-transform","-o-transform"].map(f=>i[f]).find(f=>!!f);if(d&&d.includes("translate")&&(t=d.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=d.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===e)return{height:n.nativeElement.offsetHeight,width:n.nativeElement.offsetWidth,top:n.nativeElement.offsetTop-r,bottom:n.nativeElement.offsetHeight+n.nativeElement.offsetTop-r,left:n.nativeElement.offsetLeft-t,right:n.nativeElement.offsetWidth+n.nativeElement.offsetLeft-t};{const f=n.nativeElement.getBoundingClientRect();return{height:f.height,width:f.width,top:f.top-r,bottom:f.bottom-r,left:f.left-t,right:f.right-t,scrollTop:n.nativeElement.scrollTop,scrollLeft:n.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);l={edges:D,startingRect:b,currentRect:b};const M=f(),F=ff(l.edges,M);this.renderer.setStyle(document.body,"cursor",F),this.setElementClass(this.elm,pf,!0),this.enableGhostResize&&(l.clonedNode=function rv(n){const e=n.cloneNode(!0),t=e.querySelectorAll("[id]"),r=n.nodeName.toLowerCase();return e.removeAttribute("id"),t.forEach(i=>{i.removeAttribute("id")}),"canvas"===r?ks(n,e):("input"===r||"select"===r||"textarea"===r)&&iv(n,e),Fg("canvas",n,e,ks),Fg("input, textarea, select",n,e,iv),e}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(l.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(l.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(l.clonedNode,"left",`${l.startingRect.left}px`),this.renderer.setStyle(l.clonedNode,"top",`${l.startingRect.top}px`),this.renderer.setStyle(l.clonedNode,"height",`${l.startingRect.height}px`),this.renderer.setStyle(l.clonedNode,"width",`${l.startingRect.width}px`),this.renderer.setStyle(l.clonedNode,"cursor",ff(l.edges,M)),this.renderer.addClass(l.clonedNode,"resize-ghost-element"),l.clonedNode.scrollTop=l.startingRect.scrollTop,l.clonedNode.scrollLeft=l.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Cl({edges:D,initialRectangle:b,newRectangle:b}),rectangle:hf(b,{},0,0)})})}),i.pipe(Nr(this.destroy$)).subscribe(()=>{l&&(this.renderer.removeClass(this.elm.nativeElement,pf),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Cl({edges:l.edges,initialRectangle:l.startingRect,newRectangle:l.currentRect}),rectangle:l.currentRect})}),d(),l=null)})}ngOnDestroy(){fr(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(t,r,i){i?this.renderer.addClass(t.nativeElement,r):this.renderer.removeClass(t.nativeElement,r)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Lbi),a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),n})();class Ia{constructor(e,t){this.pointerDown=new wn.y(r=>{let i,l;return t.runOutsideAngular(()=>{i=e.listen("document","mousedown",d=>{r.next({clientX:d.clientX,clientY:d.clientY,event:d})}),ba&&(l=e.listen("document","touchstart",d=>{r.next({clientX:d.touches[0].clientX,clientY:d.touches[0].clientY,event:d})}))}),()=>{i(),ba&&l()}}).pipe((0,Hi.B)()),this.pointerMove=new wn.y(r=>{let i,l;return t.runOutsideAngular(()=>{i=e.listen("document","mousemove",d=>{r.next({clientX:d.clientX,clientY:d.clientY,event:d})}),ba&&(l=e.listen("document","touchmove",d=>{r.next({clientX:d.targetTouches[0].clientX,clientY:d.targetTouches[0].clientY,event:d})}))}),()=>{i(),ba&&l()}}).pipe((0,Hi.B)()),this.pointerUp=new wn.y(r=>{let i,l,d;return t.runOutsideAngular(()=>{i=e.listen("document","mouseup",f=>{r.next({clientX:f.clientX,clientY:f.clientY,event:f})}),ba&&(l=e.listen("document","touchend",f=>{r.next({clientX:f.changedTouches[0].clientX,clientY:f.changedTouches[0].clientY,event:f})}),d=e.listen("document","touchcancel",f=>{r.next({clientX:f.changedTouches[0].clientX,clientY:f.changedTouches[0].clientY,event:f})}))}),()=>{i(),ba&&(l(),d())}}).pipe((0,Hi.B)())}static getInstance(e,t){return Ia.instance||(Ia.instance=new Ia(e,t)),Ia.instance}}let dc=(()=>{class n{constructor(t,r,i,l){this.renderer=t,this.element=r,this.zone=i,this.resizableDirective=l,this.resizeEdges={},this.eventListeners={},this.destroy$=new xn.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(t=>{this.onMousedown(t,t.clientX,t.clientY)}),this.listenOnTheHost("mouseup").subscribe(t=>{this.onMouseup(t.clientX,t.clientY)}),ba&&(this.listenOnTheHost("touchstart").subscribe(t=>{this.onMousedown(t,t.touches[0].clientX,t.touches[0].clientY)}),(0,ts.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(t=>{this.onMouseup(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(t,r,i){t.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",l=>{this.onMousemove(l,l.targetTouches[0].clientX,l.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",l=>{this.onMousemove(l,l.clientX,l.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:i,edges:this.resizeEdges})}onMouseup(t,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:t,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(t,r,i){this.resizable.mousemove.next({clientX:r,clientY:i,edges:this.resizeEdges,event:t})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(t=>{this.eventListeners[t](),delete this.eventListeners[t]})}listenOnTheHost(t){return ya(this.element.nativeElement,t).pipe(Nr(this.destroy$))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(sv,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),n})(),Cd=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();var Vg=N(655);const j0=function(n){return{action:n}};function Ug(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"a",5),a.NdJ("mwlClick",function(i){const d=a.CHM(t).$implicit,f=a.oxw(2).event;return d.onClick({event:f,sourceEvent:i})})("mwlKeydownEnter",function(i){const d=a.CHM(t).$implicit,f=a.oxw(2).event;return d.onClick({event:f,sourceEvent:i})}),a.ALo(1,"calendarA11y"),a.qZA()}if(2&n){const t=e.$implicit;a.Q6J("ngClass",t.cssClass)("innerHtml",t.label,a.oJD),a.uIk("aria-label",a.xi3(1,3,a.VKq(6,j0,t),"actionButtonLabel"))}}function ov(n,e){if(1&n&&(a.TgZ(0,"span",3),a.YNc(1,Ug,2,8,"a",4),a.qZA()),2&n){const t=a.oxw(),r=t.event,i=t.trackByActionId;a.xp6(1),a.Q6J("ngForOf",r.actions)("ngForTrackBy",i)}}function Bg(n,e){1&n&&a.YNc(0,ov,2,2,"span",2),2&n&&a.Q6J("ngIf",e.event.actions)}function gf(n,e){}const av=function(n,e){return{event:n,trackByActionId:e}},Tl=function(){return{}};function pu(n,e){if(1&n&&(a._UZ(0,"span",2),a.ALo(1,"calendarEventTitle"),a.ALo(2,"calendarA11y")),2&n){const t=e.event;a.Q6J("innerHTML",a.Dn7(1,2,t.title,e.view,t),a.oJD),a.uIk("aria-hidden",a.xi3(2,6,a.DdM(9,Tl),"hideEventTitle"))}}function mf(n,e){}const yf=function(n,e){return{event:n,view:e}};function lv(n,e){if(1&n&&(a.TgZ(0,"div",2),a._UZ(1,"div",3),a._UZ(2,"div",4),a.qZA()),2&n){const t=e.contents;a.Q6J("ngClass","cal-tooltip-"+e.placement),a.xp6(2),a.Q6J("innerHtml",t,a.oJD)}}function jn(n,e){}const jg=function(n,e,t){return{contents:n,placement:e,event:t}};function uv(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",4),a.NdJ("click",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).columnHeaderClicked.emit({isoDayNumber:d.day,sourceEvent:i})}),a._uU(1),a.ALo(2,"calendarDate"),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw().locale;a.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),a.Q6J("ngClass",t.cssClass),a.xp6(1),a.hij(" ",a.Dn7(2,10,t.date,"monthViewColumnHeader",r)," ")}}function vf(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,uv,3,14,"div",3),a.qZA()),2&n){const t=e.days,r=e.trackByWeekDayHeaderDate;a.xp6(1),a.Q6J("ngForOf",t)("ngForTrackBy",r)}}function _f(n,e){}const cv=function(n,e,t){return{days:n,locale:e,trackByWeekDayHeaderDate:t}};function dv(n,e){if(1&n&&(a.TgZ(0,"span",7),a._uU(1),a.qZA()),2&n){const t=a.oxw().day;a.xp6(1),a.Oqu(t.badgeTotal)}}const wf=function(n){return{backgroundColor:n}},hv=function(n,e){return{event:n,draggedFrom:e}},Aa=function(n,e){return{x:n,y:e}},Ef=function(){return{delay:300,delta:30}};function fv(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",10),a.NdJ("mouseenter",function(){const l=a.CHM(t).$implicit;return a.oxw(2).highlightDay.emit({event:l})})("mouseleave",function(){const l=a.CHM(t).$implicit;return a.oxw(2).unhighlightDay.emit({event:l})})("mwlClick",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).eventClicked.emit({event:d,sourceEvent:i})}),a.ALo(1,"calendarEventTitle"),a.ALo(2,"calendarA11y"),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(2),i=r.tooltipPlacement,l=r.tooltipTemplate,d=r.tooltipAppendToBody,f=r.tooltipDelay,y=r.day,D=r.validateDrag;a.ekj("cal-draggable",t.draggable),a.Q6J("ngStyle",a.VKq(22,wf,null==t.color?null:t.color.primary))("ngClass",null==t?null:t.cssClass)("mwlCalendarTooltip",a.Dn7(1,15,t.title,"monthTooltip",t))("tooltipPlacement",i)("tooltipEvent",t)("tooltipTemplate",l)("tooltipAppendToBody",d)("tooltipDelay",f)("dropData",a.WLB(24,hv,t,y))("dragAxis",a.WLB(27,Aa,t.draggable,t.draggable))("validateDrag",D)("touchStartLongPress",a.DdM(30,Ef)),a.uIk("aria-hidden",a.xi3(2,19,a.DdM(31,Tl),"hideMonthCellEvents"))}}function hc(n,e){if(1&n&&(a.TgZ(0,"div",8),a.YNc(1,fv,3,32,"div",9),a.qZA()),2&n){const t=a.oxw(),r=t.day,i=t.trackByEventId;a.xp6(1),a.Q6J("ngForOf",r.events)("ngForTrackBy",i)}}const li=function(n,e){return{day:n,locale:e}};function Df(n,e){if(1&n&&(a.TgZ(0,"div",2),a.ALo(1,"calendarA11y"),a.TgZ(2,"span",3),a.YNc(3,dv,2,1,"span",4),a.TgZ(4,"span",5),a._uU(5),a.ALo(6,"calendarDate"),a.qZA(),a.qZA(),a.qZA(),a.YNc(7,hc,2,2,"div",6)),2&n){const t=e.day,r=e.locale;a.uIk("aria-label",a.xi3(1,4,a.WLB(11,li,t,r),"monthCell")),a.xp6(3),a.Q6J("ngIf",t.badgeTotal>0),a.xp6(2),a.Oqu(a.Dn7(6,7,t.date,"monthViewDayNumber",r)),a.xp6(2),a.Q6J("ngIf",t.events.length>0)}}function Hg(n,e){}const Cf=function(n,e,t,r,i,l,d,f,y,D,b,M){return{day:n,openDay:e,locale:t,tooltipPlacement:r,highlightDay:i,unhighlightDay:l,eventClicked:d,tooltipTemplate:f,tooltipAppendToBody:y,tooltipDelay:D,trackByEventId:b,validateDrag:M}},Sr=function(n){return{event:n}},Ma=function(n,e){return{event:n,locale:e}};function Td(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",7),a._UZ(1,"span",8),a._uU(2," "),a.TgZ(3,"mwl-calendar-event-title",9),a.NdJ("mwlClick",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).eventClicked.emit({event:d,sourceEvent:i})})("mwlKeydownEnter",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).eventClicked.emit({event:d,sourceEvent:i})}),a.ALo(4,"calendarA11y"),a.qZA(),a._uU(5," "),a._UZ(6,"mwl-calendar-event-actions",10),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(2).validateDrag,i=a.oxw();a.ekj("cal-draggable",t.draggable),a.Q6J("ngClass",null==t?null:t.cssClass)("dropData",a.VKq(16,Sr,t))("dragAxis",a.WLB(18,Aa,t.draggable,t.draggable))("validateDrag",r)("touchStartLongPress",a.DdM(21,Ef)),a.xp6(1),a.Q6J("ngStyle",a.VKq(22,wf,null==t.color?null:t.color.primary)),a.xp6(2),a.Q6J("event",t)("customTemplate",i.eventTitleTemplate),a.uIk("aria-label",a.xi3(4,13,a.WLB(24,Ma,t,i.locale),"eventDescription")),a.xp6(3),a.Q6J("event",t)("customTemplate",i.eventActionsTemplate)}}const $g=function(n,e){return{date:n,locale:e}};function Tf(n,e){if(1&n&&(a.TgZ(0,"div",3),a._UZ(1,"span",4),a.ALo(2,"calendarA11y"),a._UZ(3,"span",5),a.ALo(4,"calendarA11y"),a.YNc(5,Td,7,27,"div",6),a.qZA()),2&n){const t=a.oxw(),r=t.events,i=t.trackByEventId,l=a.oxw();a.Q6J("@collapse",void 0),a.xp6(1),a.uIk("aria-label",a.xi3(2,5,a.WLB(11,$g,l.date,l.locale),"openDayEventsAlert")),a.xp6(2),a.uIk("aria-label",a.xi3(4,8,a.WLB(14,$g,l.date,l.locale),"openDayEventsLandmark")),a.xp6(2),a.Q6J("ngForOf",r)("ngForTrackBy",i)}}function Ti(n,e){1&n&&a.YNc(0,Tf,6,17,"div",2),2&n&&a.Q6J("ngIf",e.isOpen)}function fc(n,e){}const bf=function(n,e,t,r,i){return{events:n,eventClicked:e,isOpen:t,trackByEventId:r,validateDrag:i}};function pv(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mwl-calendar-month-cell",7),a.NdJ("mwlClick",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).dayClicked.emit({day:d,sourceEvent:i})})("mwlKeydownEnter",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).dayClicked.emit({day:d,sourceEvent:i})})("highlightDay",function(i){return a.CHM(t),a.oxw(2).toggleDayHighlight(i.event,!0)})("unhighlightDay",function(i){return a.CHM(t),a.oxw(2).toggleDayHighlight(i.event,!1)})("drop",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).eventDropped(d,i.dropData.event,i.dropData.draggedFrom)})("eventClicked",function(i){return a.CHM(t),a.oxw(2).eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent})}),a.ALo(1,"calendarA11y"),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(2);a.Q6J("ngClass",null==t?null:t.cssClass)("day",t)("openDay",r.openDay)("locale",r.locale)("tooltipPlacement",r.tooltipPlacement)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipTemplate",r.tooltipTemplate)("tooltipDelay",r.tooltipDelay)("customTemplate",r.cellTemplate)("ngStyle",a.VKq(15,wf,t.backgroundColor))("clickListenerDisabled",0===r.dayClicked.observers.length),a.uIk("tabindex",a.xi3(1,12,a.DdM(17,Tl),"monthCellTabIndex"))}}function bd(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"div",4),a.YNc(2,pv,2,18,"mwl-calendar-month-cell",5),a.ALo(3,"slice"),a.qZA(),a.TgZ(4,"mwl-calendar-open-day-events",6),a.NdJ("eventClicked",function(i){return a.CHM(t),a.oxw().eventClicked.emit({event:i.event,sourceEvent:i.sourceEvent})})("drop",function(i){a.CHM(t);const l=a.oxw();return l.eventDropped(l.openDay,i.dropData.event,i.dropData.draggedFrom)}),a.qZA(),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw();a.xp6(2),a.Q6J("ngForOf",a.Dn7(3,9,r.view.days,t,t+r.view.totalDaysVisibleInWeek))("ngForTrackBy",r.trackByDate),a.xp6(2),a.Q6J("locale",r.locale)("isOpen",r.openRowIndex===t)("events",null==r.openDay?null:r.openDay.events)("date",null==r.openDay?null:r.openDay.date)("customTemplate",r.openDayEventsTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)}}function Sf(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",4),a.NdJ("mwlClick",function(i){const d=a.CHM(t).$implicit;return a.oxw().dayHeaderClicked.emit({day:d,sourceEvent:i})})("drop",function(i){const d=a.CHM(t).$implicit;return a.oxw().eventDropped.emit({event:i.dropData.event,newStart:d.date})})("dragEnter",function(){const l=a.CHM(t).$implicit;return a.oxw().dragEnter.emit({date:l.date})}),a.TgZ(1,"b"),a._uU(2),a.ALo(3,"calendarDate"),a.qZA(),a._UZ(4,"br"),a.TgZ(5,"span"),a._uU(6),a.ALo(7,"calendarDate"),a.qZA(),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw().locale;a.ekj("cal-past",t.isPast)("cal-today",t.isToday)("cal-future",t.isFuture)("cal-weekend",t.isWeekend),a.Q6J("ngClass",t.cssClass),a.xp6(2),a.Oqu(a.Dn7(3,11,t.date,"weekViewColumnHeader",r)),a.xp6(4),a.Oqu(a.Dn7(7,15,t.date,"weekViewColumnSubHeader",r))}}function gv(n,e){if(1&n&&(a.TgZ(0,"div",2),a.YNc(1,Sf,8,19,"div",3),a.qZA()),2&n){const t=e.days,r=e.trackByWeekDayHeaderDate;a.xp6(1),a.Q6J("ngForOf",t)("ngForTrackBy",r)}}function Sd(n,e){}const mv=function(n,e,t,r,i,l){return{days:n,locale:e,dayHeaderClicked:t,eventDropped:r,dragEnter:i,trackByWeekDayHeaderDate:l}},xa=function(n,e){return{backgroundColor:n,borderColor:e}};function Id(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",2),a.NdJ("mwlClick",function(i){return a.CHM(t).eventClicked.emit({sourceEvent:i})})("mwlKeydownEnter",function(i){return a.CHM(t).eventClicked.emit({sourceEvent:i})}),a.ALo(1,"calendarEventTitle"),a.ALo(2,"calendarA11y"),a._UZ(3,"mwl-calendar-event-actions",3),a._uU(4," "),a._UZ(5,"mwl-calendar-event-title",4),a.qZA()}if(2&n){const t=e.weekEvent,r=e.tooltipPlacement,i=e.tooltipTemplate,l=e.tooltipAppendToBody,d=e.tooltipDisabled,f=e.tooltipDelay,y=e.daysInWeek,D=a.oxw();a.Q6J("ngStyle",a.WLB(20,xa,null==t.event.color?null:t.event.color.secondary,null==t.event.color?null:t.event.color.primary))("mwlCalendarTooltip",d?"":a.Dn7(1,13,t.event.title,1===y?"dayTooltip":"weekTooltip",t.tempEvent||t.event))("tooltipPlacement",r)("tooltipEvent",t.tempEvent||t.event)("tooltipTemplate",i)("tooltipAppendToBody",l)("tooltipDelay",f),a.uIk("aria-label",a.xi3(2,17,a.WLB(23,Ma,t.tempEvent||t.event,D.locale),"eventDescription")),a.xp6(3),a.Q6J("event",t.tempEvent||t.event)("customTemplate",D.eventActionsTemplate),a.xp6(2),a.Q6J("event",t.tempEvent||t.event)("customTemplate",D.eventTitleTemplate)("view",1===y?"day":"week")}}function yv(n,e){}const vv=function(n,e,t,r,i,l,d,f,y){return{weekEvent:n,tooltipPlacement:e,eventClicked:t,tooltipTemplate:r,tooltipAppendToBody:i,tooltipDisabled:l,tooltipDelay:d,column:f,daysInWeek:y}};function pc(n,e){if(1&n&&(a.TgZ(0,"div",4),a._uU(1),a.ALo(2,"calendarDate"),a.qZA()),2&n){const t=a.oxw(),r=t.segment,i=t.daysInWeek,l=t.locale;a.xp6(1),a.hij(" ",a.Dn7(2,1,r.displayDate,1===i?"dayViewHour":"weekViewHour",l)," ")}}function zg(n,e){if(1&n&&(a.TgZ(0,"div",2),a.ALo(1,"calendarA11y"),a.YNc(2,pc,3,5,"div",3),a.qZA()),2&n){const t=e.segment,i=e.isTimeLabel,l=e.daysInWeek;a.Udp("height",e.segmentHeight,"px"),a.ekj("cal-hour-start",t.isStart)("cal-after-hour-start",!t.isStart),a.Q6J("ngClass",t.cssClass),a.uIk("aria-hidden",a.xi3(1,9,a.DdM(12,Tl),1===l?"hideDayHourSegment":"hideWeekHourSegment")),a.xp6(2),a.Q6J("ngIf",i)}}function bi(n,e){}const If=function(n,e,t,r,i){return{segment:n,locale:e,segmentHeight:t,isTimeLabel:r,daysInWeek:i}};function Af(n,e){if(1&n&&a._UZ(0,"div",3),2&n){const t=a.oxw().topPx;a.Udp("top",t,"px")}}function _v(n,e){1&n&&a.YNc(0,Af,1,2,"div",2),2&n&&a.Q6J("ngIf",e.isVisible)}function ao(n,e){}const gc=function(n,e,t,r,i,l,d){return{columnDate:n,dayStartHour:e,dayStartMinute:t,dayEndHour:r,dayEndMinute:i,isVisible:l,topPx:d}};function qg(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",13),a.NdJ("drop",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).eventDropped(i,d.date,!0)})("dragEnter",function(){const l=a.CHM(t).$implicit;return a.oxw(2).dateDragEnter(l.date)}),a.qZA()}}const Zg=function(){return{left:!0}};function wv(n,e){1&n&&a._UZ(0,"div",22),2&n&&a.Q6J("resizeEdges",a.DdM(1,Zg))}const Ad=function(){return{right:!0}};function Ev(n,e){1&n&&a._UZ(0,"div",23),2&n&&a.Q6J("resizeEdges",a.DdM(1,Ad))}const Dv=function(n,e){return{left:n,right:e}},Wg=function(n,e){return{event:n,calendarId:e}},gu=function(n){return{x:n}};function v(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",17,18),a.NdJ("resizeStart",function(i){const d=a.CHM(t).$implicit;a.oxw();const f=a.MAs(1);return a.oxw(2).allDayEventResizeStarted(f,d,i)})("resizing",function(i){const d=a.CHM(t).$implicit,f=a.oxw(3);return f.allDayEventResizing(d,i,f.dayColumnWidth)})("resizeEnd",function(){const l=a.CHM(t).$implicit;return a.oxw(3).allDayEventResizeEnded(l)})("dragStart",function(){const l=a.CHM(t).$implicit,d=a.MAs(1);a.oxw();const f=a.MAs(1);return a.oxw(2).dragStarted(f,d,l,!1)})("dragging",function(){return a.CHM(t),a.oxw(3).allDayEventDragMove()})("dragEnd",function(i){const d=a.CHM(t).$implicit,f=a.oxw(3);return f.dragEnded(d,i,f.dayColumnWidth)}),a.YNc(2,wv,1,2,"div",19),a.TgZ(3,"mwl-calendar-week-view-event",20),a.NdJ("eventClicked",function(i){const d=a.CHM(t).$implicit;return a.oxw(3).eventClicked.emit({event:d.event,sourceEvent:i.sourceEvent})}),a.qZA(),a.YNc(4,Ev,1,2,"div",21),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.Udp("width",100/r.days.length*t.span,"%")("margin-left",r.rtl?null:100/r.days.length*t.offset,"%")("margin-right",r.rtl?100/r.days.length*(r.days.length-t.offset)*-1:null,"%"),a.ekj("cal-draggable",t.event.draggable&&0===r.allDayEventResizes.size)("cal-starts-within-week",!t.startsBeforeWeek)("cal-ends-within-week",!t.endsAfterWeek),a.Q6J("ngClass",null==t.event?null:t.event.cssClass)("resizeSnapGrid",a.WLB(32,Dv,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",a.WLB(35,Wg,t.event,r.calendarId))("dragAxis",a.WLB(38,Aa,t.event.draggable&&0===r.allDayEventResizes.size,!r.snapDraggedEvents&&t.event.draggable&&0===r.allDayEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?a.VKq(41,gu,r.dayColumnWidth):a.DdM(43,Tl))("validateDrag",r.validateDrag)("touchStartLongPress",a.DdM(44,Ef)),a.xp6(2),a.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeWeek),a.xp6(1),a.Q6J("locale",r.locale)("weekEvent",t)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),a.xp6(1),a.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterWeek)}}function p(n,e){if(1&n&&(a.TgZ(0,"div",14,15),a.YNc(2,v,5,45,"div",16),a.qZA()),2&n){const t=e.$implicit,r=a.oxw(2);a.xp6(2),a.Q6J("ngForOf",t.row)("ngForTrackBy",r.trackByWeekAllDayEvent)}}function m(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",8,9),a.NdJ("dragEnter",function(){return a.CHM(t),a.oxw().dragEnter("allDay")})("dragLeave",function(){return a.CHM(t),a.oxw().dragLeave("allDay")}),a.TgZ(2,"div",5),a._UZ(3,"div",10),a.YNc(4,qg,1,0,"div",11),a.qZA(),a.YNc(5,p,3,2,"div",12),a.qZA()}if(2&n){const t=a.oxw();a.xp6(3),a.Q6J("ngTemplateOutlet",t.allDayEventsLabelTemplate),a.xp6(1),a.Q6J("ngForOf",t.days)("ngForTrackBy",t.trackByWeekDayHeaderDate),a.xp6(1),a.Q6J("ngForOf",t.view.allDayEventRows)("ngForTrackBy",t.trackById)}}function w(n,e){if(1&n&&a._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&n){const t=e.$implicit,r=a.oxw(3);a.Udp("height",r.hourSegmentHeight,"px"),a.Q6J("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",r.daysInWeek)}}function A(n,e){if(1&n&&(a.TgZ(0,"div",26),a.YNc(1,w,1,8,"mwl-calendar-week-view-hour-segment",27),a.qZA()),2&n){const t=e.$implicit,r=e.odd,i=a.oxw(2);a.ekj("cal-hour-odd",r),a.xp6(1),a.Q6J("ngForOf",t.segments)("ngForTrackBy",i.trackByHourSegment)}}function O(n,e){if(1&n&&(a.TgZ(0,"div",24),a.YNc(1,A,2,4,"div",25),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Q6J("ngForOf",t.view.hourColumns[0].hours)("ngForTrackBy",t.trackByHour)}}const J=function(){return{left:!0,top:!0}};function ve(n,e){1&n&&a._UZ(0,"div",22),2&n&&a.Q6J("resizeEdges",a.DdM(1,J))}function qe(n,e){}function lt(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mwl-calendar-week-view-event",36),a.NdJ("eventClicked",function(i){a.CHM(t);const l=a.oxw().$implicit;return a.oxw(2).eventClicked.emit({event:l.event,sourceEvent:i.sourceEvent})}),a.qZA()}if(2&n){const t=a.oxw().$implicit,r=a.oxw().$implicit,i=a.oxw();a.Q6J("locale",i.locale)("weekEvent",t)("tooltipPlacement",i.tooltipPlacement)("tooltipTemplate",i.tooltipTemplate)("tooltipAppendToBody",i.tooltipAppendToBody)("tooltipDisabled",i.dragActive||i.timeEventResizes.size>0)("tooltipDelay",i.tooltipDelay)("customTemplate",i.eventTemplate)("eventTitleTemplate",i.eventTitleTemplate)("eventActionsTemplate",i.eventActionsTemplate)("column",r)("daysInWeek",i.daysInWeek)}}const Ct=function(){return{right:!0,bottom:!0}};function ft(n,e){1&n&&a._UZ(0,"div",23),2&n&&a.Q6J("resizeEdges",a.DdM(1,Ct))}const cr=function(n,e,t,r){return{left:n,right:e,top:t,bottom:r}};function zi(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div",33,18),a.NdJ("resizeStart",function(i){const d=a.CHM(t).$implicit,f=a.oxw(2),y=a.MAs(6);return f.timeEventResizeStarted(y,d,i)})("resizing",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).timeEventResizing(d,i)})("resizeEnd",function(){const l=a.CHM(t).$implicit;return a.oxw(2).timeEventResizeEnded(l)})("dragStart",function(){const l=a.CHM(t).$implicit,d=a.MAs(1),f=a.oxw(2),y=a.MAs(6);return f.dragStarted(y,d,l,!0)})("dragging",function(i){const d=a.CHM(t).$implicit;return a.oxw(2).dragMove(d,i)})("dragEnd",function(i){const d=a.CHM(t).$implicit,f=a.oxw(2);return f.dragEnded(d,i,f.dayColumnWidth,!0)}),a.YNc(2,ve,1,2,"div",19),a.YNc(3,qe,0,0,"ng-template",34),a.YNc(4,lt,1,12,"ng-template",null,35,a.W1O),a.YNc(6,ft,1,2,"div",21),a.qZA()}if(2&n){const t=e.$implicit,r=a.MAs(5),i=a.oxw(2);a.Udp("top",t.top,"px")("height",t.height,"px")("left",t.left,"%")("width",t.width,"%"),a.ekj("cal-draggable",t.event.draggable&&0===i.timeEventResizes.size)("cal-starts-within-day",!t.startsBeforeDay)("cal-ends-within-day",!t.endsAfterDay),a.Q6J("ngClass",t.event.cssClass)("hidden",0===t.height&&0===t.width)("resizeSnapGrid",a.l5B(29,cr,i.dayColumnWidth,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight,i.eventSnapSize||i.hourSegmentHeight))("validateResize",i.validateResize)("allowNegativeResizes",!0)("dropData",a.WLB(34,Wg,t.event,i.calendarId))("dragAxis",a.WLB(37,Aa,t.event.draggable&&0===i.timeEventResizes.size,t.event.draggable&&0===i.timeEventResizes.size))("dragSnapGrid",i.snapDraggedEvents?a.WLB(40,Aa,i.dayColumnWidth,i.eventSnapSize||i.hourSegmentHeight):a.DdM(43,Tl))("touchStartLongPress",a.DdM(44,Ef))("ghostDragEnabled",!i.snapDraggedEvents)("ghostElementTemplate",r)("validateDrag",i.validateDrag),a.xp6(2),a.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.beforeStart)&&!t.startsBeforeDay),a.xp6(1),a.Q6J("ngTemplateOutlet",r),a.xp6(3),a.Q6J("ngIf",(null==t.event||null==t.event.resizable?null:t.event.resizable.afterEnd)&&!t.endsAfterDay)}}function mu(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mwl-calendar-week-view-hour-segment",38),a.NdJ("mwlClick",function(i){const d=a.CHM(t).$implicit;return a.oxw(3).hourSegmentClicked.emit({date:d.date,sourceEvent:i})})("drop",function(i){const d=a.CHM(t).$implicit;return a.oxw(3).eventDropped(i,d.date,!1)})("dragEnter",function(){const l=a.CHM(t).$implicit;return a.oxw(3).dateDragEnter(l.date)}),a.qZA()}if(2&n){const t=e.$implicit,r=a.oxw(3);a.Udp("height",r.hourSegmentHeight,"px"),a.Q6J("segment",t)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",0===r.hourSegmentClicked.observers.length)("dragOverClass",r.dragActive&&r.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===r.daysInWeek)}}function Mf(n,e){if(1&n&&(a.TgZ(0,"div",26),a.YNc(1,mu,1,10,"mwl-calendar-week-view-hour-segment",37),a.qZA()),2&n){const t=e.$implicit,r=e.odd,i=a.oxw(2);a.ekj("cal-hour-odd",r),a.xp6(1),a.Q6J("ngForOf",t.segments)("ngForTrackBy",i.trackByHourSegment)}}function Gg(n,e){if(1&n&&(a.TgZ(0,"div",29),a._UZ(1,"mwl-calendar-week-view-current-time-marker",30),a.TgZ(2,"div",31),a.YNc(3,zi,7,45,"div",32),a.qZA(),a.YNc(4,Mf,2,4,"div",25),a.qZA()),2&n){const t=e.$implicit,r=a.oxw();a.xp6(1),a.Q6J("columnDate",t.date)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("customTemplate",r.currentTimeMarkerTemplate),a.xp6(2),a.Q6J("ngForOf",t.events)("ngForTrackBy",r.trackByWeekTimeEvent),a.xp6(1),a.Q6J("ngForOf",t.hours)("ngForTrackBy",r.trackByHour)}}let qi=(()=>{class n{constructor(t,r,i){this.renderer=t,this.elm=r,this.document=i,this.clickListenerDisabled=!1,this.click=new a.vpe,this.destroy$=new xn.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe(Nr(this.destroy$)).subscribe(t=>{t.stopPropagation(),this.click.emit(t)})}ngOnDestroy(){this.destroy$.next()}listen(){return new wn.y(t=>this.renderer.listen(this.elm.nativeElement,"click",r=>{t.next(r)}))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(ce))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),n})(),bl=(()=>{class n{constructor(t,r,i){this.host=t,this.ngZone=r,this.renderer=i,this.keydown=new a.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",t=>{(13===t.keyCode||13===t.which||"Enter"===t.key)&&(t.preventDefault(),t.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(t)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.R0b),a.Y36(a.Qsj))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),n})(),Sl=(()=>{class n{constructor(t){this.i18nPlural=t}monthCell({day:t,locale:r}){return t.badgeTotal>0?`\n        ${sn(t.date,"EEEE MMMM d",r)},\n        ${this.i18nPlural.transform(t.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${sn(t.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:t,locale:r}){return`\n      Beginning of expanded view for ${sn(t,"EEEE MMMM dd",r)}\n    `}openDayEventsAlert({date:t,locale:r}){return`${sn(t,"EEEE MMMM dd",r)} expanded`}eventDescription({event:t,locale:r}){if(!0===t.allDay)return this.allDayEventDescription({event:t,locale:r});const i=`\n      ${sn(t.start,"EEEE MMMM dd",r)},\n      ${t.title}, from ${sn(t.start,"hh:mm a",r)}\n    `;return t.end?i+` to ${sn(t.end,"hh:mm a",r)}`:i}allDayEventDescription({event:t,locale:r}){const i=`\n      ${t.title}, event spans multiple days:\n      start time ${sn(t.start,"MMMM dd hh:mm a",r)}\n    `;return t.end?i+`, stop time ${sn(t.end,"MMMM d hh:mm a",r)}`:i+", no stop time"}actionButtonLabel({action:t}){return t.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Gs))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),ka=(()=>{class n{constructor(t,r){this.calendarA11y=t,this.locale=r}transform(t,r){if(t.locale=t.locale||this.locale,void 0===this.calendarA11y[r]){const i=Object.getOwnPropertyNames(Object.getPrototypeOf(Sl.prototype)).filter(l=>"constructor"!==l);throw new Error(`${r} is not a valid a11y method. Can only be one of ${i.join(", ")}`)}return this.calendarA11y[r](t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Sl,16),a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"calendarA11y",type:n,pure:!0}),n})(),mc=(()=>{class n{constructor(){this.trackByActionId=(t,r)=>r.id?r.id:r}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(t,r){if(1&t&&(a.YNc(0,Bg,1,1,"ng-template",null,0,a.W1O),a.YNc(2,gf,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.WLB(2,av,r.event,r.trackByActionId))}},directives:[ii,un,on,Or,qi,bl],pipes:[ka],encapsulation:2}),n})();class yc{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}let Md=(()=>{class n{constructor(t){this.calendarEventTitle=t}transform(t,r,i){return this.calendarEventTitle[r](i,t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(yc,16))},n.\u0275pipe=a.Yjl({name:"calendarEventTitle",type:n,pure:!0}),n})(),Kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(t,r){if(1&t&&(a.YNc(0,pu,3,10,"ng-template",null,0,a.W1O),a.YNc(2,mf,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.WLB(2,yf,r.event,r.view))}},directives:[ii],pipes:[Md,ka],encapsulation:2}),n})(),xf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(t,r){if(1&t&&(a.YNc(0,lv,3,2,"ng-template",null,0,a.W1O),a.YNc(2,jn,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.kEZ(2,jg,r.contents,r.placement,r.event))}},directives:[ii,Or],encapsulation:2}),n})(),Yg=(()=>{class n{constructor(t,r,i,l,d,f){this.elementRef=t,this.injector=r,this.renderer=i,this.viewContainerRef=d,this.document=f,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new xn.x,this.tooltipFactory=l.resolveComponentFactory(xf)}ngOnChanges(t){this.tooltipRef&&(t.contents||t.customTemplate||t.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?_t("now"):Nn(this.delay)).pipe(Nr(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(t=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function ga(n,e,t,r,i){var l=Array.isArray(t)?t:t.split(ou),d=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],f=e.classList,y=function(se){var De=se.split("-"),Re=De[0],Be=De[1],Pe=[];return i&&(Pe.push(i+"-"+Re),Be&&Pe.push(i+"-"+Re+"-"+Be),Pe.forEach(function(ct){f.add(ct)})),Pe};i&&d.forEach(function(se){f.remove(i+"-"+se)});var D=l.findIndex(function(se){return"auto"===se});D>=0&&d.forEach(function(se){null==l.find(function(De){return-1!==De.search("^"+se)})&&l.splice(D++,1,se)});var b=e.style;b.position="absolute",b.top="0",b.left="0",b["will-change"]="transform";for(var M,F=!1,R=0,B=l;R<B.length;R++){var te=y(M=B[R]);if(fl.positionElements(n,e,M,r)){F=!0;break}i&&te.forEach(function(se){f.remove(se)})}return F||(y(M=l[0]),fl.positionElements(n,e,M,r)),M}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===t.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...t,this.tooltipRef.instance.placement]))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq),a.Y36(a.zs3),a.Y36(a.Qsj),a.Y36(a._Vd),a.Y36(a.s_b),a.Y36(ce))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(t,r){1&t&&a.NdJ("mouseenter",function(){return r.onMouseOver()})("mouseleave",function(){return r.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[a.TTD]}),n})();var lo=(()=>{return(n=lo||(lo={})).Month="month",n.Week="week",n.Day="day",lo;var n})();const Cv=n=>function gl(n,e){var t=!0;function r(i,l){e(i,l),t=!1}return Array.isArray(n)?(n.forEach(function(i){i.start?i.start instanceof Date||r(En.StartPropertyNotDate,i):r(En.StartPropertyMissing,i),i.end&&(i.end instanceof Date||r(En.EndPropertyNotDate,i),i.start>i.end&&r(En.EndsBeforeStart,i))}),t):(e(En.NotArray,n),!1)}(n,(...t)=>console.warn("angular-calendar",...t));function Qg(n,e){return Math.floor(n.left)<=Math.ceil(e.left)&&Math.floor(e.left)<=Math.ceil(n.right)&&Math.floor(n.left)<=Math.ceil(e.right)&&Math.floor(e.right)<=Math.ceil(n.right)}function $0(n,e){return Math.round(n/e)*e}const z0=(n,e)=>e.id?e.id:e,Jg=(n,e)=>e.date.toISOString(),q0=(n,e)=>e.date.toISOString(),vc=(n,e)=>e.segments[0].date.toISOString(),Z0=(n,e)=>e.event.id?e.event.id:e.event,W0=(n,e)=>e.event.id?e.event.id:e.event;function bv(n,e,t,r,i){const l=$0(n,r||t),d=function Xg(n,e,t){return(t||60)/(n*e)}(e,t,i);return l*d}function Sv(n,e,t){return e.end?e.end:n.addMinutes(e.start,t)}function uo(n,e,t,r){let i=0,l=0;const d=t<0?n.subDays:n.addDays;let f=e;for(;l<=Math.abs(t);){f=d(e,i);const y=n.getDay(f);-1===r.indexOf(y)&&l++,i++}return f}function em(n,e,t,r=[],i){let l=i?n.startOfDay(e):n.startOfWeek(e,{weekStartsOn:t});const d=n.endOfWeek(e,{weekStartsOn:t});for(;r.indexOf(n.getDay(l))>-1&&l<d;)l=n.addDays(l,1);if(i)return{viewStart:l,viewEnd:n.endOfDay(uo(n,l,i-1,r))};{let f=d;for(;r.indexOf(n.getDay(f))>-1&&f>l;)f=n.subDays(f,1);return{viewStart:l,viewEnd:f}}}function xd({x:n,y:e}){return Math.abs(n)>1||Math.abs(e)>1}class co{}let K0=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new a.vpe}onClick(){const t={day:this.dateAdapter.subDays,week:this.dateAdapter.subWeeks,month:this.dateAdapter.subMonths}[this.view];this.viewDateChange.emit(this.view===lo.Day?uo(this.dateAdapter,this.viewDate,-1,this.excludeDays):this.view===lo.Week&&this.daysInWeek?uo(this.dateAdapter,this.viewDate,-this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(co))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarPreviousView",""]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Av=(()=>{class n{constructor(t){this.dateAdapter=t,this.excludeDays=[],this.viewDateChange=new a.vpe}onClick(){const t={day:this.dateAdapter.addDays,week:this.dateAdapter.addWeeks,month:this.dateAdapter.addMonths}[this.view];this.viewDateChange.emit(this.view===lo.Day?uo(this.dateAdapter,this.viewDate,1,this.excludeDays):this.view===lo.Week&&this.daysInWeek?uo(this.dateAdapter,this.viewDate,this.daysInWeek,this.excludeDays):t(this.viewDate,1))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(co))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarNextView",""]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{view:"view",viewDate:"viewDate",excludeDays:"excludeDays",daysInWeek:"daysInWeek"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Y0=(()=>{class n{constructor(t){this.dateAdapter=t,this.viewDateChange=new a.vpe}onClick(){this.viewDateChange.emit(this.dateAdapter.startOfDay(new Date))}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(co))},n.\u0275dir=a.lG2({type:n,selectors:[["","mwlCalendarToday",""]],hostBindings:function(t,r){1&t&&a.NdJ("click",function(){return r.onClick()})},inputs:{viewDate:"viewDate"},outputs:{viewDateChange:"viewDateChange"}}),n})(),Mv=(()=>{class n{constructor(t){this.dateAdapter=t}monthViewColumnHeader({date:t,locale:r}){return sn(t,"EEEE",r)}monthViewDayNumber({date:t,locale:r}){return sn(t,"d",r)}monthViewTitle({date:t,locale:r}){return sn(t,"LLLL y",r)}weekViewColumnHeader({date:t,locale:r}){return sn(t,"EEEE",r)}weekViewColumnSubHeader({date:t,locale:r}){return sn(t,"MMM d",r)}weekViewTitle({date:t,locale:r,weekStartsOn:i,excludeDays:l,daysInWeek:d}){const{viewStart:f,viewEnd:y}=em(this.dateAdapter,t,i,l,d),D=(b,M)=>sn(b,"MMM d"+(M?", yyyy":""),r);return`${D(f,f.getUTCFullYear()!==y.getUTCFullYear())} - ${D(y,!0)}`}weekViewHour({date:t,locale:r}){return sn(t,"h a",r)}dayViewHour({date:t,locale:r}){return sn(t,"h a",r)}dayViewTitle({date:t,locale:r}){return sn(t,"EEEE, MMMM d, y",r)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(co))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),yu=(()=>{class n extends Mv{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),kf=(()=>{class n{constructor(t,r){this.dateFormatter=t,this.locale=r}transform(t,r,i=this.locale,l=0,d=[],f){if(void 0===this.dateFormatter[r]){const y=Object.getOwnPropertyNames(Object.getPrototypeOf(yu.prototype)).filter(D=>"constructor"!==D);throw new Error(`${r} is not a valid date formatter. Can only be one of ${y.join(", ")}`)}return this.dateFormatter[r]({date:t,locale:i,weekStartsOn:l,excludeDays:d,daysInWeek:f})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(yu,16),a.Y36(a.soG,16))},n.\u0275pipe=a.Yjl({name:"calendarDate",type:n,pure:!0}),n})(),Of=(()=>{class n{constructor(t){this.dateAdapter=t}getMonthView(t){return function Qy(n,e){var t=e.events,r=void 0===t?[]:t,i=e.viewDate,l=e.weekStartsOn,d=e.excluded,f=void 0===d?[]:d,y=e.viewStart,D=void 0===y?n.startOfMonth(i):y,b=e.viewEnd,M=void 0===b?n.endOfMonth(i):b,F=e.weekendDays;r||(r=[]);for(var It,B=n.endOfWeek,te=n.differenceInDays,se=n.startOfDay,De=n.addHours,Re=n.endOfDay,Be=n.isSameMonth,Pe=n.getDay,Ft=(0,n.startOfWeek)(D,{weekStartsOn:l}),Yt=B(M,{weekStartsOn:l}),qt=oi(n,{events:r,periodStart:Ft,periodEnd:Yt}),Ot=[],dt=function(en){var pn;if(It?(pn=se(De(It,24)),It.getTime()===pn.getTime()&&(pn=se(De(It,25))),It=pn):pn=It=Ft,!f.some(function(Ka){return Pe(pn)===Ka})){var hr=Xu(n,{date:pn,weekendDays:F}),Li=oi(n,{events:qt,periodStart:se(pn),periodEnd:Re(pn)});hr.inMonth=Be(pn,i),hr.events=Li,hr.badgeTotal=Li.length,Ot.push(hr)}},We=0;We<te(Yt,Ft)+1;We++)dt();var fn=[],yn=7-f.length;if(yn<7)for(We=0;We<Ot.length;We+=yn){var hg=Ot.slice(We,We+yn);hg.some(function(pn){return D<=pn.date&&pn.date<M})&&(fn=au(fn,hg))}else fn=Ot;var wt=Math.floor(fn.length/yn),Tt=[];for(We=0;We<wt;We++)Tt.push(We*yn);return{rowOffsets:Tt,totalDaysVisibleInWeek:yn,days:fn,period:{start:fn[0].date,end:Re(fn[fn.length-1].date),events:qt}}}(this.dateAdapter,t)}getWeekViewHeader(t){return pd(this.dateAdapter,t)}getWeekView(t){return function Yy(n,e){var t=e.events,r=void 0===t?[]:t,i=e.viewDate,l=e.weekStartsOn,d=e.excluded,f=void 0===d?[]:d,y=e.precision,D=void 0===y?"days":y,b=e.absolutePositionedEvents,M=void 0!==b&&b,F=e.hourSegments,R=e.hourDuration,B=e.dayStart,te=e.dayEnd,se=e.weekendDays,De=e.segmentHeight,Re=e.minimumEventHeight,Be=e.viewStart,Pe=void 0===Be?n.startOfWeek(i,{weekStartsOn:l}):Be,ct=e.viewEnd,Ft=void 0===ct?n.endOfWeek(i,{weekStartsOn:l}):ct;r||(r=[]);var qt=n.endOfDay,Ot=oi(n,{events:r,periodStart:Pe=(0,n.startOfDay)(Pe),periodEnd:Ft=qt(Ft)}),It=pd(n,{viewDate:i,weekStartsOn:l,excluded:f,weekendDays:se,viewStart:Pe,viewEnd:Ft});return{allDayEventRows:ec(n,{events:Ot,excluded:f,precision:D,absolutePositionedEvents:M,viewStart:Pe,viewEnd:Ft}),period:{events:Ot,start:It[0].date,end:qt(It[It.length-1].date)},hourColumns:gd(n,{events:r,viewDate:i,hourSegments:F,hourDuration:R,dayStart:B,dayEnd:te,weekStartsOn:l,excluded:f,weekendDays:se,segmentHeight:De,viewStart:Pe,viewEnd:Ft,minimumEventHeight:Re})}}(this.dateAdapter,t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(co))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();new a.OlP("Moment");var ho=(()=>{return(n=ho||(ho={})).Drag="drag",n.Drop="drop",n.Resize="resize",ho;var n})();let kd=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||yc,r.dateFormatter||yu,r.utils||Of,r.a11y||Sl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Gs],imports:[[Vi]]}),n})(),sk=(()=>{class n{constructor(){this.columnHeaderClicked=new a.vpe,this.trackByWeekDayHeaderDate=Jg}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-month-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{columnHeaderClicked:"columnHeaderClicked"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-cell-row","cal-header"],["class","cal-cell","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],["tabindex","0","role","columnheader",1,"cal-cell",3,"ngClass","click"]],template:function(t,r){if(1&t&&(a.YNc(0,vf,2,2,"ng-template",null,0,a.W1O),a.YNc(2,_f,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.kEZ(2,cv,r.days,r.locale,r.trackByWeekDayHeaderDate))}},directives:[ii,on,Or],pipes:[kf],encapsulation:2}),n})(),Q0=(()=>{class n{constructor(){this.highlightDay=new a.vpe,this.unhighlightDay=new a.vpe,this.eventClicked=new a.vpe,this.trackByEventId=z0,this.validateDrag=xd}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-month-cell"]],hostAttrs:[1,"cal-cell","cal-day-cell"],hostVars:18,hostBindings:function(t,r){2&t&&a.ekj("cal-past",r.day.isPast)("cal-today",r.day.isToday)("cal-future",r.day.isFuture)("cal-weekend",r.day.isWeekend)("cal-in-month",r.day.inMonth)("cal-out-month",!r.day.inMonth)("cal-has-events",r.day.events.length>0)("cal-open",r.day===r.openDay)("cal-event-highlight",!!r.day.backgroundColor)},inputs:{day:"day",openDay:"openDay",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",customTemplate:"customTemplate",tooltipTemplate:"tooltipTemplate",tooltipDelay:"tooltipDelay"},outputs:{highlightDay:"highlightDay",unhighlightDay:"unhighlightDay",eventClicked:"eventClicked"},decls:3,vars:15,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-cell-top"],["aria-hidden","true"],["class","cal-day-badge",4,"ngIf"],[1,"cal-day-number"],["class","cal-events",4,"ngIf"],[1,"cal-day-badge"],[1,"cal-events"],["class","cal-event","mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event",3,"ngStyle","ngClass","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","dropData","dragAxis","validateDrag","touchStartLongPress","mouseenter","mouseleave","mwlClick"]],template:function(t,r){if(1&t&&(a.YNc(0,Df,8,14,"ng-template",null,0,a.W1O),a.YNc(2,Hg,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.rFY(2,Cf,[r.day,r.openDay,r.locale,r.tooltipPlacement,r.highlightDay,r.unhighlightDay,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDelay,r.trackByEventId,r.validateDrag]))}},directives:[ii,un,on,Ta,el,Or,Yg,qi],pipes:[ka,kf,Md],encapsulation:2}),n})();const ib=function kg(n,e){return{type:7,name:n,definitions:e,options:{}}}("collapse",[Rg("void",uc({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),Rg("*",uc({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),Ng("* => void",cf("150ms ease-out")),Ng("void => *",cf("150ms ease-in"))]);let J0=(()=>{class n{constructor(){this.isOpen=!1,this.eventClicked=new a.vpe,this.trackByEventId=z0,this.validateDrag=xd}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-open-day-events"]],inputs:{locale:"locale",isOpen:"isOpen",events:"events",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",date:"date"},outputs:{eventClicked:"eventClicked"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-open-day-events","role","application",4,"ngIf"],["role","application",1,"cal-open-day-events"],["tabindex","-1","role","alert"],["tabindex","0","role","landmark"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","cal-draggable","dropData","dragAxis","validateDrag","touchStartLongPress",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDraggable","","dragActiveClass","cal-drag-active",3,"ngClass","dropData","dragAxis","validateDrag","touchStartLongPress"],[1,"cal-event",3,"ngStyle"],["view","month","tabindex","0",3,"event","customTemplate","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"]],template:function(t,r){if(1&t&&(a.YNc(0,Ti,1,1,"ng-template",null,0,a.W1O),a.YNc(2,fc,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.qbA(2,bf,r.events,r.eventClicked,r.isOpen,r.trackByEventId,r.validateDrag))}},directives:[ii,un,on,Ta,Or,el,Kg,qi,bl,mc],pipes:[ka],encapsulation:2,data:{animation:[ib]}}),n})(),sb=(()=>{class n{constructor(t,r,i,l){this.cdr=t,this.utils=r,this.dateAdapter=l,this.events=[],this.excludeDays=[],this.activeDayIsOpen=!1,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.beforeViewRender=new a.vpe,this.dayClicked=new a.vpe,this.eventClicked=new a.vpe,this.columnHeaderClicked=new a.vpe,this.eventTimesChanged=new a.vpe,this.trackByRowOffset=(d,f)=>this.view.days.slice(f,this.view.totalDaysVisibleInWeek).map(y=>y.date.toISOString()).join("-"),this.trackByDate=(d,f)=>f.date.toISOString(),this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const r=t.viewDate||t.excludeDays||t.weekendDays,i=t.viewDate||t.events||t.excludeDays||t.weekendDays;r&&this.refreshHeader(),t.events&&Cv(this.events),i&&this.refreshBody(),(r||i)&&this.emitBeforeViewRender(),(t.activeDayIsOpen||t.viewDate||t.events||t.excludeDays||t.activeDay)&&this.checkActiveDayIsOpen()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}toggleDayHighlight(t,r){this.view.days.forEach(i=>{r&&i.events.indexOf(t)>-1?i.backgroundColor=t.color&&t.color.secondary||"#D1E8FF":delete i.backgroundColor})}eventDropped(t,r,i){if(t!==i){const l=this.dateAdapter.getYear(t.date),d=this.dateAdapter.getMonth(t.date),f=this.dateAdapter.getDate(t.date),y=this.dateAdapter.setDate(this.dateAdapter.setMonth(this.dateAdapter.setYear(r.start,l),d),f);let D;if(r.end){const b=this.dateAdapter.differenceInSeconds(y,r.start);D=this.dateAdapter.addSeconds(r.end,b)}this.eventTimesChanged.emit({event:r,newStart:y,newEnd:D,day:t,type:ho.Drop})}}refreshHeader(){this.columnHeaders=this.utils.getWeekViewHeader({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}refreshBody(){this.view=this.utils.getMonthView({events:this.events,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays})}checkActiveDayIsOpen(){if(!0===this.activeDayIsOpen){const t=this.activeDay||this.viewDate;this.openDay=this.view.days.find(i=>this.dateAdapter.isSameDay(i.date,t));const r=this.view.days.indexOf(this.openDay);this.openRowIndex=Math.floor(r/this.view.totalDaysVisibleInWeek)*this.view.totalDaysVisibleInWeek}else this.openRowIndex=null,this.openDay=null}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender(),this.checkActiveDayIsOpen()}emitBeforeViewRender(){this.columnHeaders&&this.view&&this.beforeViewRender.emit({header:this.columnHeaders,body:this.view.days,period:this.view.period})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(Of),a.Y36(a.soG),a.Y36(co))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-month-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",activeDayIsOpen:"activeDayIsOpen",activeDay:"activeDay",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",cellTemplate:"cellTemplate",openDayEventsTemplate:"openDayEventsTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",weekendDays:"weekendDays"},outputs:{beforeViewRender:"beforeViewRender",dayClicked:"dayClicked",eventClicked:"eventClicked",columnHeaderClicked:"columnHeaderClicked",eventTimesChanged:"eventTimesChanged"},features:[a.TTD],decls:4,vars:5,consts:[["role","grid",1,"cal-month-view"],[3,"days","locale","customTemplate","columnHeaderClicked"],[1,"cal-days"],[4,"ngFor","ngForOf","ngForTrackBy"],["role","row",1,"cal-cell-row"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",3,"locale","isOpen","events","date","customTemplate","eventTitleTemplate","eventActionsTemplate","eventClicked","drop"],["role","gridcell","mwlDroppable","","dragOverClass","cal-drag-over",3,"ngClass","day","openDay","locale","tooltipPlacement","tooltipAppendToBody","tooltipTemplate","tooltipDelay","customTemplate","ngStyle","clickListenerDisabled","mwlClick","mwlKeydownEnter","highlightDay","unhighlightDay","drop","eventClicked"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"mwl-calendar-month-view-header",1),a.NdJ("columnHeaderClicked",function(l){return r.columnHeaderClicked.emit(l)}),a.qZA(),a.TgZ(2,"div",2),a.YNc(3,bd,5,13,"div",3),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.Q6J("days",r.columnHeaders)("locale",r.locale)("customTemplate",r.headerTemplate),a.xp6(2),a.Q6J("ngForOf",r.view.rowOffsets)("ngForTrackBy",r.trackByRowOffset))},directives:[sk,on,J0,lf,Q0,Or,el,qi,bl],pipes:[zu,ka],encapsulation:2}),n})(),X0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Vi,uf,kd],uf]}),n})();class Fo{constructor(e,t){this.dragContainerElement=e,this.startPosition=t.getBoundingClientRect()}validateDrag({x:e,y:t,snapDraggedEvents:r,dragAlreadyMoved:i,transform:l}){const d=xd({x:e,y:t})||i;if(r){const f=Object.assign({},this.startPosition,{left:this.startPosition.left+l.x,right:this.startPosition.right+l.x,top:this.startPosition.top+l.y,bottom:this.startPosition.bottom+l.y});if(d){const y=this.dragContainerElement.getBoundingClientRect(),D=y.top<f.top&&f.top<y.bottom,b=y.top<f.bottom&&f.bottom<y.bottom;return Qg(y,f)&&(D||b)}return!1}return d}}class ob{constructor(e,t,r){this.resizeContainerElement=e,this.minWidth=t,this.rtl=r}validateResize({rectangle:e,edges:t}){return this.rtl&&(void 0!==t.left?(e.left-=t.left,e.right+=t.left):void 0!==t.right&&(e.left+=t.right,e.right-=t.right),e.width=e.right-e.left),!(this.minWidth&&Math.ceil(e.width)<Math.ceil(this.minWidth))&&function Tv(n,e){return Qg(n,e)&&function H0(n,e){return Math.floor(n.top)<=Math.ceil(e.top)&&Math.floor(e.top)<=Math.ceil(n.bottom)&&Math.floor(n.top)<=Math.ceil(e.bottom)&&Math.floor(e.bottom)<=Math.ceil(n.bottom)}(n,e)}(this.resizeContainerElement.getBoundingClientRect(),e)}}let eE=(()=>{class n{constructor(){this.dayHeaderClicked=new a.vpe,this.eventDropped=new a.vpe,this.dragEnter=new a.vpe,this.trackByWeekDayHeaderDate=Jg}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(t,r){if(1&t&&(a.YNc(0,gv,2,2,"ng-template",null,0,a.W1O),a.YNc(2,Sd,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.HTZ(2,mv,r.days,r.locale,r.dayHeaderClicked,r.eventDropped,r.dragEnter,r.trackByWeekDayHeaderDate))}},directives:[ii,on,lf,Or,qi],pipes:[kf],encapsulation:2}),n})(),ab=(()=>{class n{constructor(){this.eventClicked=new a.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(t,r){if(1&t&&(a.YNc(0,Id,6,26,"ng-template",null,0,a.W1O),a.YNc(2,yv,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.rFY(2,vv,[r.weekEvent,r.tooltipPlacement,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDisabled,r.tooltipDelay,r.column,r.daysInWeek]))}},directives:[ii,el,Yg,qi,bl,mc,Kg],pipes:[Md,ka],encapsulation:2}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(t,r){if(1&t&&(a.YNc(0,zg,3,13,"ng-template",null,0,a.W1O),a.YNc(2,bi,0,0,"ng-template",1)),2&t){const i=a.MAs(1);a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.qbA(2,If,r.segment,r.locale,r.segmentHeight,r.isTimeLabel,r.daysInWeek))}},directives:[ii,Or,un],pipes:[ka,kf],encapsulation:2}),n})(),ub=(()=>{class n{constructor(t,r){this.dateAdapter=t,this.zone=r,this.columnDate$=new Pn(void 0),this.marker$=this.zone.onStable.pipe(ur(()=>function hd(n=0,e=Cs.z){return n<0&&(n=0),Nn(n,n,e)}(6e4)),Di(0),Zr(this.columnDate$),(0,Qe.U)(i=>{const l=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayStartHour),this.dayStartMinute),d=this.dateAdapter.setMinutes(this.dateAdapter.setHours(i,this.dayEndHour),this.dayEndMinute),f=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),y=new Date;return{isVisible:this.dateAdapter.isSameDay(i,y)&&y>=l&&y<=d,top:this.dateAdapter.differenceInMinutes(y,l)*f}}))}ngOnChanges(t){t.columnDate&&this.columnDate$.next(t.columnDate.currentValue)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(co),a.Y36(a.R0b))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[a.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(t,r){if(1&t&&(a.YNc(0,_v,1,1,"ng-template",null,0,a.W1O),a.YNc(2,ao,0,0,"ng-template",1),a.ALo(3,"async"),a.ALo(4,"async")),2&t){const i=a.MAs(1);let l;a.xp6(2),a.Q6J("ngTemplateOutlet",r.customTemplate||i)("ngTemplateOutletContext",a.Hh0(6,gc,r.columnDate,r.dayStartHour,r.dayStartMinute,r.dayEndHour,r.dayEndMinute,null==(l=a.lcZ(3,2,r.marker$))?null:l.isVisible,null==(l=a.lcZ(4,4,r.marker$))?null:l.top))}},directives:[ii,un],pipes:[$u],encapsulation:2}),n})(),tE=(()=>{class n{constructor(t,r,i,l,d){this.cdr=t,this.utils=r,this.dateAdapter=l,this.element=d,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new a.vpe,this.eventClicked=new a.vpe,this.eventTimesChanged=new a.vpe,this.beforeViewRender=new a.vpe,this.hourSegmentClicked=new a.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=Jg,this.trackByHourSegment=q0,this.trackByHour=vc,this.trackByWeekAllDayEvent=Z0,this.trackByWeekTimeEvent=W0,this.trackByHourColumn=(f,y)=>y.hours[0]?y.hours[0].segments[0].date.toISOString():y,this.trackById=(f,y)=>y.id,this.locale=i}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(t){const r=t.viewDate||t.excludeDays||t.weekendDays||t.daysInWeek||t.weekStartsOn,i=t.viewDate||t.dayStartHour||t.dayStartMinute||t.dayEndHour||t.dayEndMinute||t.hourSegments||t.hourDuration||t.weekStartsOn||t.weekendDays||t.excludeDays||t.hourSegmentHeight||t.events||t.daysInWeek||t.minimumEventHeight;r&&this.refreshHeader(),t.events&&Cv(this.events),i&&this.refreshBody(),(r||i)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl="undefined"!=typeof window&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(t,r,i){this.timeEventResizes.set(r.event,i),this.resizeStarted(t,r)}timeEventResizing(t,r){this.timeEventResizes.set(t.event,r);const i=new Map,l=[...this.events];this.timeEventResizes.forEach((d,f)=>{const y=this.getTimeEventResizedDates(f,d),D=Object.assign(Object.assign({},f),y);i.set(D,f);const b=l.indexOf(f);l[b]=D}),this.restoreOriginalEvents(l,i,!0)}timeEventResizeEnded(t){this.view=this.getWeekView(this.events);const r=this.timeEventResizes.get(t.event);if(r){this.timeEventResizes.delete(t.event);const i=this.getTimeEventResizedDates(t.event,r);this.eventTimesChanged.emit({newStart:i.start,newEnd:i.end,event:t.event,type:ho.Resize})}}allDayEventResizeStarted(t,r,i){this.allDayEventResizes.set(r,{originalOffset:r.offset,originalSpan:r.span,edge:void 0!==i.edges.left?"left":"right"}),this.resizeStarted(t,r,this.getDayColumnWidth(t))}allDayEventResizing(t,r,i){const l=this.allDayEventResizes.get(t),d=this.rtl?-1:1;if(void 0!==r.edges.left){const f=Math.round(+r.edges.left/i)*d;t.offset=l.originalOffset+f,t.span=l.originalSpan-f}else if(void 0!==r.edges.right){const f=Math.round(+r.edges.right/i)*d;t.span=l.originalSpan+f}}allDayEventResizeEnded(t){const r=this.allDayEventResizes.get(t);if(r){const i="left"===r.edge;let l;l=i?t.offset-r.originalOffset:t.span-r.originalSpan,t.offset=r.originalOffset,t.span=r.originalSpan;const d=this.getAllDayEventResizedDates(t.event,l,i);this.eventTimesChanged.emit({newStart:d.start,newEnd:d.end,event:t.event,type:ho.Resize}),this.allDayEventResizes.delete(t)}}getDayColumnWidth(t){return Math.floor(t.offsetWidth/this.days.length)}dateDragEnter(t){this.lastDragEnterDate=t}eventDropped(t,r,i){(function Iv(n,e,t,r){return n.dropData&&n.dropData.event&&(n.dropData.calendarId!==r||n.dropData.event.allDay&&!t||!n.dropData.event.allDay&&t)})(t,0,i,this.calendarId)&&this.lastDragEnterDate.getTime()===r.getTime()&&(!this.snapDraggedEvents||t.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:ho.Drop,event:t.dropData.event,newStart:r,allDay:i}),this.lastDraggedEvent=null}dragEnter(t){this.eventDragEnterByType[t]++}dragLeave(t){this.eventDragEnterByType[t]--}dragStarted(t,r,i,l){this.dayColumnWidth=this.getDayColumnWidth(t);const d=new Fo(t,r);this.validateDrag=({x:f,y,transform:D})=>{const b=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&d.validateDrag({x:f,y,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:D});if(b&&this.validateEventTimesChanged){const M=this.getDragMovedEventTimes(i,{x:f,y},this.dayColumnWidth,l);return this.validateEventTimesChanged({type:ho.Drag,event:i.event,newStart:M.start,newEnd:M.end})}return b},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&l&&this.view.hourColumns.forEach(f=>{const y=f.events.find(D=>D.event===i.event&&D!==i);y&&(y.width=0,y.height=0)}),this.cdr.markForCheck()}dragMove(t,r){const i=this.getDragMovedEventTimes(t,r,this.dayColumnWidth,!0),l=t.event,d=Object.assign(Object.assign({},l),i),f=this.events.map(y=>y===l?d:y);this.restoreOriginalEvents(f,new Map([[d,l]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(t,r,i,l=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:d,end:f}=this.getDragMovedEventTimes(t,r,i,l);(this.snapDraggedEvents||this.eventDragEnterByType[l?"time":"allDay"]>0)&&function G0(n,e,t){const r=e||n;return t.start<=n&&n<=t.end||t.start<=r&&r<=t.end}(d,f,this.view.period)&&(this.lastDraggedEvent=t.event,this.eventTimesChanged.emit({newStart:d,newEnd:f,event:t.event,type:ho.Drag,allDay:!l}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},em(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(t){return this.utils.getWeekView(Object.assign({events:t,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},em(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(t,r,i,l){const d=$0(r.x,i)/i*(this.rtl?-1:1),f=l?bv(r.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,y=this.dateAdapter.addMinutes(uo(this.dateAdapter,t.event.start,d,this.excludeDays),f);let D;return t.event.end&&(D=this.dateAdapter.addMinutes(uo(this.dateAdapter,t.event.end,d,this.excludeDays),f)),{start:y,end:D}}restoreOriginalEvents(t,r,i=!0){const l=this.view;i&&(this.view=this.getWeekView(t));const d=t.filter(f=>r.has(f));this.view.hourColumns.forEach((f,y)=>{l.hourColumns[y].hours.forEach((D,b)=>{D.segments.forEach((M,F)=>{f.hours[b].segments[F].cssClass=M.cssClass})}),d.forEach(D=>{const b=r.get(D),M=f.events.find(F=>F.event===(i?D:b));M?(M.event=b,M.tempEvent=D,i||(M.height=0,M.width=0)):f.events.push({event:b,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:D})})}),r.clear()}getTimeEventResizedDates(t,r){const i={start:t.start,end:Sv(this.dateAdapter,t,this.minimumEventHeight)},d=(0,Vg._T)(t,["end"]),f={start:this.dateAdapter.addMinutes(i.end,-1*this.minimumEventHeight),end:Sv(this.dateAdapter,d,this.minimumEventHeight)},y=this.rtl?-1:1;if(void 0!==r.edges.left){const D=Math.round(+r.edges.left/this.dayColumnWidth)*y,b=uo(this.dateAdapter,i.start,D,this.excludeDays);i.start=b<f.start?b:f.start}else if(void 0!==r.edges.right){const D=Math.round(+r.edges.right/this.dayColumnWidth)*y,b=uo(this.dateAdapter,i.end,D,this.excludeDays);i.end=b>f.end?b:f.end}if(void 0!==r.edges.top){const D=bv(r.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),b=this.dateAdapter.addMinutes(i.start,D);i.start=b<f.start?b:f.start}else if(void 0!==r.edges.bottom){const D=bv(r.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),b=this.dateAdapter.addMinutes(i.end,D);i.end=b>f.end?b:f.end}return i}resizeStarted(t,r,i){this.dayColumnWidth=this.getDayColumnWidth(t);const l=new ob(t,i,this.rtl);this.validateResize=({rectangle:d,edges:f})=>{const y=l.validateResize({rectangle:Object.assign({},d),edges:f});if(y&&this.validateEventTimesChanged){let D;if(i){const b=this.rtl?-1:1;if(void 0!==f.left){const M=Math.round(+f.left/i)*b;D=this.getAllDayEventResizedDates(r.event,M,!this.rtl)}else{const M=Math.round(+f.right/i)*b;D=this.getAllDayEventResizedDates(r.event,M,this.rtl)}}else D=this.getTimeEventResizedDates(r.event,{rectangle:d,edges:f});return this.validateEventTimesChanged({type:ho.Resize,event:r.event,newStart:D.start,newEnd:D.end})}return y},this.cdr.markForCheck()}getAllDayEventResizedDates(t,r,i){let l=t.start,d=t.end||t.start;return i?l=uo(this.dateAdapter,l,r,this.excludeDays):d=uo(this.dateAdapter,d,r,this.excludeDays),{start:l,end:d}}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.sBO),a.Y36(Of),a.Y36(a.soG),a.Y36(co),a.Y36(a.SBq))},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[a.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"mwl-calendar-week-view-header",1),a.NdJ("dayHeaderClicked",function(l){return r.dayHeaderClicked.emit(l)})("eventDropped",function(l){return r.eventDropped({dropData:l},l.newStart,!0)})("dragEnter",function(l){return r.dateDragEnter(l.date)}),a.qZA(),a.YNc(2,m,6,5,"div",2),a.TgZ(3,"div",3),a.NdJ("dragEnter",function(){return r.dragEnter("time")})("dragLeave",function(){return r.dragLeave("time")}),a.YNc(4,O,2,2,"div",4),a.TgZ(5,"div",5,6),a.YNc(7,Gg,5,13,"div",7),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(1),a.Q6J("days",r.days)("locale",r.locale)("customTemplate",r.headerTemplate),a.xp6(1),a.Q6J("ngIf",r.view.allDayEventRows.length>0),a.xp6(2),a.Q6J("ngIf",r.view.hourColumns.length>0&&1!==r.daysInWeek),a.xp6(1),a.ekj("cal-resize-active",r.timeEventResizes.size>0),a.xp6(2),a.Q6J("ngForOf",r.view.hourColumns)("ngForTrackBy",r.trackByHourColumn))},directives:[eE,un,lf,on,ii,sv,Ta,Or,ab,dc,lb,ub,qi],encapsulation:2}),n})(),tm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Vi,Cd,uf,kd],Cd,uf]}),n})(),cb=(()=>{class n{constructor(){this.events=[],this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.snapDraggedEvents=!0,this.eventClicked=new a.vpe,this.hourSegmentClicked=new a.vpe,this.eventTimesChanged=new a.vpe,this.beforeViewRender=new a.vpe}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["mwl-calendar-day-view"]],inputs:{viewDate:"viewDate",events:"events",hourSegments:"hourSegments",hourSegmentHeight:"hourSegmentHeight",hourDuration:"hourDuration",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",refresh:"refresh",locale:"locale",eventSnapSize:"eventSnapSize",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",hourSegmentTemplate:"hourSegmentTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",snapDraggedEvents:"snapDraggedEvents",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{eventClicked:"eventClicked",hourSegmentClicked:"hourSegmentClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender"},decls:1,vars:26,consts:[[1,"cal-day-view",3,"daysInWeek","viewDate","events","hourSegments","hourDuration","hourSegmentHeight","minimumEventHeight","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","refresh","locale","eventSnapSize","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","hourSegmentTemplate","eventTemplate","eventTitleTemplate","eventActionsTemplate","snapDraggedEvents","allDayEventsLabelTemplate","currentTimeMarkerTemplate","validateEventTimesChanged","eventClicked","hourSegmentClicked","eventTimesChanged","beforeViewRender"]],template:function(t,r){1&t&&(a.TgZ(0,"mwl-calendar-week-view",0),a.NdJ("eventClicked",function(l){return r.eventClicked.emit(l)})("hourSegmentClicked",function(l){return r.hourSegmentClicked.emit(l)})("eventTimesChanged",function(l){return r.eventTimesChanged.emit(l)})("beforeViewRender",function(l){return r.beforeViewRender.emit(l)}),a.qZA()),2&t&&a.Q6J("daysInWeek",1)("viewDate",r.viewDate)("events",r.events)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("minimumEventHeight",r.minimumEventHeight)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("refresh",r.refresh)("locale",r.locale)("eventSnapSize",r.eventSnapSize)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("hourSegmentTemplate",r.hourSegmentTemplate)("eventTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("snapDraggedEvents",r.snapDraggedEvents)("allDayEventsLabelTemplate",r.allDayEventsLabelTemplate)("currentTimeMarkerTemplate",r.currentTimeMarkerTemplate)("validateEventTimesChanged",r.validateEventTimesChanged)},directives:[tE],encapsulation:2}),n})(),nE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Vi,kd,tm]]}),n})(),db=(()=>{class n{static forRoot(t,r={}){return{ngModule:n,providers:[t,r.eventTitleFormatter||yc,r.dateFormatter||yu,r.utils||Of,r.a11y||Sl]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[kd,X0,tm,nE],kd,X0,tm,nE]}),n})();function ut(n){if(null===n||!0===n||!1===n)return NaN;var e=Number(n);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function xt(n,e){if(e.length<n)throw new TypeError(n+" argument"+(n>1?"s":"")+" required, but only "+e.length+" present")}function an(n){xt(1,arguments);var e=Object.prototype.toString.call(n);return n instanceof Date||"object"==typeof n&&"[object Date]"===e?new Date(n.getTime()):"number"==typeof n||"[object Number]"===e?new Date(n):(("string"==typeof n||"[object String]"===e)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function nm(n,e){xt(2,arguments);var t=an(n),r=ut(e);return isNaN(r)?new Date(NaN):(r&&t.setDate(t.getDate()+r),t)}function Od(n,e){xt(2,arguments);var t=an(n).getTime(),r=ut(e);return new Date(t+r)}function xv(n,e){xt(2,arguments);var t=ut(e);return Od(n,36e5*t)}function kv(n,e){xt(2,arguments);var t=ut(e);return Od(n,6e4*t)}function Il(n,e){xt(2,arguments);var t=ut(e);return Od(n,1e3*t)}function rm(n){var e=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return e.setUTCFullYear(n.getFullYear()),n.getTime()-e.getTime()}function Rd(n){xt(1,arguments);var e=an(n);return e.setHours(0,0,0,0),e}function ok(n,e){xt(2,arguments);var t=Rd(n),r=Rd(e),i=t.getTime()-rm(t),l=r.getTime()-rm(r);return Math.round((i-l)/864e5)}function Rv(n,e){var t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function ak(n,e){xt(2,arguments);var t=an(n),r=an(e),i=Rv(t,r),l=Math.abs(ok(t,r));t.setDate(t.getDate()-i*l);var d=Number(Rv(t,r)===-i),f=i*(l-d);return 0===f?0:f}Math.pow(10,8);var Rf=6e4;function iE(n,e){return xt(2,arguments),an(n).getTime()-an(e).getTime()}var pb={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}};function Pv(n){return n?pb[n]:pb.trunc}function gb(n,e,t){xt(2,arguments);var r=iE(n,e)/Rf;return Pv(null==t?void 0:t.roundingMethod)(r)}function Fv(n,e,t){xt(2,arguments);var r=iE(n,e)/1e3;return Pv(null==t?void 0:t.roundingMethod)(r)}function hk(n){xt(1,arguments);var e=an(n);return e.setHours(23,59,59,999),e}function fk(n){xt(1,arguments);var e=an(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function pk(n,e){xt(1,arguments);var t=e||{},r=t.locale,i=r&&r.options&&r.options.weekStartsOn,l=null==i?0:ut(i),d=null==t.weekStartsOn?l:ut(t.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=an(n),y=f.getDay(),D=6+(y<d?-7:0)-(y-d);return f.setDate(f.getDate()+D),f.setHours(23,59,59,999),f}function gk(n){xt(1,arguments);var e=an(n),t=e.getDay();return t}function mk(n){xt(1,arguments);var e=an(n),t=e.getMonth();return t}function mb(n,e){xt(2,arguments);var t=Rd(n),r=Rd(e);return t.getTime()===r.getTime()}function yb(n,e){xt(2,arguments);var t=an(n),r=an(e);return t.getFullYear()===r.getFullYear()&&t.getMonth()===r.getMonth()}function vb(n){xt(1,arguments);var e=an(n);return e.setMilliseconds(0),e}function yk(n,e){xt(2,arguments);var t=vb(n),r=vb(e);return t.getTime()===r.getTime()}function vk(n){var e,t;if(xt(1,arguments),n&&"function"==typeof n.forEach)e=n;else{if("object"!=typeof n||null===n)return new Date(NaN);e=Array.prototype.slice.call(n)}return e.forEach(function(r){var i=an(r);(void 0===t||t<i||isNaN(Number(i)))&&(t=i)}),t||new Date(NaN)}function vu(n,e){xt(2,arguments);var t=an(n),r=ut(e);return t.setHours(r),t}function Lv(n,e){xt(2,arguments);var t=an(n),r=ut(e);return t.setMinutes(r),t}function _b(n){xt(1,arguments);var e=an(n);return e.setSeconds(0,0),e}function oE(n){xt(1,arguments);var e=an(n);return e.setDate(1),e.setHours(0,0,0,0),e}function om(n,e){xt(1,arguments);var t=e||{},r=t.locale,i=r&&r.options&&r.options.weekStartsOn,l=null==i?0:ut(i),d=null==t.weekStartsOn?l:ut(t.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=an(n),y=f.getDay(),D=(y<d?7:0)+y-d;return f.setDate(f.getDate()-D),f.setHours(0,0,0,0),f}function aE(n){xt(1,arguments);var e=an(n),t=e.getHours();return t}function Vv(n){xt(1,arguments);var e=an(n),t=e.getMinutes();return t}function wb(n){return new Date(n).getTimezoneOffset()}function Uv(n,e){xt(2,arguments);var t=ut(e),r=7*t;return nm(n,r)}function lE(n,e){xt(2,arguments);var t=an(n),r=ut(e);if(isNaN(r))return new Date(NaN);if(!r)return t;var i=t.getDate(),l=new Date(t.getTime());l.setMonth(t.getMonth()+r+1,0);var d=l.getDate();return i>=d?l:(t.setFullYear(l.getFullYear(),l.getMonth(),i),t)}function Bv(n,e){xt(2,arguments);var t=ut(e);return nm(n,-t)}function Eb(n,e){xt(2,arguments);var t=ut(e);return Uv(n,-t)}function uE(n,e){xt(2,arguments);var t=ut(e);return lE(n,-t)}function am(n){return xt(1,arguments),om(n,{weekStartsOn:1})}function Db(n){xt(1,arguments);var e=an(n),t=e.getFullYear(),r=new Date(0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);var i=am(r),l=new Date(0);l.setFullYear(t,0,4),l.setHours(0,0,0,0);var d=am(l);return e.getTime()>=i.getTime()?t+1:e.getTime()>=d.getTime()?t:t-1}function Nf(n){xt(1,arguments);var e=Db(n),t=new Date(0);t.setFullYear(e,0,4),t.setHours(0,0,0,0);var r=am(t);return r}var Nd=6048e5;function jv(n){xt(1,arguments);var e=an(n),t=am(e).getTime()-Nf(e).getTime();return Math.round(t/Nd)+1}function Pd(n,e){xt(2,arguments);var t=an(n),r=ut(e);return t.setDate(r),t}function Pf(n){xt(1,arguments);var e=an(n),t=e.getFullYear(),r=e.getMonth(),i=new Date(0);return i.setFullYear(t,r+1,0),i.setHours(0,0,0,0),i.getDate()}function Fd(n,e){xt(2,arguments);var t=an(n),r=ut(e),i=t.getFullYear(),l=t.getDate(),d=new Date(0);d.setFullYear(i,r,15),d.setHours(0,0,0,0);var f=Pf(d);return t.setMonth(r,Math.min(l,f)),t}function Cb(n,e){xt(2,arguments);var t=an(n),r=ut(e);return isNaN(t.getTime())?new Date(NaN):(t.setFullYear(r),t)}function cE(n){xt(1,arguments);var e=an(n),t=e.getDate();return t}function dE(n){return xt(1,arguments),an(n).getFullYear()}function Hv(){return(0,Vg.pi)((0,Vg.pi)({},function _u(){return{addDays:nm,addHours:xv,addMinutes:kv,addSeconds:Il,differenceInDays:ak,differenceInMinutes:gb,differenceInSeconds:Fv,endOfDay:hk,endOfMonth:fk,endOfWeek:pk,getDay:gk,getMonth:mk,isSameDay:mb,isSameMonth:yb,isSameSecond:yk,max:vk,setHours:vu,setMinutes:Lv,startOfDay:Rd,startOfMinute:_b,startOfMonth:oE,startOfWeek:om,getHours:aE,getMinutes:Vv,getTimezoneOffset:wb}}()),{addWeeks:Uv,addMonths:lE,subDays:Bv,subWeeks:Eb,subMonths:uE,getISOWeek:jv,setDate:Pd,setMonth:Fd,setYear:Cb,getDate:cE,getYear:dE})}const Ff=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Lf(n){return new wn.y(e=>{(0,Xi.Xf)(n()).subscribe(e)})}var hE=N(727);function zv(){return(0,Yn.e)((n,e)=>{let t=null;n._refCount++;const r=new Fn.Q(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,l=t;t=null,i&&(!l||i===l)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class _k extends wn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Yn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new hE.w0;const t=this.getSubject();e.add(this.source.subscribe(new Fn.Q(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=hE.w0.EMPTY)}return e}refCount(){return zv()(this)}}function Ld(n,e){return(0,Yn.e)(vd(n,e,arguments.length>=2,!0))}function Oa(n){return(0,Yn.e)((e,t)=>{let l,r=null,i=!1;r=e.subscribe(new Fn.Q(t,void 0,void 0,d=>{l=(0,Xi.Xf)(n(d,Oa(n)(e))),r?(r.unsubscribe(),r=null,l.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,l.subscribe(t))})}function Vd(n,e){return(0,es.m)(e)?(0,Qn.z)(n,e,1):(0,Qn.z)(n,1)}function qv(n=Tb){return(0,Yn.e)((e,t)=>{let r=!1;e.subscribe(new Fn.Q(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Tb(){return new Ff}function fE(n){return(0,Yn.e)((e,t)=>{let r=!1;e.subscribe(new Fn.Q(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function _c(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jt((i,l)=>n(i,l,r)):Ro.y,(0,Pr.q)(1),t?fE(e):qv(()=>new Ff))}class wu{constructor(e,t){this.id=e,this.url=t}}class pE extends wu{constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ud extends wu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sb extends wu{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ib extends wu{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Zv extends wu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gE extends wu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ab extends wu{constructor(e,t,r,i,l){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mb extends wu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xb extends wu{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wv{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mE{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class yE{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kb{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ob{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vE{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Wt="primary";class Ra{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Eu(n){return new Ra(n)}const _E="ngNavigationCancelingError";function Kv(n){const e=Error("NavigationCancelingError: "+n);return e[_E]=!0,e}function wE(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let l=0;l<r.length;l++){const d=r[l],f=n[l];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Na(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let l=0;l<t.length;l++)if(i=t[l],!EE(n[i],e[i]))return!1;return!0}function EE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,l)=>r[l]===i)}return n===e}function lm(n){return Array.prototype.concat.apply([],n)}function DE(n){return n.length>0?n[n.length-1]:null}function Ir(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fo(n){return(0,a.CqO)(n)?n:(0,a.QGY)(n)?(0,nn.D)(Promise.resolve(n)):_t(n)}const Yv={exact:function CE(n,e,t){if(!Zi(n.segments,e.segments)||!Vf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!CE(n.children[r],e.children[r],t))return!1;return!0},subset:Fb},um={exact:function Pb(n,e){return Na(n,e)},subset:function Jv(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>EE(n[t],e[t]))},ignored:()=>!0};function Qv(n,e,t){return Yv[t.paths](n.root,e.root,t.matrixParams)&&um[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Fb(n,e,t){return TE(n,e,e.segments,t)}function TE(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Zi(i,t)||e.hasChildren()||!Vf(i,t,r))}if(n.segments.length===t.length){if(!Zi(n.segments,t)||!Vf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Fb(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Zi(n.segments,i)&&Vf(n.segments,i,r)&&n.children[Wt])&&TE(n.children[Wt],e,l,r)}}function Vf(n,e,t){return e.every((r,i)=>um[t](n[i].parameters,r.parameters))}class Du{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return Dk.serialize(this)}}class Kt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ir(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jd(this)}}class Bd{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Eu(this.parameters)),this._parameterMap}toString(){return e_(this)}}function Zi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class SE{}class IE{parse(e){const t=new jb(e);return new Du(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Hd(e.root,!0)}`,r=function t_(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Cu(t)}=${Cu(i)}`).join("&"):`${Cu(t)}=${Cu(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Lb(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Dk=new IE;function jd(n){return n.segments.map(e=>e_(e)).join("/")}function Hd(n,e){if(!n.hasChildren())return jd(n);if(e){const t=n.children[Wt]?Hd(n.children[Wt],!1):"",r=[];return Ir(n.children,(i,l)=>{l!==Wt&&r.push(`${l}:${Hd(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function cm(n,e){let t=[];return Ir(n.children,(r,i)=>{i===Wt&&(t=t.concat(e(r,i)))}),Ir(n.children,(r,i)=>{i!==Wt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Wt?[Hd(n.children[Wt],!1)]:[`${i}:${Hd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Wt]?`${jd(n)}/${t[0]}`:`${jd(n)}/(${t.join("//")})`}}function dm(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cu(n){return dm(n).replace(/%3B/gi,";")}function Uf(n){return dm(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bf(n){return decodeURIComponent(n)}function Xv(n){return Bf(n.replace(/\+/g,"%20"))}function e_(n){return`${Uf(n.path)}${function Vb(n){return Object.keys(n).map(e=>`;${Uf(e)}=${Uf(n[e])}`).join("")}(n.parameters)}`}const Ub=/^[^\/()?;=#]+/;function hm(n){const e=n.match(Ub);return e?e[0]:""}const AE=/^[^=?&#]+/,ME=/^[^&#]+/;class jb{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Kt([],{}):new Kt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Wt]=new Kt(e,t)),r}parseSegment(){const e=hm(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Bd(Bf(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=hm(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=hm(this.remaining);i&&(r=i,this.capture(r))}e[Bf(t)]=Bf(r)}parseQueryParam(e){const t=function $d(n){const e=n.match(AE);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function Bb(n){const e=n.match(ME);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Xv(t),l=Xv(r);if(e.hasOwnProperty(i)){let d=e[i];Array.isArray(d)||(d=[d],e[i]=d),d.push(l)}else e[i]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=hm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=Wt);const d=this.parseChildren();t[l]=1===Object.keys(d).length?d[Wt]:new Kt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class wc{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=n_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=n_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=r_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return r_(e,this._root).map(t=>t.value)}}function n_(n,e){if(n===e.value)return e;for(const t of e.children){const r=n_(n,t);if(r)return r}return null}function r_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=r_(n,t);if(r.length)return r.unshift(e),r}return[]}class Al{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function zd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Rs extends wc{constructor(e,t){super(e),this.snapshot=t,s_(this,e)}toString(){return this.snapshot.toString()}}function fm(n,e){const t=function xE(n,e){const d=new pm([],{},{},"",{},Wt,e,null,n.root,-1,{});return new OE("",new Al(d,[]))}(n,e),r=new Pn([new Bd("",{})]),i=new Pn({}),l=new Pn({}),d=new Pn({}),f=new Pn(""),y=new Tu(r,i,d,f,l,Wt,e,t.root);return y.snapshot=t.root,new Rs(new Al(y,[]),t)}class Tu{constructor(e,t,r,i,l,d,f,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qe.U)(e=>Eu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qe.U)(e=>Eu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function i_(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],l=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(l.component)break;r--}}return function kE(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class pm{constructor(e,t,r,i,l,d,f,y,D,b,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=l,this.outlet=d,this.component=f,this.routeConfig=y,this._urlSegment=D,this._lastPathIndex=b,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Eu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Eu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class OE extends wc{constructor(e,t){super(t),this.url=e,s_(this,t)}toString(){return RE(this._root)}}function s_(n,e){e.value._routerState=n,e.children.forEach(t=>s_(n,t))}function RE(n){const e=n.children.length>0?` { ${n.children.map(RE).join(", ")} } `:"";return`${n.value}${e}`}function gm(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Na(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Na(e.params,t.params)||n.params.next(t.params),function Rb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Na(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Na(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function NE(n,e){const t=Na(n.params,e.params)&&function bE(n,e){return Zi(n,e)&&n.every((t,r)=>Na(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||NE(n.parent,e.parent))}function jf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Hb(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return jf(n,r,i);return jf(n,r)})}(n,e,t);return new Al(r,i)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const d=l.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(f=>jf(n,f)),d}}const r=function Ck(n){return new Tu(new Pn(n.url),new Pn(n.params),new Pn(n.queryParams),new Pn(n.fragment),new Pn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(l=>jf(n,l));return new Al(r,i)}}function qd(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Hf(n){return"object"==typeof n&&null!=n&&n.outlets}function mm(n,e,t,r,i){let l={};return r&&Ir(r,(d,f)=>{l[f]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new Du(t.root===n?e:o_(t.root,n,e),l,i)}function o_(n,e,t){const r={};return Ir(n.children,(i,l)=>{r[l]=i===e?t:o_(i,e,t)}),new Kt(n.segments,r)}class $b{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&qd(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(Hf);if(i&&i!==DE(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class FE{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function a_(n,e,t){if(n||(n=new Kt([],{})),0===n.segments.length&&n.hasChildren())return ym(n,e,t);const r=function Sk(n,e,t){let r=0,i=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return l;const d=n.segments[i],f=t[r];if(Hf(f))break;const y=`${f}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&D&&"object"==typeof D&&void 0===D.outlets){if(!_m(y,D,d))return l;r+=2}else{if(!_m(y,{},d))return l;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new Kt(n.segments.slice(0,r.pathIndex),{});return l.children[Wt]=new Kt(n.segments.slice(r.pathIndex),n.children),ym(l,0,i)}return r.match&&0===i.length?new Kt(n.segments,{}):r.match&&!n.hasChildren()?vm(n,e,t):r.match?ym(n,0,i):vm(n,e,t)}function ym(n,e,t){if(0===t.length)return new Kt(n.segments,{});{const r=function VE(n){return Hf(n[0])?n[0].outlets:{[Wt]:n}}(t),i={};return Ir(r,(l,d)=>{"string"==typeof l&&(l=[l]),null!==l&&(i[d]=a_(n.children[d],e,l))}),Ir(n.children,(l,d)=>{void 0===r[d]&&(i[d]=l)}),new Kt(n.segments,i)}}function vm(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const l=t[i];if(Hf(l)){const y=l_(l.outlets);return new Kt(r,y)}if(0===i&&qd(t[0])){r.push(new Bd(n.segments[e].path,UE(t[0]))),i++;continue}const d=Hf(l)?l.outlets[Wt]:`${l}`,f=i<t.length-1?t[i+1]:null;d&&f&&qd(f)?(r.push(new Bd(d,UE(f))),i+=2):(r.push(new Bd(d,{})),i++)}return new Kt(r,{})}function l_(n){const e={};return Ir(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=vm(new Kt([],{}),0,t))}),e}function UE(n){const e={};return Ir(n,(t,r)=>e[r]=`${t}`),e}function _m(n,e,t){return n==t.path&&Na(e,t.parameters)}class qb{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),gm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=zd(t);e.children.forEach(l=>{const d=l.value.outlet;this.deactivateRoutes(l,i[d],r),delete i[d]}),Ir(i,(l,d)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(i===l)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=zd(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);if(r&&r.outlet){const d=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,l=zd(e);for(const d of Object.keys(l))this.deactivateRouteAndItsChildren(l[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=zd(t);e.children.forEach(l=>{this.activateRoutes(l,i[l.value.outlet],r),this.forwardEvent(new vE(l.value.snapshot))}),e.children.length&&this.forwardEvent(new kb(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,l=t?t.value:null;if(gm(i),i===l)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),gm(f.route.value),this.activateChildRoutes(e,null,d.children)}else{const f=function Zb(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(i.snapshot),y=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=y,d.outlet&&d.outlet.activateWith(i,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class u_{constructor(e,t){this.routes=e,this.module=t}}function bu(n){return"function"==typeof n}function Pa(n){return n instanceof Du}const zf=Symbol("INITIAL_VALUE");function Ec(){return ur(n=>No(n.map(e=>e.pipe((0,Pr.q)(1),Di(zf)))).pipe(Ld((e,t)=>{let r=!1;return t.reduce((i,l,d)=>i!==zf?i:(l===zf&&(r=!0),r||!1!==l&&d!==t.length-1&&!Pa(l)?i:l),e)},zf),Jt(e=>e!==zf),(0,Qe.U)(e=>Pa(e)?e:!0===e),(0,Pr.q)(1)))}class Fa{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ml,this.attachRef=null}}class Ml{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Fa,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Lr=(()=>{class n{constructor(t,r,i,l,d){this.parentContexts=t,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new a.vpe,this.deactivateEvents=new a.vpe,this.attachEvents=new a.vpe,this.detachEvents=new a.vpe,this.name=l||Wt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,y=new Dc(t,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Ml),a.Y36(a.s_b),a.Y36(a._Vd),a.$8M("name"),a.Y36(a.sBO))},n.\u0275dir=a.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Dc{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Tu?this.route:e===Ml?this.childContexts:this.parent.get(e,t)}}let qf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:[Lr],encapsulation:2}),n})();function Ns(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];c_(r,Wd(e,r))}}function c_(n,e){n.children&&Ns(n.children,e)}function Wd(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function Su(n){const e=n.children&&n.children.map(Su),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Wt&&(t.component=qf),t}function ui(n){return n.outlet||Wt}function Cc(n,e){const t=n.filter(r=>ui(r)===e);return t.push(...n.filter(r=>ui(r)!==e)),t}const Tc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function xl(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Tc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||wE)(t,n,e);if(!l)return Object.assign({},Tc);const d={};Ir(l.posParams,(y,D)=>{d[D]=y.path});const f=l.consumed.length>0?Object.assign(Object.assign({},d),l.consumed[l.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:f,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function kl(n,e,t,r,i="corrected"){if(t.length>0&&function BE(n,e,t){return t.some(r=>Zf(n,e,r)&&ui(r)!==Wt)}(n,t,r)){const d=new Kt(e,function Kd(n,e,t,r){const i={};i[Wt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&ui(l)!==Wt){const d=new Kt([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,i[ui(l)]=d}return i}(n,e,r,new Kt(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function jE(n,e,t){return t.some(r=>Zf(n,e,r))}(n,t,r)){const d=new Kt(n.segments,function Gd(n,e,t,r,i,l){const d={};for(const f of r)if(Zf(n,t,f)&&!i[ui(f)]){const y=new Kt([],{});y._sourceSegment=n,y._segmentIndexShift="legacy"===l?n.segments.length:e.length,d[ui(f)]=y}return Object.assign(Object.assign({},i),d)}(n,e,t,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const l=new Kt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function Zf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function d_(n,e,t,r){return!!(ui(n)===r||r!==Wt&&Zf(e,t,n))&&("**"===n.path||xl(e,n,t).matched)}function h_(n,e,t){return 0===e.length&&!n.children[t]}class Yd{constructor(e){this.segmentGroup=e||null}}class f_{constructor(e){this.urlTree=e}}function Wf(n){return new wn.y(e=>e.error(new Yd(n)))}function p_(n){return new wn.y(e=>e.error(new f_(n)))}function Yb(n){return new wn.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class $E{constructor(e,t,r,i,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(a.h0i)}apply(){const e=kl(this.urlTree.root,[],[],this.config).segmentGroup,t=new Kt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Wt).pipe((0,Qe.U)(l=>this.createUrlTree(g_(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Oa(l=>{if(l instanceof f_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof Yd?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Wt).pipe((0,Qe.U)(i=>this.createUrlTree(g_(i),e.queryParams,e.fragment))).pipe(Oa(i=>{throw i instanceof Yd?this.noMatchError(i):i}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const i=e.segments.length>0?new Kt([],{[Wt]:e}):e;return new Du(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Qe.U)(l=>new Kt([],l))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const l of Object.keys(r.children))"primary"===l?i.unshift(l):i.push(l);return(0,nn.D)(i).pipe(Vd(l=>{const d=r.children[l],f=Cc(t,l);return this.expandSegmentGroup(e,f,d,l).pipe((0,Qe.U)(y=>({segment:y,outlet:l})))}),Ld((l,d)=>(l[d.outlet]=d.segment,l),{}),function Os(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Jt((i,l)=>n(i,l,r)):Ro.y,va(1),t?fE(e):qv(()=>new Ff))}())}expandSegment(e,t,r,i,l,d){return(0,nn.D)(r).pipe(Vd(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,l,d).pipe(Oa(D=>{if(D instanceof Yd)return _t(null);throw D}))),_c(f=>!!f),Oa((f,y)=>{if(f instanceof Ff||"EmptyError"===f.name){if(h_(t,i,l))return _t(new Kt([],{}));throw new Yd(t)}throw f}))}expandSegmentAgainstRoute(e,t,r,i,l,d,f){return d_(i,t,l,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,l,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d):Wf(t):Wf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?p_(l):this.lineralizeSegments(r,l).pipe((0,Qn.z)(d=>{const f=new Kt(d,{});return this.expandSegment(e,f,t,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,l,d){const{matched:f,consumedSegments:y,lastChild:D,positionalParamSegments:b}=xl(t,i,l);if(!f)return Wf(t);const M=this.applyRedirectCommands(y,i.redirectTo,b);return i.redirectTo.startsWith("/")?p_(M):this.lineralizeSegments(i,M).pipe((0,Qn.z)(F=>this.expandSegment(e,t,r,F.concat(l.slice(D)),d,!1)))}matchSegmentAgainstRoute(e,t,r,i,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?_t(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Qe.U)(F=>(r._loadedConfig=F,new Kt(i,{})))):_t(new Kt(i,{}));const{matched:d,consumedSegments:f,lastChild:y}=xl(t,r,i);if(!d)return Wf(t);const D=i.slice(y);return this.getChildConfig(e,r,i).pipe((0,Qn.z)(M=>{const F=M.module,R=M.routes,{segmentGroup:B,slicedSegments:te}=kl(t,f,D,R),se=new Kt(B.segments,B.children);if(0===te.length&&se.hasChildren())return this.expandChildren(F,R,se).pipe((0,Qe.U)(Pe=>new Kt(f,Pe)));if(0===R.length&&0===te.length)return _t(new Kt(f,{}));const De=ui(r)===l;return this.expandSegment(F,se,R,te,De?Wt:l,!0).pipe((0,Qe.U)(Be=>new Kt(f.concat(Be.segments),Be.children)))}))}getChildConfig(e,t,r){return t.children?_t(new u_(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?_t(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Qn.z)(i=>i?this.configLoader.load(e.injector,t).pipe((0,Qe.U)(l=>(t._loadedConfig=l,l))):function HE(n){return new wn.y(e=>e.error(Kv(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):_t(new u_([],e))}runCanLoadGuards(e,t,r){const i=t.canLoad;return i&&0!==i.length?_t(i.map(d=>{const f=e.get(d);let y;if(function Zd(n){return n&&bu(n.canLoad)}(f))y=f.canLoad(t,r);else{if(!bu(f))throw new Error("Invalid CanLoad guard");y=f(t,r)}return fo(y)})).pipe(Ec(),(0,ai.b)(d=>{if(!Pa(d))return;const f=Kv(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,Qe.U)(d=>!0===d)):_t(!0)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return _t(r);if(i.numberOfChildren>1||!i.children[Wt])return Yb(e.redirectTo);i=i.children[Wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,i){const l=this.createSegmentGroup(e,t.root,r,i);return new Du(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Ir(e,(i,l)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[l]=t[f]}else r[l]=i}),r}createSegmentGroup(e,t,r,i){const l=this.createSegments(e,t.segments,r,i);let d={};return Ir(t.children,(f,y)=>{d[y]=this.createSegmentGroup(e,f,r,i)}),new Kt(l,d)}createSegments(e,t,r,i){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,i):this.findOrReturn(l,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}function g_(n){const e={};for(const r of Object.keys(n.children)){const l=g_(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function zE(n){if(1===n.numberOfChildren&&n.children[Wt]){const e=n.children[Wt];return new Kt(n.segments.concat(e.segments),e.children)}return n}(new Kt(n.segments,e))}class m_{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class wm{constructor(e,t){this.component=e,this.route=t}}function qE(n,e,t){const r=n._root;return Gf(r,e?e._root:null,t,[r.value])}function Em(n,e,t){const r=function Ik(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Gf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=zd(e);return n.children.forEach(d=>{(function y_(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,d=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(d&&l.routeConfig===d.routeConfig){const y=function v_(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Zi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Zi(n.url,e.url)||!Na(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!NE(n,e)||!Na(n.queryParams,e.queryParams);default:return!NE(n,e)}}(d,l,l.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new m_(r)):(l.data=d.data,l._resolvedData=d._resolvedData),Gf(n,e,l.component?f?f.children:null:t,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new wm(f.outlet.component,d))}else d&&Kf(e,f,i),i.canActivateChecks.push(new m_(r)),Gf(n,null,l.component?f?f.children:null:t,r,i)})(d,l[d.value.outlet],t,r.concat([d.value]),i),delete l[d.value.outlet]}),Ir(l,(d,f)=>Kf(d,t.getContext(f),i)),i}function Kf(n,e,t){const r=zd(n),i=n.value;Ir(r,(l,d)=>{Kf(l,i.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new wm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class nS{}function __(n){return new wn.y(e=>e.error(n))}class WE{constructor(e,t,r,i,l,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=d}recognize(){const e=kl(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Wt);if(null===t)return null;const r=new pm([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Wt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Al(r,t),l=new OE(this.url,i);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=i_(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const d=t.children[l],f=Cc(e,l),y=this.processSegmentGroup(f,d,l);if(null===y)return null;r.push(...y)}const i=KE(r);return function Dm(n){n.sort((e,t)=>e.value.outlet===Wt?-1:t.value.outlet===Wt?1:e.value.outlet.localeCompare(t.value.outlet))}(i),i}processSegment(e,t,r,i){for(const l of e){const d=this.processSegmentAgainstRoute(l,t,r,i);if(null!==d)return d}return h_(t,r,i)?[]:null}processSegmentAgainstRoute(e,t,r,i){if(e.redirectTo||!d_(e,t,r,i))return null;let l,d=[],f=[];if("**"===e.path){const R=r.length>0?DE(r).parameters:{};l=new pm(r,R,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JE(e),ui(e),e.component,e,YE(t),QE(t)+r.length,w_(e))}else{const R=xl(t,e,r);if(!R.matched)return null;d=R.consumedSegments,f=r.slice(R.lastChild),l=new pm(d,R.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,JE(e),ui(e),e.component,e,YE(t),QE(t)+d.length,w_(e))}const y=function iS(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:D,slicedSegments:b}=kl(t,d,f,y.filter(R=>void 0===R.redirectTo),this.relativeLinkResolution);if(0===b.length&&D.hasChildren()){const R=this.processChildren(y,D);return null===R?null:[new Al(l,R)]}if(0===y.length&&0===b.length)return[new Al(l,[])];const M=ui(e)===i,F=this.processSegment(y,D,b,M?Wt:i);return null===F?null:[new Al(l,F)]}}function GE(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function KE(n){const e=[],t=new Set;for(const r of n){if(!GE(r)){e.push(r);continue}const i=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=KE(r.children);e.push(new Al(r.value,i))}return e.filter(r=>!t.has(r))}function YE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function QE(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function JE(n){return n.data||{}}function w_(n){return n.resolve||{}}function Yf(n){return ur(e=>{const t=n(e);return t?(0,nn.D)(t).pipe((0,Qe.U)(()=>e)):_t(e)})}class Qf extends class Nk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Cm=new a.OlP("ROUTES");class Tm{constructor(e,t,r,i){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=i}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const i=this.loadModuleFactory(t.loadChildren).pipe((0,Qe.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=l.create(e);return new u_(lm(d.injector.get(Cm,void 0,a.XFs.Self|a.XFs.Optional)).map(Su),d)}),Oa(l=>{throw t._loader$=void 0,l}));return t._loader$=new _k(i,()=>new xn.x).pipe(zv()),t._loader$}loadModuleFactory(e){return fo(e()).pipe((0,Qn.z)(t=>t instanceof a.YKP?_t(t):(0,nn.D)(this.compiler.compileModuleAsync(t))))}}class aS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function C_(n){throw n}function T_(n,e,t){return e.parse("/")}function b_(n,e){return _t(null)}const Pk={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hn=(()=>{class n{constructor(t,r,i,l,d,f,y){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=l,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xn.x,this.errorHandler=C_,this.malformedUriErrorHandler=T_,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:b_,afterPreactivation:b_},this.urlHandlingStrategy=new aS,this.routeReuseStrategy=new Qf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(a.h0i),this.console=d.get(a.c2e);const M=d.get(a.R0b);this.isNgZoneEnabled=M instanceof a.R0b&&a.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=function Nb(){return new Du(new Kt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Tm(d,f,F=>this.triggerEvent(new Wv(F)),F=>this.triggerEvent(new mE(F))),this.routerState=fm(this.currentUrlTree,this.rootComponentType),this.transitions=new Pn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Jt(i=>0!==i.id),(0,Qe.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),ur(i=>{let l=!1,d=!1;return _t(i).pipe((0,ai.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ur(f=>{const y=this.browserUrlTree.toString(),D=!this.navigated||f.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||D)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return bm(f.source)&&(this.browserUrlTree=f.extractedUrl),_t(f).pipe(ur(M=>{const F=this.transitions.getValue();return r.next(new pE(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),F!==this.transitions.getValue()?Ms.E:Promise.resolve(M)}),function Jb(n,e,t,r){return ur(i=>function Qb(n,e,t,r,i){return new $E(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Qe.U)(l=>Object.assign(Object.assign({},i),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ai.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function sS(n,e,t,r,i){return(0,Qn.z)(l=>function rS(n,e,t,r,i="emptyOnly",l="legacy"){try{const d=new WE(n,e,t,r,i,l).recognize();return null===d?__(new nS):_t(d)}catch(d){return __(d)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,i).pipe((0,Qe.U)(d=>Object.assign(Object.assign({},l),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ai.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const R=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(R,M)}this.browserUrlTree=M.urlAfterRedirects}const F=new Zv(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(F)}));if(D&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:F,extractedUrl:R,source:B,restoredState:te,extras:se}=f,De=new pE(F,this.serializeUrl(R),B,te);r.next(De);const Re=fm(R,this.rootComponentType).snapshot;return _t(Object.assign(Object.assign({},f),{targetSnapshot:Re,urlAfterRedirects:R,extras:Object.assign(Object.assign({},se),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ms.E}),Yf(f=>{const{targetSnapshot:y,id:D,extractedUrl:b,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:R}}=f;return this.hooks.beforePreactivation(y,{navigationId:D,appliedUrlTree:b,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!R})}),(0,ai.b)(f=>{const y=new gE(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(y)}),(0,Qe.U)(f=>Object.assign(Object.assign({},f),{guards:qE(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function Ak(n,e){return(0,Qn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:l,canDeactivateChecks:d}}=t;return 0===d.length&&0===l.length?_t(Object.assign(Object.assign({},t),{guardsResult:!0})):function Mk(n,e,t,r){return(0,nn.D)(n).pipe((0,Qn.z)(i=>function Qd(n,e,t,r,i){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return l&&0!==l.length?_t(l.map(f=>{const y=Em(f,e,i);let D;if(function Kb(n){return n&&bu(n.canDeactivate)}(y))D=fo(y.canDeactivate(n,e,t,r));else{if(!bu(y))throw new Error("Invalid CanDeactivate guard");D=fo(y(n,e,t,r))}return D.pipe(_c())})).pipe(Ec()):_t(!0)}(i.component,i.route,t,e,r)),_c(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Qn.z)(f=>f&&function Wb(n){return"boolean"==typeof n}(f)?function xk(n,e,t,r){return(0,nn.D)(e).pipe(Vd(i=>ji(function ZE(n,e){return null!==n&&e&&e(new yE(n)),_t(!0)}(i.route.parent,r),function eS(n,e){return null!==n&&e&&e(new Ob(n)),_t(!0)}(i.route,r),function tS(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(d=>function Xb(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Lf(()=>_t(d.guards.map(y=>{const D=Em(y,d.node,t);let b;if(function $f(n){return n&&bu(n.canActivateChild)}(D))b=fo(D.canActivateChild(r,n));else{if(!bu(D))throw new Error("Invalid CanActivateChild guard");b=fo(D(r,n))}return b.pipe(_c())})).pipe(Ec())));return _t(l).pipe(Ec())}(n,i.path,t),function kk(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return _t(!0);const i=r.map(l=>Lf(()=>{const d=Em(l,e,t);let f;if(function Gb(n){return n&&bu(n.canActivate)}(d))f=fo(d.canActivate(e,n));else{if(!bu(d))throw new Error("Invalid CanActivate guard");f=fo(d(e,n))}return f.pipe(_c())}));return _t(i).pipe(Ec())}(n,i.route,t))),_c(i=>!0!==i,!0))}(r,l,n,e):_t(f)),(0,Qe.U)(f=>Object.assign(Object.assign({},t),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,ai.b)(f=>{if(Pa(f.guardsResult)){const D=Kv(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw D.url=f.guardsResult,D}const y=new Ab(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(y)}),Jt(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Yf(f=>{if(f.guards.canActivateChecks.length)return _t(f).pipe((0,ai.b)(y=>{const D=new Mb(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(D)}),ur(y=>{let D=!1;return _t(y).pipe(function XE(n,e){return(0,Qn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return _t(t);let l=0;return(0,nn.D)(i).pipe(Vd(d=>function eD(n,e,t,r){return function E_(n,e,t,r){const i=Object.keys(n);if(0===i.length)return _t({});const l={};return(0,nn.D)(i).pipe((0,Qn.z)(d=>function Rk(n,e,t,r){const i=Em(n,e,r);return fo(i.resolve?i.resolve(e,t):i(e,t))}(n[d],e,t,r).pipe((0,ai.b)(f=>{l[d]=f}))),va(1),(0,Qn.z)(()=>Object.keys(l).length===i.length?_t(l):Ms.E))}(n._resolve,n,e,r).pipe((0,Qe.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),i_(n,t).resolve),null)))}(d.route,r,n,e)),(0,ai.b)(()=>l++),va(1),(0,Qn.z)(d=>l===i.length?_t(t):Ms.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ai.b)({next:()=>D=!0,complete:()=>{D||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,ai.b)(y=>{const D=new xb(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(D)}))}),Yf(f=>{const{targetSnapshot:y,id:D,extractedUrl:b,rawUrl:M,extras:{skipLocationChange:F,replaceUrl:R}}=f;return this.hooks.afterPreactivation(y,{navigationId:D,appliedUrlTree:b,rawUrlTree:M,skipLocationChange:!!F,replaceUrl:!!R})}),(0,Qe.U)(f=>{const y=function PE(n,e,t){const r=jf(n,e._root,t?t._root:void 0);return new Rs(r,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:y})}),(0,ai.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,Qe.U)(r=>(new qb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,ai.b)({next(){l=!0},complete(){l=!0}}),function bb(n){return(0,Yn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var f;l||d||this.cancelNavigationTransition(i,`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`),(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Oa(f=>{if(d=!0,function wk(n){return n&&n[_E]}(f)){const y=Pa(f.url);y||(this.navigated=!0,this.restoreHistory(i,!0));const D=new Sb(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(D),y?setTimeout(()=>{const b=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),M={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||bm(i.source)};this.scheduleNavigation(b,"imperative",null,M,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const y=new Ib(i.id,this.serializeUrl(i.extractedUrl),f);r.next(y);try{i.resolve(this.errorHandler(f))}catch(D){i.reject(D)}}return Ms.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var i;const l={replaceUrl:!0},d=(null===(i=t.state)||void 0===i?void 0:i.navigationId)?t.state:null;if(d){const y=Object.assign({},d);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(l.state=y)}const f=this.parseUrl(t.url);this.scheduleNavigation(f,r,d,l)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ns(t),this.config=t.map(Su),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:l,fragment:d,queryParamsHandling:f,preserveFragment:y}=r,D=i||this.routerState.root,b=y?this.currentUrlTree.fragment:d;let M=null;switch(f){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function Tk(n,e,t,r,i){if(0===t.length)return mm(e.root,e.root,e,r,i);const l=function Vo(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new $b(!0,0,n);let e=0,t=!1;const r=n.reduce((i,l,d)=>{if("object"==typeof l&&null!=l){if(l.outlets){const f={};return Ir(l.outlets,(y,D)=>{f[D]="string"==typeof y?y.split("/"):y}),[...i,{outlets:f}]}if(l.segmentPath)return[...i,l.segmentPath]}return"string"!=typeof l?[...i,l]:0===d?(l.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,l]},[]);return new $b(t,e,r)}(t);if(l.toRoot())return mm(e.root,new Kt([],{}),e,r,i);const d=function bk(n,e,t){if(n.isAbsolute)return new FE(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new FE(l,l===e.root,0)}const r=qd(n.commands[0])?0:1;return function LE(n,e,t){let r=n,i=e,l=t;for(;l>i;){if(l-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new FE(r,!1,i-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),f=d.processChildren?ym(d.segmentGroup,d.index,l.commands):a_(d.segmentGroup,d.index,l.commands);return mm(d.segmentGroup,f,e,r,i)}(D,this.currentUrlTree,t,M,null!=b?b:null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Pa(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function tD(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?Object.assign({},Pk):!1===r?Object.assign({},lS):r,Pa(t))return Qv(this.currentUrlTree,t,i);const l=this.parseUrl(t);return Qv(this.currentUrlTree,l,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const l=t[i];return null!=l&&(r[i]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ud(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,l,d){var f,y,D;if(this.disposed)return Promise.resolve(!1);const b=this.transitions.value,M=bm(r)&&b&&!bm(b.source),F=b.rawUrl.toString()===t.toString(),R=b.id===(null===(f=this.currentNavigation)||void 0===f?void 0:f.id);if(M&&F&&R)return Promise.resolve(!0);let te,se,De;d?(te=d.resolve,se=d.reject,De=d.promise):De=new Promise((Pe,ct)=>{te=Pe,se=ct});const Re=++this.navigationId;let Be;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Be=i&&i.\u0275routerPageId?i.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(D=this.browserPageId)&&void 0!==D?D:0)+1):Be=0,this.setTransition({id:Re,targetPageId:Be,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:te,reject:se,promise:De,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),De.catch(Pe=>Promise.reject(Pe))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",l):this.location.go(i,"",l)}restoreHistory(t,r=!1){var i,l;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const i=new Sb(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(i),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function bm(n){return"imperative"!==n}let Uo=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this.commands=null,this.href=null,this.onChanges=new xn.x,this.subscription=t.events.subscribe(l=>{l instanceof Ud&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,l,d){if(0!==t||r||i||l||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const f={skipLocationChange:bc(this.skipLocationChange),replaceUrl:bc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Hn),a.Y36(Tu),a.Y36(ee))},n.\u0275dir=a.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&a.NdJ("click",function(l){return r.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&t&&a.uIk("target",r.target)("href",r.href,a.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[a.TTD]}),n})();function bc(n){return""===n||!!n}class I_{}class A_{preload(e,t){return _t(null)}}let M_=(()=>{class n{constructor(t,r,i,l){this.router=t,this.injector=i,this.preloadingStrategy=l,this.loader=new Tm(i,r,y=>t.triggerEvent(new Wv(y)),y=>t.triggerEvent(new mE(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(Jt(t=>t instanceof Ud),Vd(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(a.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const d=l._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else l.loadChildren&&!l.canLoad?i.push(this.preloadConfig(t,l)):l.children&&i.push(this.processRoutes(t,l.children));return(0,nn.D)(i).pipe((0,Ts.J)(),(0,Qe.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?_t(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Qn.z)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hn),a.LFG(a.Sil),a.LFG(a.zs3),a.LFG(I_))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Jf=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof pE?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ud&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Gv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Gv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){a.$Z()},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Sc=new a.OlP("ROUTER_CONFIGURATION"),rD=new a.OlP("ROUTER_FORROOT_GUARD"),dS=[Ne,{provide:SE,useClass:IE},{provide:Hn,useFactory:function lD(n,e,t,r,i,l,d={},f,y){const D=new Hn(null,n,e,t,r,i,lm(l));return f&&(D.urlHandlingStrategy=f),y&&(D.routeReuseStrategy=y),function uD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,D),d.enableTracing&&D.events.subscribe(b=>{var M,F;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${b.constructor.name}`),console.log(b.toString()),console.log(b),null===(F=console.groupEnd)||void 0===F||F.call(console)}),D},deps:[SE,Ml,Ne,a.zs3,a.Sil,Cm,Sc,[class D_{},new a.FiY],[class oS{},new a.FiY]]},Ml,{provide:Tu,useFactory:function cD(n){return n.routerState.root},deps:[Hn]},M_,A_,class uS{preload(e,t){return t().pipe(Oa(()=>_t(null)))}},{provide:Sc,useValue:{enableTracing:!1}}];function iD(){return new a.PXZ("Router",Hn)}let Im=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[dS,x_(t),{provide:rD,useFactory:aD,deps:[[Hn,new a.FiY,new a.tp0]]},{provide:Sc,useValue:r||{}},{provide:ee,useFactory:oD,deps:[fe,[new a.tBr(we),new a.FiY],Sc]},{provide:Jf,useFactory:sD,deps:[Hn,ta,Sc]},{provide:I_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:A_},{provide:a.PXZ,multi:!0,useFactory:iD},[Am,{provide:a.ip1,multi:!0,useFactory:Fk,deps:[Am]},{provide:dD,useFactory:hS,deps:[Am]},{provide:a.tb,multi:!0,useExisting:dD}]]}}static forChild(t){return{ngModule:n,providers:[x_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(rD,8),a.LFG(Hn,8))},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();function sD(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Jf(n,e,t)}function oD(n,e,t={}){return t.useHash?new ye(n,e):new xe(n,e)}function aD(n){return"guarded"}function x_(n){return[{provide:a.deG,multi:!0,useValue:n},{provide:Cm,multi:!0,useValue:n}]}let Am=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new xn.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),l=this.injector.get(Hn),d=this.injector.get(Sc);return"disabled"===d.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?_t(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),i})}bootstrapListener(t){const r=this.injector.get(Sc),i=this.injector.get(M_),l=this.injector.get(Jf),d=this.injector.get(Hn),f=this.injector.get(a.z2F);t===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),l.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();function Fk(n){return n.appInitializer.bind(n)}function hS(n){return n.bootstrapListener.bind(n)}const dD=new a.OlP("Router Initializer");function Ar(n,e){xt(1,arguments);var t=e||{},r=null==t.additionalDigits?2:ut(t.additionalDigits);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof n&&"[object String]"!==Object.prototype.toString.call(n))return new Date(NaN);var l,i=gS(n);if(i.date){var d=pD(i.date,r);l=gD(d.restDateString,d.year)}if(!l||isNaN(l.getTime()))return new Date(NaN);var D,f=l.getTime(),y=0;if(i.time&&(y=mS(i.time),isNaN(y)))return new Date(NaN);if(!i.timezone){var b=new Date(f+y),M=new Date(0);return M.setFullYear(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()),M.setHours(b.getUTCHours(),b.getUTCMinutes(),b.getUTCSeconds(),b.getUTCMilliseconds()),M}return D=mD(i.timezone),isNaN(D)?new Date(NaN):new Date(f+y+D)}var Xf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},fS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fD=/^([+-])(\d{2})(?::?(\d{2}))?$/;function gS(n){var r,e={},t=n.split(Xf.dateTimeDelimiter);if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Xf.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Xf.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){var i=Xf.timezone.exec(r);i?(e.time=r.replace(i[1],""),e.timezone=i[1]):e.time=r}return e}function pD(n,e){var t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:null===l?i:100*l,restDateString:n.slice((r[1]||r[2]).length)}}function gD(n,e){if(null===e)return new Date(NaN);var t=n.match(fS);if(!t)return new Date(NaN);var r=!!t[4],i=La(t[1]),l=La(t[2])-1,d=La(t[3]),f=La(t[4]),y=La(t[5])-1;if(r)return function Va(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}(0,f,y)?function yS(n,e,t){var r=new Date(0);r.setUTCFullYear(n,0,4);var l=7*(e-1)+t+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+l),r}(e,f,y):new Date(NaN);var D=new Date(0);return function O_(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(yD[e]||(vS(n)?29:28))}(e,l,d)&&function R_(n,e){return e>=1&&e<=(vS(n)?366:365)}(e,i)?(D.setUTCFullYear(e,l,Math.max(i,d)),D):new Date(NaN)}function La(n){return n?parseInt(n):1}function mS(n){var e=n.match(pS);if(!e)return NaN;var t=k_(e[1]),r=k_(e[2]),i=k_(e[3]);return function _S(n,e,t){return 24===n?0===e&&0===t:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}(t,r,i)?36e5*t+r*Rf+1e3*i:NaN}function k_(n){return n&&parseFloat(n.replace(",","."))||0}function mD(n){if("Z"===n)return 0;var e=n.match(fD);if(!e)return 0;var t="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return function wS(n,e){return e>=0&&e<=59}(0,i)?t*(36e5*r+i*Rf):NaN}var yD=[31,null,31,30,31,30,31,31,30,31,30,31];function vS(n){return n%400==0||n%4==0&&n%100!=0}function N_(n){return Array.isArray(n)?n:[n]}let ep;try{ep="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){ep=!1}let tp=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?fr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ep)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.Lbi))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const F_=new Set;let Xd,xS=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):OS}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function kS(n){if(!F_.has(n))try{Xd||(Xd=document.createElement("style"),Xd.setAttribute("type","text/css"),document.head.appendChild(Xd)),Xd.sheet&&(Xd.sheet.insertRule(`@media ${n} {body{ }}`,0),F_.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(tp))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OS(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let RS=(()=>{class n{constructor(t,r){this._mediaMatcher=t,this._zone=r,this._queries=new Map,this._destroySubject=new xn.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return ED(N_(t)).some(i=>this._registerQuery(i).mql.matches)}observe(t){let l=No(ED(N_(t)).map(d=>this._registerQuery(d).observable));return l=ji(l.pipe((0,Pr.q)(1)),l.pipe(function DS(n){return Jt((e,t)=>n<=t)}(1),function CS(n,e=Cs.z){return(0,Yn.e)((t,r)=>{let i=null,l=null,d=null;const f=()=>{if(i){i.unsubscribe(),i=null;const D=l;l=null,r.next(D)}};function y(){const D=d+n,b=e.now();if(b<D)return i=this.schedule(void 0,D-b),void r.add(i);f()}t.subscribe(new Fn.Q(r,D=>{l=D,d=e.now(),i||(i=e.schedule(y,n),r.add(i))},()=>{f(),r.complete()},void 0,()=>{l=i=null}))})}(0))),l.pipe((0,Qe.U)(d=>{const f={matches:!1,breakpoints:{}};return d.forEach(({matches:y,query:D})=>{f.matches=f.matches||y,f.breakpoints[D]=y}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const r=this._mediaMatcher.matchMedia(t),l={observable:new wn.y(d=>{const f=y=>this._zone.run(()=>d.next(y));return r.addListener(f),()=>{r.removeListener(f)}}).pipe(Di(r),(0,Qe.U)(({matches:d})=>({query:t,matches:d})),Nr(this._destroySubject)),mql:r};return this._queries.set(t,l),l}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(xS),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ED(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}const Si_apiUrl="https://mamy-plany-default-rtdb.europe-west1.firebasedatabase.app/",NS={apiKey:"AIzaSyDYVjMz1-abAfGNG2WpfuoJKaPV7zUlrGc",authDomain:"mamyplany-96fdf.firebaseapp.com",databaseURL:"https://mamy-plany-default-rtdb.europe-west1.firebasedatabase.app/",projectId:"mamyplany-96fdf",storageBucket:"mamyplany-96fdf.appspot.com",messagingSenderId:"362439790988",appId:"1:362439790988:web:ee6a5d424e768508b646a9"};class DD{}class CD{}class Rl{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),l=i.toLowerCase(),d=t.slice(r+1).trim();this.maybeSetNormalizedName(i,l),this.headers.has(l)?this.headers.get(l).push(d):this.headers.set(l,[d])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const i=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Rl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Rl;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Rl?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const l=e.value;if(l){let d=this.headers.get(t);if(!d)return;d=d.filter(f=>-1===l.indexOf(f)),0===d.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,d)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class PS{encodeKey(e){return TD(e)}encodeValue(e){return TD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const LS=/%(\d[a-f0-9])/gi,VS={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function TD(n){return encodeURIComponent(n).replace(LS,(e,t)=>{var r;return null!==(r=VS[t])&&void 0!==r?r:e})}function bD(n){return`${n}`}class Nl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new PS,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function FS(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const l=i.indexOf("="),[d,f]=-1==l?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,l)),e.decodeValue(i.slice(l+1))],y=t.get(d)||[];y.push(f),t.set(d,y)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t];this.map.set(t,Array.isArray(r)?r:[r])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(l=>{t.push({param:r,value:l,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Nl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(bD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(bD(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class SD{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function L_(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function V_(n){return"undefined"!=typeof Blob&&n instanceof Blob}function U_(n){return"undefined"!=typeof FormData&&n instanceof FormData}class eh{constructor(e,t,r,i){let l;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function ID(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,l=i):l=r,l&&(this.reportProgress=!!l.reportProgress,this.withCredentials=!!l.withCredentials,l.responseType&&(this.responseType=l.responseType),l.headers&&(this.headers=l.headers),l.context&&(this.context=l.context),l.params&&(this.params=l.params)),this.headers||(this.headers=new Rl),this.context||(this.context=new SD),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+d}}else this.params=new Nl,this.urlWithParams=t}serializeBody(){return null===this.body?null:L_(this.body)||V_(this.body)||U_(this.body)||function AD(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U_(this.body)?null:V_(this.body)?this.body.type||null:L_(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const r=e.method||this.method,i=e.url||this.url,l=e.responseType||this.responseType,d=void 0!==e.body?e.body:this.body,f=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,y=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let D=e.headers||this.headers,b=e.params||this.params;const M=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(D=Object.keys(e.setHeaders).reduce((F,R)=>F.set(R,e.setHeaders[R]),D)),e.setParams&&(b=Object.keys(e.setParams).reduce((F,R)=>F.set(R,e.setParams[R]),b)),new eh(r,i,d,{params:b,headers:D,context:M,reportProgress:y,responseType:l,withCredentials:f})}}var mr=(()=>((mr=mr||{})[mr.Sent=0]="Sent",mr[mr.UploadProgress=1]="UploadProgress",mr[mr.ResponseHeader=2]="ResponseHeader",mr[mr.DownloadProgress=3]="DownloadProgress",mr[mr.Response=4]="Response",mr[mr.User=5]="User",mr))();class km{constructor(e,t=200,r="OK"){this.headers=e.headers||new Rl,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Pl extends km{constructor(e={}){super(e),this.type=mr.ResponseHeader}clone(e={}){return new Pl({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Om extends km{constructor(e={}){super(e),this.type=mr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Om({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class MD extends km{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Au(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Rm=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let l;if(t instanceof eh)l=t;else{let y,D;y=i.headers instanceof Rl?i.headers:new Rl(i.headers),i.params&&(D=i.params instanceof Nl?i.params:new Nl({fromObject:i.params})),l=new eh(t,r,void 0!==i.body?i.body:null,{headers:y,context:i.context,params:D,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=_t(l).pipe(Vd(y=>this.handler.handle(y)));if(t instanceof eh||"events"===i.observe)return d;const f=d.pipe(Jt(y=>y instanceof Om));switch(i.observe||"body"){case"body":switch(l.responseType){case"arraybuffer":return f.pipe((0,Qe.U)(y=>{if(null!==y.body&&!(y.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return y.body}));case"blob":return f.pipe((0,Qe.U)(y=>{if(null!==y.body&&!(y.body instanceof Blob))throw new Error("Response is not a Blob.");return y.body}));case"text":return f.pipe((0,Qe.U)(y=>{if(null!==y.body&&"string"!=typeof y.body)throw new Error("Response is not a string.");return y.body}));default:return f.pipe((0,Qe.U)(y=>y.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Nl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Au(i,r))}post(t,r,i={}){return this.request("POST",t,Au(i,r))}put(t,r,i={}){return this.request("PUT",t,Au(i,r))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(DD))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class Nm{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const BS=new a.OlP("HTTP_INTERCEPTORS");let xD=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const HS=/^\)\]\}',?\n/;let rp=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new wn.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((R,B)=>i.setRequestHeader(R,B.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const R=t.detectContentTypeHeader();null!==R&&i.setRequestHeader("Content-Type",R)}if(t.responseType){const R=t.responseType.toLowerCase();i.responseType="json"!==R?R:"text"}const l=t.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const R=1223===i.status?204:i.status,B=i.statusText||"OK",te=new Rl(i.getAllResponseHeaders()),se=function Pm(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return d=new Pl({headers:te,status:R,statusText:B,url:se}),d},y=()=>{let{headers:R,status:B,statusText:te,url:se}=f(),De=null;204!==B&&(De=void 0===i.response?i.responseText:i.response),0===B&&(B=De?200:0);let Re=B>=200&&B<300;if("json"===t.responseType&&"string"==typeof De){const Be=De;De=De.replace(HS,"");try{De=""!==De?JSON.parse(De):null}catch(Pe){De=Be,Re&&(Re=!1,De={error:Pe,text:De})}}Re?(r.next(new Om({body:De,headers:R,status:B,statusText:te,url:se||void 0})),r.complete()):r.error(new MD({error:De,headers:R,status:B,statusText:te,url:se||void 0}))},D=R=>{const{url:B}=f(),te=new MD({error:R,status:i.status||0,statusText:i.statusText||"Unknown Error",url:B||void 0});r.error(te)};let b=!1;const M=R=>{b||(r.next(f()),b=!0);let B={type:mr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),"text"===t.responseType&&!!i.responseText&&(B.partialText=i.responseText),r.next(B)},F=R=>{let B={type:mr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(B.total=R.total),r.next(B)};return i.addEventListener("load",y),i.addEventListener("error",D),i.addEventListener("timeout",D),i.addEventListener("abort",D),t.reportProgress&&(i.addEventListener("progress",M),null!==l&&i.upload&&i.upload.addEventListener("progress",F)),i.send(l),r.next({type:mr.Sent}),()=>{i.removeEventListener("error",D),i.removeEventListener("abort",D),i.removeEventListener("load",y),i.removeEventListener("timeout",D),t.reportProgress&&(i.removeEventListener("progress",M),null!==l&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Sn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const Jn=new a.OlP("XSRF_COOKIE_NAME"),kD=new a.OlP("XSRF_HEADER_NAME");class j_{}let $S=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Do(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(a.Lbi),a.LFG(Jn))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),H_=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const i=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(t);const l=this.tokenService.getToken();return null!==l&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,l)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(j_),a.LFG(kD))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),OD=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(BS,[]);this.chain=r.reduceRight((i,l)=>new Nm(i,l),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(CD),a.LFG(a.zs3))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),RD=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:H_,useClass:xD}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:Jn,useValue:t.cookieName}:[],t.headerName?{provide:kD,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[H_,{provide:BS,useExisting:H_,multi:!0},{provide:j_,useClass:$S},{provide:Jn,useValue:"XSRF-TOKEN"},{provide:kD,useValue:"X-XSRF-TOKEN"}]}),n})(),ZS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[Rm,{provide:DD,useClass:OD},rp,{provide:CD,useExisting:rp}],imports:[[RD.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var tt,Fl=N(127),WS=(N(7264),N(3942)),Ee=N(5861),Ba=N(9681),ip=N(4859),Ll=N(1877),Zt=N(2090),GS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ps={},$_=$_||{},Nt=GS||self;function Fm(){}function Lm(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function th(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var z_="closure_uid_"+(1e9*Math.random()>>>0),PD=0;function KS(n,e,t){return n.call.apply(n.bind,arguments)}function YS(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Ii(n,e,t){return(Ii=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?KS:YS).apply(null,arguments)}function q_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ai(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,i,l){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return e.prototype[i].apply(r,d)}}function Ac(){this.s=this.s,this.o=this.o}var Vm={};Ac.prototype.s=!1,Ac.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function ND(n){return Object.prototype.hasOwnProperty.call(n,z_)&&n[z_]||(n[z_]=++PD)}(this);delete Vm[n]}},Ac.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},VD=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,i="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in i&&e.call(t,i[l],l,n)};function nh(n){return Array.prototype.concat.apply([],arguments)}function Z_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Um(n){return/^[\s\xa0]*$/.test(n)}var Mi,BD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Wi(n,e){return-1!=n.indexOf(e)}function W_(n,e){return n<e?-1:n>e?1:0}e:{var jD=Nt.navigator;if(jD){var HD=jD.userAgent;if(HD){Mi=HD;break e}}Mi=""}function Mu(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function $D(n){const e={};for(const t in n)e[t]=n[t];return e}var G_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zD(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let l=0;l<G_.length;l++)t=G_[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Bm(n){return Bm[" "](n),n}Bm[" "]=Fm;var Hm,n,qD=Wi(Mi,"Opera"),rh=Wi(Mi,"Trident")||Wi(Mi,"MSIE"),jm=Wi(Mi,"Edge"),K_=jm||rh,Y_=Wi(Mi,"Gecko")&&!(Wi(Mi.toLowerCase(),"webkit")&&!Wi(Mi,"Edge"))&&!(Wi(Mi,"Trident")||Wi(Mi,"MSIE"))&&!Wi(Mi,"Edge"),ZD=Wi(Mi.toLowerCase(),"webkit")&&!Wi(Mi,"Edge");function WD(){var n=Nt.document;return n?n.documentMode:void 0}e:{var Q_="",sp=(n=Mi,Y_?/rv:([^\);]+)(\)|;)/.exec(n):jm?/Edge\/([\d\.]+)/.exec(n):rh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):ZD?/WebKit\/(\S+)/.exec(n):qD?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(sp&&(Q_=sp?sp[1]:""),rh){var J_=WD();if(null!=J_&&J_>parseFloat(Q_)){Hm=String(J_);break e}}Hm=Q_}var GD={};var XS=Nt.document&&rh&&(WD()||parseInt(Hm,10))||void 0,eI=function(){if(!Nt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Nt.addEventListener("test",Fm,e),Nt.removeEventListener("test",Fm,e)}catch(t){}return n}();function xi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function op(n,e){if(xi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Y_){e:{try{Bm(e.nodeName);var i=!0;break e}catch(l){}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:tI[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&op.Z.h.call(this)}}xi.prototype.h=function(){this.defaultPrevented=!0},Ai(op,xi);var tI={2:"touch",3:"pen",4:"mouse"};op.prototype.h=function(){op.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ih="closure_listenable_"+(1e6*Math.random()|0),YD=0;function nI(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=i,this.key=++YD,this.ca=this.fa=!1}function $m(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function ap(n){this.src=n,this.g={},this.h=0}function ew(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],i=LD(r,e);(l=0<=i)&&Array.prototype.splice.call(r,i,1),l&&($m(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function tw(n,e,t,r){for(var i=0;i<n.length;++i){var l=n[i];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return i}return-1}ap.prototype.add=function(n,e,t,r,i){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var d=tw(n,e,r,i);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new nI(e,this.src,l,!!r,i)).fa=t,n.push(e)),e};var nw="closure_lm_"+(1e6*Math.random()|0),lp={};function zm(n,e,t,r,i){if(r&&r.once)return QD(n,e,t,r,i);if(Array.isArray(e)){for(var l=0;l<e.length;l++)zm(n,e[l],t,r,i);return null}return t=ow(t),n&&n[ih]?n.N(e,t,th(r)?!!r.capture:!!r,i):rw(n,e,t,!1,r,i)}function rw(n,e,t,r,i,l){if(!e)throw Error("Invalid event type");var d=th(i)?!!i.capture:!!i,f=sw(n);if(f||(n[nw]=f=new ap(n)),(t=f.add(e,t,r,d,l)).proxy)return t;if(r=function iw(){var e=eC;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)eI||(i=d),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(XD(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function QD(n,e,t,r,i){if(Array.isArray(e)){for(var l=0;l<e.length;l++)QD(n,e[l],t,r,i);return null}return t=ow(t),n&&n[ih]?n.O(e,t,th(r)?!!r.capture:!!r,i):rw(n,e,t,!0,r,i)}function JD(n,e,t,r,i){if(Array.isArray(e))for(var l=0;l<e.length;l++)JD(n,e[l],t,r,i);else r=th(r)?!!r.capture:!!r,t=ow(t),n&&n[ih]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=tw(l=n.g[e],t,r,i))&&($m(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=sw(n))&&(e=n.g[e.toString()],n=-1,e&&(n=tw(e,t,r,i)),(t=-1<n?e[n]:null)&&up(t))}function up(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[ih])ew(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(XD(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=sw(e))?(ew(t,n),0==t.h&&(t.src=null,e[nw]=null)):$m(n)}}}function XD(n){return n in lp?lp[n]:lp[n]="on"+n}function eC(n,e){if(n.ca)n=!0;else{e=new op(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&up(n),n=t.call(r,e)}return n}function sw(n){return(n=n[nw])instanceof ap?n:null}var qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function ow(n){return"function"==typeof n?n:(n[qm]||(n[qm]=function(e){return n.handleEvent(e)}),n[qm])}function Vr(){Ac.call(this),this.i=new ap(this),this.P=this,this.I=null}function ki(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new xi(e,n);else if(e instanceof xi)e.target=e.target||n;else{var i=e;zD(e=new xi(r,n),i)}if(i=!0,t)for(var l=t.length-1;0<=l;l--){var d=e.g=t[l];i=Zm(d,r,!0,e)&&i}if(i=Zm(d=e.g=n,r,!0,e)&&i,i=Zm(d,r,!1,e)&&i,t)for(l=0;l<t.length;l++)i=Zm(d=e.g=t[l],r,!1,e)&&i}function Zm(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,l=0;l<e.length;++l){var d=e[l];if(d&&!d.ca&&d.capture==t){var f=d.listener,y=d.ia||d.src;d.fa&&ew(n.i,d),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}Ai(Vr,Ac),Vr.prototype[ih]=!0,Vr.prototype.removeEventListener=function(n,e,t,r){JD(this,n,e,t,r)},Vr.prototype.M=function(){if(Vr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)$m(t[r]);delete n.g[e],n.h--}}this.I=null},Vr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Vr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Mc=Nt.JSON.stringify;function rI(){var n=tC;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var aw,oh=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new iI,n=>n.reset());class iI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Kk(n){Nt.setTimeout(()=>{throw n},0)}function Wm(n,e){aw||function sI(){var n=Nt.Promise.resolve(void 0);aw=function(){n.then(nC)}}(),lw||(aw(),lw=!0),tC.add(n,e)}var lw=!1,tC=new class sh{constructor(){this.h=this.g=null}add(e,t){const r=oh.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function nC(){for(var n;n=rI();){try{n.h.call(n.g)}catch(t){Kk(t)}var e=oh;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}lw=!1}function cp(n,e){Vr.call(this),this.h=n||1,this.g=e||Nt,this.j=Ii(this.kb,this),this.l=Date.now()}function dp(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function ah(n,e,t){if("function"==typeof n)t&&(n=Ii(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Ii(n.handleEvent,n)}return 2147483647<Number(e)?-1:Nt.setTimeout(n,e||0)}function lh(n){n.g=ah(()=>{n.g=null,n.i&&(n.i=!1,lh(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ai(cp,Vr),(tt=cp.prototype).da=!1,tt.S=null,tt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ki(this,"tick"),this.da&&(dp(this),this.start()))}},tt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},tt.M=function(){cp.Z.M.call(this),dp(this),delete this.g};class oI extends Ac{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lh(this)}M(){super.M(),this.g&&(Nt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function uh(n){Ac.call(this),this.h=n,this.g={}}Ai(uh,Ac);var uw=[];function rC(n,e,t,r){Array.isArray(t)||(t&&(uw[0]=t.toString()),t=uw);for(var i=0;i<t.length;i++){var l=zm(e,t[i],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function iC(n){Mu(n.g,function(e,t){this.g.hasOwnProperty(t)&&up(e)},n),n.g={}}function Gm(){this.g=!0}function hp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function uI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var l=i[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var d=1;d<i.length;d++)i[d]=""}}}return Mc(t)}catch(f){return e}}(n,t)+(r?" "+r:"")})}uh.prototype.M=function(){uh.Z.M.call(this),iC(this)},uh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gm.prototype.Aa=function(){this.g=!1},Gm.prototype.info=function(){};var po={},dw=null;function Vl(){return dw=dw||new Vr}function cI(n){xi.call(this,po.Ma,n)}function ch(n){const e=Vl();ki(e,new cI(e,n))}function sC(n,e){xi.call(this,po.STAT_EVENT,n),this.stat=e}function ss(n){const e=Vl();ki(e,new sC(e,n))}function hw(n,e){xi.call(this,po.Na,n),this.size=e}function Km(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Nt.setTimeout(function(){n()},e)}po.Ma="serverreachability",Ai(cI,xi),po.STAT_EVENT="statevent",Ai(sC,xi),po.Na="timingevent",Ai(hw,xi);var fp={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ym={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Qm(){}function pw(){}Qm.prototype.h=null;var ey,dh={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Jm(){xi.call(this,"d")}function Xm(){xi.call(this,"c")}function pp(){}function gp(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new uh(this),this.P=mp,this.W=new cp(n=K_?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gw}function gw(){this.i=null,this.g="",this.h=!1}Ai(Jm,xi),Ai(Xm,xi),Ai(pp,Qm),pp.prototype.g=function(){return new XMLHttpRequest},pp.prototype.i=function(){return{}},ey=new pp;var mp=45e3,ty={},yp={};function ny(n,e,t){n.K=1,n.v=Ep(Bl(e)),n.s=t,n.U=!0,mw(n,null)}function mw(n,e){n.F=Date.now(),hh(n),n.A=Bl(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),bw(t.h,"t",r),n.C=0,t=n.l.H,n.h=new gw,n.g=DI(n.l,t?e:null,!n.s),0<n.O&&(n.L=new oI(Ii(n.Ia,n,n.g),n.O)),rC(n.V,n.g,"readystatechange",n.gb),e=n.H?$D(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),ch(1),function cw(n,e,t,r,i,l){n.info(function(){if(n.g)if(l)for(var d="",f=l.split("&"),y=0;y<f.length;y++){var D=f[y].split("=");if(1<D.length){var b=D[0];D=D[1];var M=b.split("_");d=2<=M.length&&"type"==M[1]?d+(b+"=")+D+"&":d+(b+"=redacted&")}}else d=null;else d=l;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function yw(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function vw(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=dI(n,t),i==yp){4==e&&(n.o=4,ss(14),r=!1),hp(n.j,n.m,null,"[Incomplete Response]");break}if(i==ty){n.o=4,ss(15),hp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}hp(n.j,n.m,i,null),kc(n,i)}yw(n)&&i!=yp&&i!=ty&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ss(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),hy(e),e.L=!0,ss(11))):(hp(n.j,n.m,t,"[Invalid Chunked Response]"),xc(n),_p(n))}function dI(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?yp:(t=Number(e.substring(t,r)),isNaN(t)?ty:(r+=1)+t>e.length?yp:(e=e.substr(r,t),n.C=r+t,e))}function hh(n){n.Y=Date.now()+n.P,_w(n,n.P)}function _w(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Km(Ii(n.eb,n),e)}function vp(n){n.B&&(Nt.clearTimeout(n.B),n.B=null)}function _p(n){0==n.l.G||n.I||DC(n.l,n)}function xc(n){vp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,dp(n.W),iC(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function kc(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||sy(t.i,n)))if(t.I=n.N,!n.J&&sy(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(D){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(t.u)t.ta=i[1],0<t.ta-t.U&&37500>i[2]&&t.N&&0==t.A&&!t.v&&(t.v=Km(Ii(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;fy(t),Ap(t)}dy(t),ss(18)}if(1>=Iw(t.i)&&t.ka){try{t.ka()}catch(D){}t.ka=void 0}}else Ou(t,11)}else if((n.J||t.g==n)&&fy(t),!Um(e))for(i=t.Ca.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.U=D[0],D=D[1],2==t.G)if("c"==D[0]){t.J=D[1],t.la=D[2];const b=D[3];null!=b&&(t.ma=b,t.h.info("VER="+t.ma));const M=D[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const F=D[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const R=n.g;if(R){const B=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(B){var l=r.i;!l.g&&(Wi(B,"spdy")||Wi(B,"quic")||Wi(B,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Aw(l,l.h),l.h=null))}if(r.D){const te=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;te&&(r.sa=te,$n(r.F,r.D,te))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=EI(r,r.H?r.la:null,r.W),d.J){Mw(r.i,d);var f=d,y=r.K;y&&f.setTimeout(y),f.B&&(vp(f),hh(f)),r.g=d}else Vw(r);0<t.l.length&&Mp(t)}else"stop"!=D[0]&&"close"!=D[0]||Ou(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Ou(t,7):uy(t):"noop"!=D[0]&&t.j&&t.j.wa(D),t.A=0)}ch(4)}catch(D){}}function wp(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Lm(n)||"string"==typeof n)VD(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Lm(n)||"string"==typeof n){t=[];for(var r=n.length,i=0;i<r;i++)t.push(i)}else for(i in t=[],r=0,n)t[r++]=i;r=function hI(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Lm(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length;for(var l=0;l<i;l++)e.call(void 0,r[l],t&&t[l],n)}}function Gi(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Gi)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function ww(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Ul(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var i={};for(t=e=0;e<n.g.length;)Ul(i,r=n.g[e])||(n.g[t++]=r,i[r]=1),e++;n.g.length=t}}function Ul(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(tt=gp.prototype).setTimeout=function(n){this.P=n},tt.gb=function(n){n=n.target;const e=this.L;e&&3==Hl(n)?e.l():this.Ia(n)},tt.Ia=function(n){try{if(n==this.g)e:{const b=Hl(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>b)&&(3!=b||K_||this.g&&(this.h.h||this.g.ga()||ly(this.g)))){this.I||4!=b||7==e||ch(8==e||0>=M?3:2),vp(this);var t=this.g.ba();this.N=t;t:if(yw(this)){var r=ly(this.g);n="";var i=r.length,l=4==Hl(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){xc(this),_p(this);var d="";break t}this.h.i=new Nt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function aI(n,e,t,r,i,l,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+l+" "+d})}(this.j,this.u,this.A,this.m,this.X,b,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Um(f)){var D=f;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,ss(12),xc(this),_p(this);break e}hp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,kc(this,t)}this.U?(vw(this,b,d),K_&&this.i&&3==b&&(rC(this.V,this.W,"tick",this.fb),this.W.start())):(hp(this.j,this.m,d,null),kc(this,d)),4==b&&xc(this),this.i&&!this.I&&(4==b?DC(this.l,this):(this.i=!1,hh(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,ss(12)):(this.o=0,ss(13)),xc(this),_p(this)}}}catch(b){}},tt.fb=function(){if(this.g){var n=Hl(this.g),e=this.g.ga();this.C<e.length&&(vp(this),vw(this,n,e),this.i&&4!=n&&hh(this))}},tt.cancel=function(){this.I=!0,xc(this)},tt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function lI(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ch(3),ss(17)),xc(this),this.o=2,_p(this)):_w(this,this.Y-n)},(tt=Gi.prototype).R=function(){ww(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},tt.T=function(){return ww(this),this.g.concat()},tt.get=function(n,e){return Ul(this.h,n)?this.h[n]:e},tt.set=function(n,e){Ul(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},tt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var i=t[r],l=this.get(i);n.call(e,l,i,this)}};var fh=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Oc(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Oc){this.g=void 0!==e?e:n.g,Rc(this,n.j),this.s=n.s,Nc(this,n.i),ry(this,n.m),this.l=n.l,e=n.h;var t=new Tp;t.i=e.i,e.g&&(t.g=new Gi(e.g),t.h=e.h),oC(this,t),this.o=n.o}else n&&(t=String(n).match(fh))?(this.g=!!e,Rc(this,t[1]||"",!0),this.s=Dp(t[2]||""),Nc(this,t[3]||"",!0),ry(this,t[4]),this.l=Dp(t[5]||"",!0),oC(this,t[6]||"",!0),this.o=Dp(t[7]||"")):(this.g=!!e,this.h=new Tp(null,this.g))}function Bl(n){return new Oc(n)}function Rc(n,e,t){n.j=t?Dp(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Nc(n,e,t){n.i=t?Dp(e,!0):e}function ry(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function oC(n,e,t){e instanceof Tp?(n.h=e,function dC(n,e){e&&!n.j&&(xu(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(uC(this,r),bw(this,i,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Cp(e,Cw)),n.h=new Tp(e,n.g))}function $n(n,e,t){n.h.set(e,t)}function Ep(n){return $n(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Dp(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Cp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Yk),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Yk(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Oc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Cp(e,iy,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Cp(e,iy,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Cp(t,"/"==t.charAt(0)?lC:Dw,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Cp(t,Tw)),n.join("")};var iy=/[#\/\?@]/g,Dw=/[#\?:]/g,lC=/[#\?]/g,Cw=/[#\?@]/g,Tw=/#/g;function Tp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function xu(n){n.g||(n.g=new Gi,n.h=0,n.i&&function fI(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var l=n[t].substring(0,r);i=n[t].substring(r+1)}else l=n[t];e(l,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function uC(n,e){xu(n),e=ku(n,e),Ul(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ul((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&ww(n)))}function cC(n,e){return xu(n),e=ku(n,e),Ul(n.g.h,e)}function bw(n,e,t){uC(n,e),0<t.length&&(n.i=null,n.g.set(ku(n,e),Z_(t)),n.h+=t.length)}function ku(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function Sw(n){this.l=n||hC,n=Nt.PerformanceNavigationTiming?0<(n=Nt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Nt.g&&Nt.g.Ea&&Nt.g.Ea()&&Nt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(tt=Tp.prototype).add=function(n,e){xu(this),this.i=null,n=ku(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},tt.forEach=function(n,e){xu(this),this.g.forEach(function(t,r){VD(t,function(i){n.call(e,i,r,this)},this)},this)},tt.T=function(){xu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var i=n[r],l=0;l<i.length;l++)t.push(e[r]);return t},tt.R=function(n){xu(this);var e=[];if("string"==typeof n)cC(this,n)&&(e=nh(e,this.g.get(ku(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=nh(e,n[t])}return e},tt.set=function(n,e){return xu(this),this.i=null,cC(this,n=ku(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},tt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},tt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],i=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var d=i;""!==r[l]&&(d+="="+encodeURIComponent(String(r[l]))),n.push(d)}}return this.i=n.join("&")};var hC=10;function fC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Iw(n){return n.h?1:n.g?n.g.size:0}function sy(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Aw(n,e){n.g?n.g.add(e):n.h=e}function Mw(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function xw(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Z_(n.i)}function ci(){}function ph(){this.g=new ci}function gI(n,e,t){const r=t||"";try{wp(n,function(i,l){let d=i;th(i)&&(d=Mc(i)),e.push(r+l+"="+encodeURIComponent(d))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function kw(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(l){}}function jl(n){this.l=n.$b||null,this.j=n.ib||!1}function oy(n,e){Vr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=bp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Sw.prototype.cancel=function(){if(this.i=xw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},ci.prototype.stringify=function(n){return Nt.JSON.stringify(n,void 0)},ci.prototype.parse=function(n){return Nt.JSON.parse(n,void 0)},Ai(jl,Qm),jl.prototype.g=function(){return new oy(this.l,this.j)},jl.prototype.i=function(n){return function(){return n}}({}),Ai(oy,Vr);var bp=0;function pC(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function gh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Sp(n)}function Sp(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(tt=oy.prototype).open=function(n,e){if(this.readyState!=bp)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Sp(this)},tt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Nt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},tt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gh(this)),this.readyState=bp},tt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Sp(this)),this.g&&(this.readyState=3,Sp(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Nt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pC(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},tt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?gh(this):Sp(this),3==this.readyState&&pC(this)}},tt.Ua=function(n){this.g&&(this.response=this.responseText=n,gh(this))},tt.Ta=function(n){this.g&&(this.response=n,gh(this))},tt.ha=function(){this.g&&gh(this)},tt.setRequestHeader=function(n,e){this.v.append(n,e)},tt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},tt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(oy.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var yI=Nt.JSON.parse;function dr(n){Vr.call(this),this.headers=new Gi,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ow,this.K=this.L=!1}Ai(dr,Vr);var Ow="",gC=/^https?$/i,ay=["POST","PUT"];function Qk(n){return"content-type"==n.toLowerCase()}function Nw(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,mC(n),Pc(n)}function mC(n){n.D||(n.D=!0,ki(n,"complete"),ki(n,"error"))}function Pw(n){if(n.h&&void 0!==$_&&(!n.C[1]||4!=Hl(n)||2!=n.ba()))if(n.v&&4==Hl(n))ah(n.Fa,0,n);else if(ki(n,"readystatechange"),4==Hl(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.H).match(fh)[1]||null;if(!i&&Nt.self&&Nt.self.location){var l=Nt.self.location.protocol;i=l.substr(0,l.length-1)}r=!gC.test(i?i.toLowerCase():"")}t=r}if(t)ki(n,"complete"),ki(n,"success");else{n.m=6;try{var d=2<Hl(n)?n.g.statusText:""}catch(y){d=""}n.j=d+" ["+n.ba()+"]",mC(n)}}finally{Pc(n)}}}function Pc(n,e){if(n.g){Fw(n);const t=n.g,r=n.C[0]?Fm:null;n.g=null,n.C=null,e||ki(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function Fw(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Nt.clearTimeout(n.A),n.A=null)}function Hl(n){return n.g?n.g.readyState:0}function ly(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case Ow:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function yC(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Lw(n){let e="";return Mu(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):$n(n,e,t))}function Ip(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function vC(n){this.za=0,this.l=[],this.h=new Gm,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ip("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ip("baseRetryDelayMs",5e3,n),this.$a=Ip("retryDelaySeedMs",1e4,n),this.Ya=Ip("forwardChannelMaxRetries",2,n),this.ra=Ip("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Sw(n&&n.concurrentRequestLimit),this.Ca=new ph,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function uy(n){if(_C(n),3==n.G){var e=n.V++,t=Bl(n.F);$n(t,"SID",n.J),$n(t,"RID",e),$n(t,"TYPE","terminate"),mh(n,t),(e=new gp(n,n.h,e,void 0)).K=2,e.v=Ep(Bl(t)),t=!1,Nt.navigator&&Nt.navigator.sendBeacon&&(t=Nt.navigator.sendBeacon(e.v.toString(),"")),!t&&Nt.Image&&((new Image).src=e.v,t=!0),t||(e.g=DI(e.l,null),e.g.ea(e.v)),e.F=Date.now(),hh(e)}wI(n)}function Ap(n){n.g&&(hy(n),n.g.cancel(),n.g=null)}function _C(n){Ap(n),n.u&&(Nt.clearTimeout(n.u),n.u=null),fy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Nt.clearTimeout(n.m),n.m=null)}function cy(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Mp(n)}function Mp(n){fC(n.i)||n.m||(n.m=!0,Wm(n.Ha,n),n.C=0)}function wC(n,e){var t;t=e?e.m:n.V++;const r=Bl(n.F);$n(r,"SID",n.J),$n(r,"RID",t),$n(r,"AID",n.U),mh(n,r),n.o&&n.s&&yC(r,n.o,n.s),t=new gp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=EC(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Aw(n.i,t),ny(t,r,e)}function mh(n,e){n.j&&wp({},function(t,r){$n(e,r,t)})}function EC(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Ii(n.j.Oa,n.j,n):null;e:{var i=n.l;let l=-1;for(;;){const d=["count="+t];-1==l?0<t?(l=i[0].h,d.push("ofs="+l)):l=0:d.push("ofs="+l);let f=!0;for(let y=0;y<t;y++){let D=i[y].h;const b=i[y].g;if(D-=l,0>D)l=Math.max(0,i[y].h-100),f=!1;else try{gI(b,d,"req"+D+"_")}catch(M){r&&r(b)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function Vw(n){n.g||n.u||(n.Y=1,Wm(n.Ga,n),n.A=0)}function dy(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Km(Ii(n.Ga,n),_I(n,n.A)),n.A++,0))}function hy(n){null!=n.B&&(Nt.clearTimeout(n.B),n.B=null)}function Uw(n){n.g=new gp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Bl(n.oa);$n(e,"RID","rpc"),$n(e,"SID",n.J),$n(e,"CI",n.N?"0":"1"),$n(e,"AID",n.U),mh(n,e),$n(e,"TYPE","xmlhttp"),n.o&&n.s&&yC(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Ep(Bl(e)),t.s=null,t.U=!0,mw(t,n)}function fy(n){null!=n.v&&(Nt.clearTimeout(n.v),n.v=null)}function DC(n,e){var t=null;if(n.g==e){fy(n),hy(n),n.g=null;var r=2}else{if(!sy(n.i,e))return;t=e.D,Mw(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;ki(r=Vl(),new hw(r,t,e,i)),Mp(n)}else Vw(n);else if(3==(i=e.o)||0==i&&0<n.I||!(1==r&&function vI(n,e){return!(Iw(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Km(Ii(n.Ha,n,e),_I(n,n.C)),n.C++,0)))}(n,e)||2==r&&dy(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:Ou(n,5);break;case 4:Ou(n,10);break;case 3:Ou(n,6);break;default:Ou(n,2)}}function _I(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Ou(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Ii(n.jb,n);t||(t=new Oc("//www.google.com/images/cleardot.gif"),Nt.location&&"http"==Nt.location.protocol||Rc(t,"https"),Ep(t)),function mI(n,e){const t=new Gm;if(Nt.Image){const r=new Image;r.onload=q_(kw,t,r,"TestLoadImage: loaded",!0,e),r.onerror=q_(kw,t,r,"TestLoadImage: error",!1,e),r.onabort=q_(kw,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=q_(kw,t,r,"TestLoadImage: timeout",!1,e),Nt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ss(2);n.G=0,n.j&&n.j.va(e),wI(n),_C(n)}function wI(n){n.G=0,n.I=-1,n.j&&((0!=xw(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Z_(n.l),n.l.length=0),n.j.ua())}function EI(n,e,t){let r=function Ew(n){return n instanceof Oc?Bl(n):new Oc(n,void 0)}(t);if(""!=r.i)e&&Nc(r,e+"."+r.i),ry(r,r.m);else{const i=Nt.location;r=function aC(n,e,t,r){var i=new Oc(null,void 0);return n&&Rc(i,n),e&&Nc(i,e),t&&ry(i,t),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,t)}return n.aa&&Mu(n.aa,function(i,l){$n(r,l,i)}),t=n.sa,(e=n.D)&&t&&$n(r,e,t),$n(r,"VER",n.ma),mh(n,r),r}function DI(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new dr(t&&n.Ba&&!n.qa?new jl({ib:!0}):n.qa)).L=n.H,e}function CI(){}function Bw(){if(rh&&!(10<=Number(XS)))throw Error("Environmental error: no available transport.")}function go(n,e){Vr.call(this),this.g=new vC(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!Um(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Um(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new $l(this)}function TI(n){Jm.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function bI(){Xm.call(this),this.status=1}function $l(n){this.g=n}(tt=dr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ey.g(),this.C=function fw(n){return n.h||(n.h=n.i())}(this.u?this.u:ey),this.g.onreadystatechange=Ii(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Nw(this,l)}n=t||"";const i=new Gi(this.headers);r&&wp(r,function(l,d){i.set(d,l)}),r=function UD(n){e:{var e=Qk;const t=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<t;i++)if(i in r&&e.call(void 0,r[i],i,n)){e=i;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(i.T()),t=Nt.FormData&&n instanceof Nt.FormData,!(0<=LD(ay,e))||r||t||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(l,d){this.g.setRequestHeader(d,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Fw(this),0<this.B&&((this.K=function Rw(n){return rh&&function JS(){return function QS(n){var e=GD;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=BD(String(Hm)).split("."),t=BD("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var i=e[d]||"",l=t[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==i[0].length&&0==l[0].length)break;n=W_(0==i[1].length?0:parseInt(i[1],10),0==l[1].length?0:parseInt(l[1],10))||W_(0==i[2].length,0==l[2].length)||W_(i[2],l[2]),i=i[3],l=l[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ii(this.pa,this)):this.A=ah(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Nw(this,l)}},tt.pa=function(){void 0!==$_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ki(this,"timeout"),this.abort(8))},tt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ki(this,"complete"),ki(this,"abort"),Pc(this))},tt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pc(this,!0)),dr.Z.M.call(this)},tt.Fa=function(){this.s||(this.F||this.v||this.l?Pw(this):this.cb())},tt.cb=function(){Pw(this)},tt.ba=function(){try{return 2<Hl(this)?this.g.status:-1}catch(n){return-1}},tt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},tt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),yI(e)}},tt.Da=function(){return this.m},tt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(tt=vC.prototype).ma=8,tt.G=1,tt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},tt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new gp(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=$D(l),zD(l,this.P)):l=this.P),null===this.o&&(i.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=EC(this,i,e),$n(t=Bl(this.F),"RID",n),$n(t,"CVER",22),this.D&&$n(t,"X-HTTP-Session-Id",this.D),mh(this,t),this.o&&l&&yC(t,this.o,l),Aw(this.i,i),this.Ra&&$n(t,"TYPE","init"),this.ja?($n(t,"$req",e),$n(t,"SID","null"),i.$=!0,ny(i,t,null)):ny(i,t,e),this.G=2}}else 3==this.G&&(n?wC(this,n):0==this.l.length||fC(this.i)||wC(this))},tt.Ga=function(){if(this.u=null,Uw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Km(Ii(this.bb,this),n)}},tt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ss(10),Ap(this),Uw(this))},tt.ab=function(){null!=this.v&&(this.v=null,Ap(this),dy(this),ss(19))},tt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ss(2)):(this.h.info("Failed to ping google.com"),ss(1))},(tt=CI.prototype).xa=function(){},tt.wa=function(){},tt.va=function(){},tt.ua=function(){},tt.Oa=function(){},Bw.prototype.g=function(n,e){return new go(n,e)},Ai(go,Vr),go.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Wm(Ii(n.hb,n,e))),ss(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=EI(n,null,n.W),Mp(n)},go.prototype.close=function(){uy(this.g)},go.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,cy(this.g,e)}else this.v?((e={}).__data__=Mc(n),cy(this.g,e)):cy(this.g,n)},go.prototype.M=function(){this.g.j=null,delete this.j,uy(this.g),delete this.g,go.Z.M.call(this)},Ai(TI,Jm),Ai(bI,Xm),Ai($l,CI),$l.prototype.xa=function(){ki(this.g,"a")},$l.prototype.wa=function(n){ki(this.g,new TI(n))},$l.prototype.va=function(n){ki(this.g,new bI(n))},$l.prototype.ua=function(){ki(this.g,"b")},Bw.prototype.createWebChannel=Bw.prototype.g,go.prototype.send=go.prototype.u,go.prototype.open=go.prototype.m,go.prototype.close=go.prototype.close,fp.NO_ERROR=0,fp.TIMEOUT=8,fp.HTTP_ERROR=6,Ym.COMPLETE="complete",pw.EventType=dh,dh.OPEN="a",dh.CLOSE="b",dh.ERROR="c",dh.MESSAGE="d",Vr.prototype.listen=Vr.prototype.N,dr.prototype.listenOnce=dr.prototype.O,dr.prototype.getLastError=dr.prototype.La,dr.prototype.getLastErrorCode=dr.prototype.Da,dr.prototype.getStatus=dr.prototype.ba,dr.prototype.getResponseJson=dr.prototype.Qa,dr.prototype.getResponseText=dr.prototype.ga,dr.prototype.send=dr.prototype.ea;var Jk=Ps.createWebChannelTransport=function(){return new Bw},jw=Ps.getStatEventTarget=function(){return Vl()},Ru=Ps.ErrorCode=fp,CC=Ps.EventType=Ym,SI=Ps.Event=po,TC=Ps.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hw=Ps.FetchXmlHttpFactory=jl,xp=Ps.WebChannel=pw,bC=Ps.XhrIo=dr;const $w="@firebase/firestore";class Oi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Oi.UNAUTHENTICATED=new Oi(null),Oi.GOOGLE_CREDENTIALS=new Oi("google-credentials-uid"),Oi.FIRST_PARTY=new Oi("first-party-uid"),Oi.MOCK_USER=new Oi("mock-user");let Fc="9.6.3";const jo=new Ll.Yd("@firebase/firestore");function py(){return jo.logLevel}function He(n,...e){if(jo.logLevel<=Ll.in.DEBUG){const t=e.map(Op);jo.debug(`Firestore (${Fc}): ${n}`,...t)}}function Ur(n,...e){if(jo.logLevel<=Ll.in.ERROR){const t=e.map(Op);jo.error(`Firestore (${Fc}): ${n}`,...t)}}function kp(n,...e){if(jo.logLevel<=Ll.in.WARN){const t=e.map(Op);jo.warn(`Firestore (${Fc}): ${n}`,...t)}}function Op(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function pt(n="Unexpected state"){const e=`FIRESTORE (${Fc}) INTERNAL ASSERTION FAILED: `+n;throw Ur(e),new Error(e)}function Mt(n,e){n||pt()}function Ze(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Zt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Kr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class gy{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class AI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Oi.UNAUTHENTICATED))}shutdown(){}}class MI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class zw{constructor(e){this.t=e,this.currentUser=Oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const l=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let d=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Kr,e.enqueueRetryable(()=>l(this.currentUser))};const f=()=>{const D=d;e.enqueueRetryable((0,Ee.Z)(function*(){yield D.promise,yield l(r.currentUser)}))},y=D=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(D=>y(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?y(D):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Kr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new gy(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new Oi(e)}}class SC{constructor(e,t,r){this.type="FirstParty",this.user=Oi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const i=e.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class IC{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new SC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MC{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null}start(e,t){this.o=i=>{e.enqueueRetryable(()=>{return null!=(l=i).error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`),t(l.token);var l})};const r=i=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.g.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.g.getImmediate({optional:!0});i?r(i):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),new AC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Fs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.p(r),this.T=r=>t.writeSequenceNumber(r))}p(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function kI(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Fs.I=-1;class my{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=kI(40);for(let l=0;l<i.length;++l)r.length<20&&i[l]<t&&(r+=e.charAt(i[l]%e.length))}return r}}function kt(n,e){return n<e?-1:n>e?1:0}function yh(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function OI(n){return n+"\0"}class Yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Yr.fromMillis(Date.now())}static fromDate(e){return Yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Yr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?kt(this.nanoseconds,e.nanoseconds):kt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Pt(e)}static min(){return new Pt(new Yr(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function xC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Lc(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Rp{constructor(e,t,r){void 0===t?t=0:t>e.length&&pt(),void 0===r?r=e.length-t:r>e.length-t&&pt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Rp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rp?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const l=e.get(i),d=t.get(i);if(l<d)return-1;if(l>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Cn extends Rp{construct(e,t,r){return new Cn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Cn(t)}static emptyPath(){return new Cn([])}}const kC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends Rp{construct(e,t,r){return new Qr(e,t,r)}static isValidIdentifier(e){return kC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const l=()=>{if(0===r.length)throw new Se(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new Se(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new Se(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(l(),i++)}if(l(),d)throw new Se(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(t)}static emptyPath(){return new Qr([])}}class vh{constructor(e){this.fields=e,e.sort(Qr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return yh(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mr(t)}static fromUint8Array(e){const t=function(r){let i="";for(let l=0;l<r.length;++l)i+=String.fromCharCode(r[l]);return i}(e);return new Mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return kt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const Np=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ja(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=Np.exec(n);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yr(n.seconds),nanos:yr(n.nanos)}}function yr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _h(n){return"string"==typeof n?Mr.fromBase64String(n):Mr.fromUint8Array(n)}function yy(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Zw(n){const e=n.mapValue.fields.__previous_value__;return yy(e)?Zw(e):e}function Pp(n){const e=ja(n.mapValue.fields.__local_write_time__.timestampValue);return new Yr(e.seconds,e.nanos)}function Vc(n){return null==n}function Ww(n){return 0===n&&1/n==-1/0}function NI(n){return"number"==typeof n&&Number.isInteger(n)&&!Ww(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ht{constructor(e){this.path=e}static fromPath(e){return new ht(Cn.fromString(e))}static fromName(e){return new ht(Cn.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===Cn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Cn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new Cn(e.slice()))}}function Uc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yy(n)?4:10:pt()}function Ha(n,e){if(n===e)return!0;const t=Uc(n);if(t!==Uc(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Pp(n).isEqual(Pp(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const l=ja(r.timestampValue),d=ja(i.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,_h(n.bytesValue).isEqual(_h(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return yr(r.geoPointValue.latitude)===yr(i.geoPointValue.latitude)&&yr(r.geoPointValue.longitude)===yr(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return yr(r.integerValue)===yr(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const l=yr(r.doubleValue),d=yr(i.doubleValue);return l===d?Ww(l)===Ww(d):isNaN(l)&&isNaN(d)}return!1}(n,e);case 9:return yh(n.arrayValue.values||[],e.arrayValue.values||[],Ha);case 10:return function(r,i){const l=r.mapValue.fields||{},d=i.mapValue.fields||{};if(xC(l)!==xC(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(void 0===d[f]||!Ha(l[f],d[f])))return!1;return!0}(n,e);default:return pt()}var i}function Fp(n,e){return void 0!==(n.values||[]).find(t=>Ha(t,e))}function Lp(n,e){if(n===e)return 0;const t=Uc(n),r=Uc(e);if(t!==r)return kt(t,r);switch(t){case 0:return 0;case 1:return kt(n.booleanValue,e.booleanValue);case 2:return function(i,l){const d=yr(i.integerValue||i.doubleValue),f=yr(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,e);case 3:return PI(n.timestampValue,e.timestampValue);case 4:return PI(Pp(n),Pp(e));case 5:return kt(n.stringValue,e.stringValue);case 6:return function(i,l){const d=_h(i),f=_h(l);return d.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,l){const d=i.split("/"),f=l.split("/");for(let y=0;y<d.length&&y<f.length;y++){const D=kt(d[y],f[y]);if(0!==D)return D}return kt(d.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,l){const d=kt(yr(i.latitude),yr(l.latitude));return 0!==d?d:kt(yr(i.longitude),yr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,l){const d=i.values||[],f=l.values||[];for(let y=0;y<d.length&&y<f.length;++y){const D=Lp(d[y],f[y]);if(D)return D}return kt(d.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,l){const d=i.fields||{},f=Object.keys(d),y=l.fields||{},D=Object.keys(y);f.sort(),D.sort();for(let b=0;b<f.length&&b<D.length;++b){const M=kt(f[b],D[b]);if(0!==M)return M;const F=Lp(d[f[b]],y[D[b]]);if(0!==F)return F}return kt(f.length,D.length)}(n.mapValue,e.mapValue);default:throw pt()}}function PI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return kt(n,e);const t=ja(n),r=ja(e),i=kt(t.seconds,r.seconds);return 0!==i?i:kt(t.nanos,r.nanos)}function OC(n){return RC(n)}function RC(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=ja(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_h(n.bytesValue).toBase64():"referenceValue"in n?ht.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",l=!0;for(const d of r.values||[])l?l=!1:i+=",",i+=RC(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let l="{",d=!0;for(const f of i)d?d=!1:l+=",",l+=`${f}:${RC(r.fields[f])}`;return l+"}"}(n.mapValue):pt();var e}function Gw(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Kw(n){return!!n&&"integerValue"in n}function wh(n){return!!n&&"arrayValue"in n}function NC(n){return!!n&&"nullValue"in n}function PC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vp(n){return!!n&&"mapValue"in n}function Ho(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Lc(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ho(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ho(n.arrayValue.values[t]);return e}return Object.assign({},n)}class di{constructor(e){this.value=e}static empty(){return new di({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Vp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ho(t)}setAll(e){let t=Qr.emptyPath(),r={},i=[];e.forEach((d,f)=>{if(!t.isImmediateParentOf(f)){const y=this.getFieldsMap(t);this.applyChanges(y,r,i),r={},i=[],t=f.popLast()}d?r[f.lastSegment()]=Ho(d):i.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,i)}delete(e){const t=this.field(e.popLast());Vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ha(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Vp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Lc(t,(i,l)=>e[i]=l);for(const i of r)delete e[i]}clone(){return new di(Ho(this.value))}}function vy(n){const e=[];return Lc(n.fields,(t,r)=>{const i=new Qr([t]);if(Vp(r)){const l=vy(r.mapValue).fields;if(0===l.length)e.push(i);else for(const d of l)e.push(i.child(d))}else e.push(i)}),new vh(e)}class Vn{constructor(e,t,r,i,l){this.key=e,this.documentType=t,this.version=r,this.data=i,this.documentState=l}static newInvalidDocument(e){return new Vn(e,0,Pt.min(),di.empty(),0)}static newFoundDocument(e,t,r){return new Vn(e,1,t,r,0)}static newNoDocument(e,t){return new Vn(e,2,t,di.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,di.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class FI{constructor(e,t=null,r=[],i=[],l=null,d=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=l,this.startAt=d,this.endAt=f,this.R=null}}function _y(n,e=null,t=[],r=[],i=null,l=null,d=null){return new FI(n,e,t,r,i,l,d)}function Bc(n){const e=Ze(n);if(null===e.R){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function e1(n){return n.field.canonicalString()+n.op.toString()+OC(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Vc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=jp(e.startAt)),e.endAt&&(t+="|ub:",t+=jp(e.endAt)),e.R=t}return e.R}function Up(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!VC(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Ha(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!BC(n.startAt,e.startAt)&&BC(n.endAt,e.endAt)}function Yw(n){return ht.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class os extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.P(e,t,r):new t1(e,t,r):"array-contains"===t?new LC(e,r):"in"===t?new VI(e,r):"not-in"===t?new UI(e,r):"array-contains-any"===t?new BI(e,r):new os(e,t,r)}static P(e,t,r){return"in"===t?new n1(e,r):new r1(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Lp(t,this.value)):null!==t&&Uc(this.value)===Uc(t)&&this.v(Lp(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return pt()}}V(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class t1 extends os{constructor(e,t,r){super(e,t,r),this.key=ht.fromName(r.referenceValue)}matches(e){const t=ht.comparator(e.key,this.key);return this.v(t)}}class n1 extends os{constructor(e,t){super(e,"in",t),this.keys=LI(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class r1 extends os{constructor(e,t){super(e,"not-in",t),this.keys=LI(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function LI(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>ht.fromName(r.referenceValue))}class LC extends os{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wh(t)&&Fp(t.arrayValue,this.value)}}class VI extends os{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Fp(this.value.arrayValue,t)}}class UI extends os{constructor(e,t){super(e,"not-in",t)}matches(e){if(Fp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Fp(this.value.arrayValue,t)}}class BI extends os{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Fp(this.value.arrayValue,r))}}class Bp{constructor(e,t){this.position=e,this.before=t}}function jp(n){return`${n.before?"b":"a"}:${n.position.map(e=>OC(e)).join(",")}`}class jc{constructor(e,t="asc"){this.field=e,this.dir=t}}function VC(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function UC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const l=e[i],d=n.position[i];if(r=l.field.isKeyField()?ht.comparator(ht.fromName(d.referenceValue),t.key):Lp(d,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function BC(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ha(n.position[t],e.position[t]))return!1;return!0}class $a{constructor(e,t=null,r=[],i=[],l=null,d="F",f=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=l,this.limitType=d,this.startAt=f,this.endAt=y,this.S=null,this.D=null}}function Hp(n,e,t,r,i,l,d,f){return new $a(n,e,t,r,i,l,d,f)}function Eh(n){return new $a(n)}function $p(n){return!Vc(n.limit)&&"F"===n.limitType}function Hc(n){return!Vc(n.limit)&&"L"===n.limitType}function Qw(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Jw(n){for(const e of n.filters)if(e.V())return e.field;return null}function Xw(n){return null!==n.collectionGroup}function Dh(n){const e=Ze(n);if(null===e.S){e.S=[];const t=Jw(e),r=Qw(e);if(null!==t&&null===r)t.isKeyField()||e.S.push(new jc(t)),e.S.push(new jc(Qr.keyField(),"asc"));else{let i=!1;for(const l of e.explicitOrderBy)e.S.push(l),l.field.isKeyField()&&(i=!0);if(!i){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.S.push(new jc(Qr.keyField(),l))}}}return e.S}function $o(n){const e=Ze(n);if(!e.D)if("F"===e.limitType)e.D=_y(e.path,e.collectionGroup,Dh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of Dh(e))t.push(new jc(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Bp(e.endAt.position,!e.endAt.before):null,i=e.startAt?new Bp(e.startAt.position,!e.startAt.before):null;e.D=_y(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.D}function jC(n,e,t){return new $a(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zp(n,e){return Up($o(n),$o(e))&&n.limitType===e.limitType}function HC(n){return`${Bc($o(n))}|lt:${n.limitType}`}function e0(n){return`Query(target=${function FC(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${OC(r.value)}`;var r}).join(", ")}]`),Vc(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+jp(n.startAt)),n.endAt&&(e+=", endAt: "+jp(n.endAt)),`Target(${e})`}($o(n))}; limitType=${n.limitType})`}function qp(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):ht.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!UC(t.startAt,Dh(t),r)||t.endAt&&UC(t.endAt,Dh(t),r)));var t,r}function $C(n){return(e,t)=>{let r=!1;for(const i of Dh(n)){const l=jI(i,e,t);if(0!==l)return l;r=r||i.field.isKeyField()}return 0}}function jI(n,e,t){const r=n.field.isKeyField()?ht.comparator(e.key,t.key):function(i,l,d){const f=l.data.field(i),y=d.data.field(i);return null!==f&&null!==y?Lp(f,y):pt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return pt()}}function zC(n,e){if(n.C){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ww(e)?"-0":e}}function HI(n){return{integerValue:""+n}}function $I(n,e){return NI(e)?HI(e):zC(n,e)}class t0{constructor(){this._=void 0}}function i1(n,e,t){return n instanceof Zp?function(r,i){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(l.fields.__previous_value__=i),{mapValue:l}}(t,e):n instanceof Ch?zI(n,e):n instanceof Th?s(n,e):function(r,i){const l=qC(r,i),d=u(l)+u(r.N);return Kw(l)&&Kw(r.N)?HI(d):zC(r.k,d)}(n,e)}function s1(n,e,t){return n instanceof Ch?zI(n,e):n instanceof Th?s(n,e):t}function qC(n,e){return n instanceof o?Kw(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Zp extends t0{}class Ch extends t0{constructor(e){super(),this.elements=e}}function zI(n,e){const t=c(e);for(const r of n.elements)t.some(i=>Ha(i,r))||t.push(r);return{arrayValue:{values:t}}}class Th extends t0{constructor(e){super(),this.elements=e}}function s(n,e){let t=c(e);for(const r of n.elements)t=t.filter(i=>!Ha(i,r));return{arrayValue:{values:t}}}class o extends t0{constructor(e,t){super(),this.k=e,this.N=t}}function u(n){return yr(n.integerValue||n.doubleValue)}function c(n){return wh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class h{constructor(e,t){this.field=e,this.transform=t}}class _{constructor(e,t){this.version=e,this.transformResults=t}}class E{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new E}static exists(e){return new E(void 0,e)}static updateTime(e){return new E(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function C(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class I{}function x(n,e,t){n instanceof Ve?function(r,i,l){const d=r.value.clone(),f=Ie(r.fieldTransforms,i,l.transformResults);d.setAll(f),i.convertToFoundDocument(l.version,d).setHasCommittedMutations()}(n,e,t):n instanceof $e?function(r,i,l){if(!C(r.precondition,i))return void i.convertToUnknownDocument(l.version);const d=Ie(r.fieldTransforms,i,l.transformResults),f=i.data;f.setAll(rt(r)),f.setAll(d),i.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function L(n,e,t){var i;n instanceof Ve?function(r,i,l){if(!C(r.precondition,i))return;const d=r.value.clone(),f=yt(r.fieldTransforms,l,i);d.setAll(f),i.convertToFoundDocument(_e(i),d).setHasLocalMutations()}(n,e,t):n instanceof $e?function(r,i,l){if(!C(r.precondition,i))return;const d=yt(r.fieldTransforms,l,i),f=i.data;f.setAll(rt(r)),f.setAll(d),i.convertToFoundDocument(_e(i),f).setHasLocalMutations()}(n,e,t):C(n.precondition,i=e)&&i.convertToNoDocument(Pt.min())}function q(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),l=qC(r.transform,i||null);null!=l&&(null==t&&(t=di.empty()),t.set(r.field,l))}return t||null}function ne(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&yh(t,r,(i,l)=>function g(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Ch&&r instanceof Ch||t instanceof Th&&r instanceof Th?yh(t.elements,r.elements,Ha):t instanceof o&&r instanceof o?Ha(t.N,r.N):t instanceof Zp&&r instanceof Zp);var t,r}(i,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function _e(n){return n.isFoundDocument()?n.version:Pt.min()}class Ve extends I{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}}class $e extends I{constructor(e,t,r,i,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=l,this.type=1}}function rt(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ie(n,e,t){const r=new Map;Mt(n.length===t.length);for(let i=0;i<t.length;i++){const l=n[i],d=l.transform,f=e.data.field(l.field);r.set(l.field,s1(d,f,t[i]))}return r}function yt(n,e,t){const r=new Map;for(const i of n){const l=i.transform,d=t.data.field(i.field);r.set(i.field,i1(l,d,e))}return r}class Ht extends I{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class dn extends I{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class Ls{constructor(e){this.count=e}}var Un,Xt;function wy(n){switch(n){default:return pt();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function Ey(n){if(void 0===n)return Ur("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Un.OK:return ge.OK;case Un.CANCELLED:return ge.CANCELLED;case Un.UNKNOWN:return ge.UNKNOWN;case Un.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Un.INTERNAL:return ge.INTERNAL;case Un.UNAVAILABLE:return ge.UNAVAILABLE;case Un.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Un.NOT_FOUND:return ge.NOT_FOUND;case Un.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Un.ABORTED:return ge.ABORTED;case Un.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Un.DATA_LOSS:return ge.DATA_LOSS;default:return pt()}}(Xt=Un||(Un={}))[Xt.OK=0]="OK",Xt[Xt.CANCELLED=1]="CANCELLED",Xt[Xt.UNKNOWN=2]="UNKNOWN",Xt[Xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Xt[Xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Xt[Xt.NOT_FOUND=5]="NOT_FOUND",Xt[Xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Xt[Xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Xt[Xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Xt[Xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Xt[Xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Xt[Xt.ABORTED=10]="ABORTED",Xt[Xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Xt[Xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Xt[Xt.INTERNAL=13]="INTERNAL",Xt[Xt.UNAVAILABLE=14]="UNAVAILABLE",Xt[Xt.DATA_LOSS=15]="DATA_LOSS";class vr{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new vr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new vr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new bh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new bh(this.root,e,this.comparator,!1)}getReverseIterator(){return new bh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new bh(this.root,e,this.comparator,!0)}}class bh{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,r,i,l){this.key=e,this.value=t,this.color=null!=r?r:Br.RED,this.left=null!=i?i:Br.EMPTY,this.right=null!=l?l:Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,l){return new Br(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const l=r(e,i.key);return i=l<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===l?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Br.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pt();const e=this.left.check();if(e!==this.right.check())throw pt();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw pt()}get value(){throw pt()}get color(){throw pt()}get left(){throw pt()}get right(){throw pt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xn{constructor(e){this.comparator=e,this.data=new vr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Dy(this.data.getIterator())}getIteratorFrom(e){return new Dy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(i,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xn(this.comparator);return t.data=e,t}}class Dy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const n0=new vr(ht.comparator);function za(){return n0}const dF=new vr(ht.comparator);function qI(){return dF}const hF=new vr(ht.comparator);function o1(){return hF}const fF=new Xn(ht.comparator);function kn(...n){let e=fF;for(const t of n)e=e.add(t);return e}const pF=new Xn(kt);function ZC(){return pF}class r0{constructor(e,t,r,i,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,s0.createSynthesizedTargetChangeForCurrentChange(e,t)),new r0(Pt.min(),r,ZC(),za(),kn())}}class s0{constructor(e,t,r,i,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new s0(Mr.EMPTY_BYTE_STRING,t,kn(),kn(),kn())}}class WC{constructor(e,t,r,i){this.$=e,this.removedTargetIds=t,this.key=r,this.O=i}}class a1{constructor(e,t){this.targetId=e,this.M=t}}class l1{constructor(e,t,r=Mr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class u1{constructor(){this.F=0,this.L=d1(),this.B=Mr.EMPTY_BYTE_STRING,this.U=!1,this.q=!0}get current(){return this.U}get resumeToken(){return this.B}get K(){return 0!==this.F}get j(){return this.q}W(e){e.approximateByteSize()>0&&(this.q=!0,this.B=e)}G(){let e=kn(),t=kn(),r=kn();return this.L.forEach((i,l)=>{switch(l){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:pt()}}),new s0(this.B,this.U,e,t,r)}H(){this.q=!1,this.L=d1()}J(e,t){this.q=!0,this.L=this.L.insert(e,t)}Y(e){this.q=!0,this.L=this.L.remove(e)}X(){this.F+=1}Z(){this.F-=1}tt(){this.q=!0,this.U=!0}}class gF{constructor(e){this.et=e,this.nt=new Map,this.st=za(),this.it=c1(),this.rt=new Xn(kt)}ot(e){for(const t of e.$)e.O&&e.O.isFoundDocument()?this.ct(t,e.O):this.at(t,e.key,e.O);for(const t of e.removedTargetIds)this.at(t,e.key,e.O)}ut(e){this.forEachTarget(e,t=>{const r=this.ht(t);switch(e.state){case 0:this.lt(t)&&r.W(e.resumeToken);break;case 1:r.Z(),r.K||r.H(),r.W(e.resumeToken);break;case 2:r.Z(),r.K||this.removeTarget(t);break;case 3:this.lt(t)&&(r.tt(),r.W(e.resumeToken));break;case 4:this.lt(t)&&(this.ft(t),r.W(e.resumeToken));break;default:pt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.nt.forEach((r,i)=>{this.lt(i)&&t(i)})}dt(e){const t=e.targetId,r=e.M.count,i=this.wt(t);if(i){const l=i.target;if(Yw(l))if(0===r){const d=new ht(l.path);this.at(t,d,Vn.newNoDocument(d,Pt.min()))}else Mt(1===r);else this._t(t)!==r&&(this.ft(t),this.rt=this.rt.add(t))}}gt(e){const t=new Map;this.nt.forEach((l,d)=>{const f=this.wt(d);if(f){if(l.current&&Yw(f.target)){const y=new ht(f.target.path);null!==this.st.get(y)||this.yt(d,y)||this.at(d,y,Vn.newNoDocument(y,e))}l.j&&(t.set(d,l.G()),l.H())}});let r=kn();this.it.forEach((l,d)=>{let f=!0;d.forEachWhile(y=>{const D=this.wt(y);return!D||2===D.purpose||(f=!1,!1)}),f&&(r=r.add(l))});const i=new r0(e,t,this.rt,this.st,r);return this.st=za(),this.it=c1(),this.rt=new Xn(kt),i}ct(e,t){if(!this.lt(e))return;const r=this.yt(e,t.key)?2:0;this.ht(e).J(t.key,r),this.st=this.st.insert(t.key,t),this.it=this.it.insert(t.key,this.Tt(t.key).add(e))}at(e,t,r){if(!this.lt(e))return;const i=this.ht(e);this.yt(e,t)?i.J(t,1):i.Y(t),this.it=this.it.insert(t,this.Tt(t).delete(e)),r&&(this.st=this.st.insert(t,r))}removeTarget(e){this.nt.delete(e)}_t(e){const t=this.ht(e).G();return this.et.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}X(e){this.ht(e).X()}ht(e){let t=this.nt.get(e);return t||(t=new u1,this.nt.set(e,t)),t}Tt(e){let t=this.it.get(e);return t||(t=new Xn(kt),this.it=this.it.insert(e,t)),t}lt(e){const t=null!==this.wt(e);return t||He("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.nt.get(e);return t&&t.K?null:this.et.Et(e)}ft(e){this.nt.set(e,new u1),this.et.getRemoteKeysForTarget(e).forEach(t=>{this.at(e,t,null)})}yt(e,t){return this.et.getRemoteKeysForTarget(e).has(t)}}function c1(){return new vr(ht.comparator)}function d1(){return new vr(ht.comparator)}const mF={asc:"ASCENDING",desc:"DESCENDING"},yF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vF{constructor(e,t){this.databaseId=e,this.C=t}}function o0(n,e){return n.C?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function h1(n,e){return n.C?e.toBase64():e.toUint8Array()}function _F(n,e){return o0(n,e.toTimestamp())}function Ri(n){return Mt(!!n),Pt.fromTimestamp(function(e){const t=ja(e);return new Yr(t.seconds,t.nanos)}(n))}function ZI(n,e){return(t=n,new Cn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function f1(n){const e=Cn.fromString(n);return Mt(b1(e)),e}function a0(n,e){return ZI(n.databaseId,e.path)}function Nu(n,e){const t=f1(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ht(g1(t))}function WI(n,e){return ZI(n.databaseId,e)}function p1(n){const e=f1(n);return 4===e.length?Cn.emptyPath():g1(e)}function l0(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function g1(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function m1(n,e,t){return{name:a0(n,e),fields:t.value.mapValue.fields}}function y1(n,e,t){const r=Nu(n,e.name),i=Ri(e.updateTime),l=new di({mapValue:{fields:e.fields}}),d=Vn.newFoundDocument(r,i,l);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function GC(n,e){let t;if(e instanceof Ve)t={update:m1(n,e.key,e.value)};else if(e instanceof Ht)t={delete:a0(n,e.key)};else if(e instanceof $e)t={update:m1(n,e.key,e.data),updateMask:AF(e.fieldMask)};else{if(!(e instanceof dn))return pt();t={verify:a0(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const d=l.transform;if(d instanceof Zp)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ch)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Th)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof o)return{fieldPath:l.field.canonicalString(),increment:d.N};throw pt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:_F(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:pt()),t;var i}function v1(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?E.updateTime(Ri(i.updateTime)):void 0!==i.exists?E.exists(i.exists):E.none():E.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(l,d){let f=null;"setToServerValue"in d?(Mt("REQUEST_TIME"===d.setToServerValue),f=new Zp):"appendMissingElements"in d?f=new Ch(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Th(d.removeAllFromArray.values||[]):"increment"in d?f=new o(l,d.increment):pt();const y=Qr.fromServerFormat(d.fieldPath);return new h(y,f)}(n,i)):[];var i;if(e.update){const i=Nu(n,e.update.name),l=new di({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new vh((e.updateMask.fieldPaths||[]).map(D=>Qr.fromServerFormat(D)));return new $e(i,l,d,t,r)}return new Ve(i,l,t,r)}if(e.delete){const i=Nu(n,e.delete);return new Ht(i,t)}if(e.verify){const i=Nu(n,e.verify);return new dn(i,t)}return pt()}function _1(n,e){return{documents:[WI(n,e.path)]}}function w1(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=WI(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=WI(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(0===f.length)return;const y=f.map(D=>function(b){if("=="===b.op){if(PC(b.value))return{unaryFilter:{field:Cy(b.field),op:"IS_NAN"}};if(NC(b.value))return{unaryFilter:{field:Cy(b.field),op:"IS_NULL"}}}else if("!="===b.op){if(PC(b.value))return{unaryFilter:{field:Cy(b.field),op:"IS_NOT_NAN"}};if(NC(b.value))return{unaryFilter:{field:Cy(b.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Cy(b.field),op:bF(b.op),value:b.value}}}(D));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);i&&(t.structuredQuery.where=i);const l=function(f){if(0!==f.length)return f.map(y=>{return{field:Cy((D=y).field),direction:TF(D.dir)};var D})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const d=(y=e.limit,n.C||Vc(y)?y:{value:y});var y;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=C1(e.startAt)),e.endAt&&(t.structuredQuery.endAt=C1(e.endAt)),t}function E1(n){let e=p1(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mt(1===r);const b=t.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=D1(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(b=>{return new jc(Ty((M=b).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(b){let M;return M="object"==typeof b?b.value:b,Vc(M)?null:M}(t.limit));let y=null;t.startAt&&(y=T1(t.startAt));let D=null;return t.endAt&&(D=T1(t.endAt)),Hp(e,i,d,l,f,"F",y,D)}function D1(n){return n?void 0!==n.unaryFilter?[IF(n)]:void 0!==n.fieldFilter?[SF(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>D1(e)).reduce((e,t)=>e.concat(t)):pt():[]}function C1(n){return{before:n.before,values:n.position}}function T1(n){return new Bp(n.values||[],!!n.before)}function TF(n){return mF[n]}function bF(n){return yF[n]}function Cy(n){return{fieldPath:n.canonicalString()}}function Ty(n){return Qr.fromServerFormat(n.fieldPath)}function SF(n){return os.create(Ty(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pt()}}(n.fieldFilter.op),n.fieldFilter.value)}function IF(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Ty(n.unaryFilter.field);return os.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Ty(n.unaryFilter.field);return os.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ty(n.unaryFilter.field);return os.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ty(n.unaryFilter.field);return os.create(i,"!=",{nullValue:"NULL_VALUE"});default:return pt()}}function AF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function b1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function zl(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=S1(e)),e=MF(n.get(t),e);return S1(e)}function MF(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const l=n.charAt(i);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function S1(n){return n+"\x01\x01"}function $c(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Cn.emptyPath();const t=e-2,r=[];let i="";for(let l=0;l<e;){const d=n.indexOf("\x01",l);switch((d<0||d>t)&&pt(),n.charAt(d+1)){case"\x01":const f=n.substring(l,d);let y;0===i.length?y=f:(i+=f,y=i,i=""),r.push(y);break;case"\x10":i+=n.substring(l,d),i+="\0";break;case"\x11":i+=n.substring(l,d+1);break;default:pt()}l=d+2}return new Cn(r)}class xF{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class zo{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}zo.store="owner",zo.key="owner";class Sh{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}Sh.store="mutationQueues",Sh.keyPath="userId";class rr{constructor(e,t,r,i,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=l}}rr.store="mutations",rr.keyPath="batchId",rr.userMutationsIndex="userMutationsIndex",rr.userMutationsKeyPath=["userId","batchId"];class as{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,zl(t)]}static key(e,t,r){return[e,zl(t),r]}}as.store="documentMutations",as.PLACEHOLDER=new as;class kF{constructor(e,t){this.path=e,this.readTime=t}}class OF{constructor(e,t){this.path=e,this.version=t}}class xr{constructor(e,t,r,i,l,d){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=i,this.readTime=l,this.parentPath=d}}xr.store="remoteDocuments",xr.readTimeIndex="readTimeIndex",xr.readTimeIndexPath="readTime",xr.collectionReadTimeIndex="collectionReadTimeIndex",xr.collectionReadTimeIndexPath=["parentPath","readTime"];class Pu{constructor(e){this.byteSize=e}}Pu.store="remoteDocumentGlobal",Pu.key="remoteDocumentGlobalKey";class mo{constructor(e,t,r,i,l,d,f){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=d,this.query=f}}mo.store="targets",mo.keyPath="targetId",mo.queryTargetsIndexName="queryTargetsIndex",mo.queryTargetsKeyPath=["canonicalId","targetId"];class Ki{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}Ki.store="targetDocuments",Ki.keyPath=["targetId","path"],Ki.documentTargetsIndex="documentTargetsIndex",Ki.documentTargetsKeyPath=["path","targetId"];class qo{constructor(e,t,r,i){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}qo.key="targetGlobalKey",qo.store="targetGlobal";class Wp{constructor(e,t){this.collectionId=e,this.parent=t}}Wp.store="collectionParents",Wp.keyPath=["collectionId","parent"];class zc{constructor(e,t,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=i}}zc.store="clientMetadata",zc.keyPath="clientId";class by{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}by.store="bundles",by.keyPath="bundleId";class Sy{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Sy.store="namedQueries",Sy.keyPath="name";const RF=[Sh.store,rr.store,as.store,xr.store,mo.store,zo.store,qo.store,Ki.store,zc.store,Pu.store,Wp.store,by.store,Sy.store],I1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class A1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class Oe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Oe((r,i)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,i)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Oe?t:Oe.resolve(t)}catch(t){return Oe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Oe.reject(t)}static resolve(e){return new Oe((t,r)=>{t(e)})}static reject(e){return new Oe((t,r)=>{r(e)})}static waitFor(e){return new Oe((t,r)=>{let i=0,l=0,d=!1;e.forEach(f=>{++i,f.next(()=>{++l,d&&l===i&&t()},y=>r(y))}),d=!0,l===i&&t()})}static or(e){let t=Oe.resolve(!1);for(const r of e)t=t.next(i=>i?Oe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,l)=>{r.push(t.call(this,i,l))}),this.waitFor(r)}}class KC{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.It=new Kr,this.transaction.oncomplete=()=>{this.It.resolve()},this.transaction.onabort=()=>{t.error?this.It.reject(new u0(e,t.error)):this.It.resolve()},this.transaction.onerror=r=>{const i=GI(r.target.error);this.It.reject(new u0(e,i))}}static open(e,t,r,i){try{return new KC(t,e.transaction(i,r))}catch(l){throw new u0(t,l)}}get At(){return this.It.promise}abort(e){e&&this.It.reject(e),this.aborted||(He("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new PF(t)}}class ql{constructor(e,t,r){this.name=e,this.version=t,this.Rt=r,12.2===ql.bt((0,Zt.z$)())&&Ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return He("SimpleDb","Removing database:",e),Kp(window.indexedDB.deleteDatabase(e)).toPromise()}static Pt(){if(!(0,Zt.hl)())return!1;if(ql.vt())return!0;const e=(0,Zt.z$)(),t=ql.bt(e),r=0<t&&t<10,i=ql.Vt(e),l=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static vt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.St)}static Dt(e,t){return e.store(t)}static bt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Ct(e){var t=this;return(0,Ee.Z)(function*(){return t.db||(He("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=d=>{r(d.target.result)},l.onblocked=()=>{i(new u0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Se(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Se(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new u0(e,f))},l.onupgradeneeded=d=>{He("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Rt.Nt(d.target.result,l.transaction,d.oldVersion,t.version).next(()=>{He("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.kt&&(t.db.onversionchange=r=>t.kt(r)),t.db})()}xt(e){this.kt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var l=this;return(0,Ee.Z)(function*(){const d="readonly"===t;let f=0;for(;;){++f;try{l.db=yield l.Ct(e);const y=KC.open(l.db,e,d?"readonly":"readwrite",r),D=i(y).catch(b=>(y.abort(b),Oe.reject(b))).toPromise();return D.catch(()=>{}),yield y.At,D}catch(y){const D="FirebaseError"!==y.name&&f<3;if(He("SimpleDb","Transaction failed with error:",y.message,"Retrying:",D),l.close(),!D)return Promise.reject(y)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class NF{constructor(e){this.$t=e,this.Ot=!1,this.Mt=null}get isDone(){return this.Ot}get Ft(){return this.Mt}set cursor(e){this.$t=e}done(){this.Ot=!0}Lt(e){this.Mt=e}delete(){return Kp(this.$t.delete())}}class u0 extends Se{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Gp(n){return"IndexedDbTransactionError"===n.name}class PF{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(He("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Kp(r)}add(e){return He("SimpleDb","ADD",this.store.name,e,e),Kp(this.store.add(e))}get(e){return Kp(this.store.get(e)).next(t=>(void 0===t&&(t=null),He("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return He("SimpleDb","DELETE",this.store.name,e),Kp(this.store.delete(e))}count(){return He("SimpleDb","COUNT",this.store.name),Kp(this.store.count())}Bt(e,t){const r=this.cursor(this.options(e,t)),i=[];return this.Ut(r,(l,d)=>{i.push(d)}).next(()=>i)}qt(e,t){He("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Kt=!1;const i=this.cursor(r);return this.Ut(i,(l,d,f)=>f.delete())}jt(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.Ut(i,t)}Qt(e){const t=this.cursor({});return new Oe((r,i)=>{t.onerror=l=>{const d=GI(l.target.error);i(d)},t.onsuccess=l=>{const d=l.target.result;d?e(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Ut(e,t){const r=[];return new Oe((i,l)=>{e.onerror=d=>{l(d.target.error)},e.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const y=new NF(f),D=t(f.primaryKey,f.value,y);if(D instanceof Oe){const b=D.catch(M=>(y.done(),Oe.reject(M)));r.push(b)}y.isDone?i():null===y.Ft?f.continue():f.continue(y.Ft)}}).next(()=>Oe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Kt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Kp(n){return new Oe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=GI(r.target.error);t(i)}})}let M1=!1;function GI(n){const e=ql.bt((0,Zt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return M1||(M1=!0,setTimeout(()=>{throw r},0)),r}}return n}class x1 extends A1{constructor(e,t){super(),this.Wt=e,this.currentSequenceNumber=t}}function yo(n,e){const t=Ze(n);return ql.Dt(t.Wt,e)}class KI{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const l=this.mutations[i];l.key.isEqual(e.key)&&x(l,e,r[i])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&L(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&L(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Pt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),kn())}isEqual(e){return this.batchId===e.batchId&&yh(this.mutations,e.mutations,(t,r)=>ne(t,r))&&yh(this.baseMutations,e.baseMutations,(t,r)=>ne(t,r))}}class YI{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mt(e.mutations.length===r.length);let i=o1();const l=e.mutations;for(let d=0;d<l.length;d++)i=i.insert(l[d].key,r[d].version);return new YI(e,t,r,i)}}class Ih{constructor(e,t,r,i,l=Pt.min(),d=Pt.min(),f=Mr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(e){return new Ih(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Ih(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ih(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class k1{constructor(e){this.Gt=e}}function QI(n,e){if(e.document)return y1(n.Gt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=ht.fromSegments(e.noDocument.path),r=Ay(e.noDocument.readTime),i=Vn.newNoDocument(t,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){const t=ht.fromSegments(e.unknownDocument.path),r=Ay(e.unknownDocument.version);return Vn.newUnknownDocument(t,r)}return pt()}function O1(n,e,t){const r=JI(t),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:a0(f=n.Gt,(y=e).key),fields:y.data.value.mapValue.fields,updateTime:o0(f,y.version.toTimestamp())};return new xr(null,null,l,e.hasCommittedMutations,r,i)}var f,y;if(e.isNoDocument()){const l=e.key.path.toArray(),d=Iy(e.version),f=e.hasCommittedMutations;return new xr(null,new kF(l,d),null,f,r,i)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),d=Iy(e.version);return new xr(new OF(l,d),null,null,!0,r,i)}return pt()}function JI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function R1(n){const e=new Yr(n[0],n[1]);return Pt.fromTimestamp(e)}function Iy(n){const e=n.toTimestamp();return new xF(e.seconds,e.nanoseconds)}function Ay(n){const e=new Yr(n.seconds,n.nanoseconds);return Pt.fromTimestamp(e)}function My(n,e){const t=(e.baseMutations||[]).map(l=>v1(n.Gt,l));for(let l=0;l<e.mutations.length-1;++l){const d=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(d.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>v1(n.Gt,l)),i=Yr.fromMillis(e.localWriteTimeMs);return new KI(e.batchId,i,t,r)}function c0(n){const e=Ay(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Ay(n.lastLimboFreeSnapshotVersion):Pt.min();let r;var i;return void 0!==n.query.documents?(Mt(1===(i=n.query).documents.length),r=$o(Eh(p1(i.documents[0])))):r=$o(E1(n.query)),new Ih(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Mr.fromBase64String(n.resumeToken))}function N1(n,e){const t=Iy(e.snapshotVersion),r=Iy(e.lastLimboFreeSnapshotVersion);let i;i=Yw(e.target)?_1(n.Gt,e.target):w1(n.Gt,e.target);const l=e.resumeToken.toBase64();return new mo(e.targetId,Bc(e.target),t,l,e.sequenceNumber,r,i)}function XI(n){const e=E1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jC(e,e.limit,"L"):e}class FF{getBundleMetadata(e,t){return P1(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Ay(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return P1(e).put({bundleId:(r=t).id,createTime:Iy(Ri(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return F1(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:XI(i.bundledQuery),readTime:Ay(i.readTime)};var i})}saveNamedQuery(e,t){return F1(e).put({name:(r=t).name,readTime:Iy(Ri(r.readTime)),bundledQuery:r.bundledQuery});var r}}function P1(n){return yo(n,by.store)}function F1(n){return yo(n,Sy.store)}class LF{constructor(){this.zt=new eA}addToCollectionParentIndex(e,t){return this.zt.add(t),Oe.resolve()}getCollectionParents(e,t){return Oe.resolve(this.zt.getEntries(t))}}class eA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xn(Cn.comparator),l=!i.has(r);return this.index[t]=i.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xn(Cn.comparator)).toArray()}}class VF{constructor(){this.Ht=new eA}addToCollectionParentIndex(e,t){if(!this.Ht.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Ht.add(t)});const l={collectionId:r,parent:zl(i)};return L1(e).put(l)}return Oe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[OI(t),""],!1,!0);return L1(e).Bt(i).next(l=>{for(const d of l){if(d.collectionId!==t)break;r.push($c(d.parent))}return r})}}function L1(n){return yo(n,Wp.store)}const V1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class vo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vo(e,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function U1(n,e,t){const r=n.store(rr.store),i=n.store(as.store),l=[],d=IDBKeyRange.only(t.batchId);let f=0;const y=r.jt({range:d},(b,M,F)=>(f++,F.delete()));l.push(y.next(()=>{Mt(1===f)}));const D=[];for(const b of t.mutations){const M=as.key(e,b.key.path,t.batchId);l.push(i.delete(M)),D.push(b.key)}return Oe.waitFor(l).next(()=>D)}function YC(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw pt();e=n.noDocument}return JSON.stringify(e).length}vo.DEFAULT_COLLECTION_PERCENTILE=10,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vo.DEFAULT=new vo(41943040,vo.DEFAULT_COLLECTION_PERCENTILE,vo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vo.DISABLED=new vo(-1,0,0);class tA{constructor(e,t,r,i){this.userId=e,this.k=t,this.Jt=r,this.referenceDelegate=i,this.Yt={}}static Xt(e,t,r,i){Mt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new tA(l,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ah(e).jt({index:rr.userMutationsIndex,range:r},(i,l,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const l=xy(e),d=Ah(e);return d.add({}).next(f=>{Mt("number"==typeof f);const y=new KI(f,t,r,i),D=function(F,R,B){const te=B.baseMutations.map(De=>GC(F.Gt,De)),se=B.mutations.map(De=>GC(F.Gt,De));return new rr(R,B.batchId,B.localWriteTime.toMillis(),te,se)}(this.k,this.userId,y),b=[];let M=new Xn((F,R)=>kt(F.canonicalString(),R.canonicalString()));for(const F of i){const R=as.key(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),b.push(d.put(D)),b.push(l.put(R,as.PLACEHOLDER))}return M.forEach(F=>{b.push(this.Jt.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.Yt[f]=y.keys()}),Oe.waitFor(b).next(()=>y)})}lookupMutationBatch(e,t){return Ah(e).get(t).next(r=>r?(Mt(r.userId===this.userId),My(this.k,r)):null)}Zt(e,t){return this.Yt[t]?Oe.resolve(this.Yt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Yt[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ah(e).jt({index:rr.userMutationsIndex,range:i},(d,f,y)=>{f.userId===this.userId&&(Mt(f.batchId>=r),l=My(this.k,f)),y.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ah(e).jt({index:rr.userMutationsIndex,range:t,reverse:!0},(i,l,d)=>{r=l.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ah(e).Bt(rr.userMutationsIndex,t).next(r=>r.map(i=>My(this.k,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=as.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),l=[];return xy(e).jt({range:i},(d,f,y)=>{const[D,b,M]=d,F=$c(b);if(D===this.userId&&t.path.isEqual(F))return Ah(e).get(M).next(R=>{if(!R)throw pt();Mt(R.userId===this.userId),l.push(My(this.k,R))});y.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(kt);const i=[];return t.forEach(l=>{const d=as.prefixForPath(this.userId,l.path),f=IDBKeyRange.lowerBound(d),y=xy(e).jt({range:f},(D,b,M)=>{const[F,R,B]=D,te=$c(R);F===this.userId&&l.path.isEqual(te)?r=r.add(B):M.done()});i.push(y)}),Oe.waitFor(i).next(()=>this.te(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,l=as.prefixForPath(this.userId,r),d=IDBKeyRange.lowerBound(l);let f=new Xn(kt);return xy(e).jt({range:d},(y,D,b)=>{const[M,F,R]=y,B=$c(F);M===this.userId&&r.isPrefixOf(B)?B.length===i&&(f=f.add(R)):b.done()}).next(()=>this.te(e,f))}te(e,t){const r=[],i=[];return t.forEach(l=>{i.push(Ah(e).get(l).next(d=>{if(null===d)throw pt();Mt(d.userId===this.userId),r.push(My(this.k,d))}))}),Oe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return U1(e.Wt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.ee(t.batchId)}),Oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}ee(e){delete this.Yt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return Oe.resolve();const r=IDBKeyRange.lowerBound(as.prefixForUser(this.userId)),i=[];return xy(e).jt({range:r},(l,d,f)=>{if(l[0]===this.userId){const y=$c(l[1]);i.push(y)}else f.done()}).next(()=>{Mt(0===i.length)})})}containsKey(e,t){return B1(e,this.userId,t)}ne(e){return j1(e).get(this.userId).next(t=>t||new Sh(this.userId,-1,""))}}function B1(n,e,t){const r=as.prefixForPath(e,t.path),i=r[1],l=IDBKeyRange.lowerBound(r);let d=!1;return xy(n).jt({range:l,Kt:!0},(f,y,D)=>{const[b,M,F]=f;b===e&&M===i&&(d=!0),D.done()}).next(()=>d)}function Ah(n){return yo(n,rr.store)}function xy(n){return yo(n,as.store)}function j1(n){return yo(n,Sh.store)}class Yp{constructor(e){this.se=e}next(){return this.se+=2,this.se}static ie(){return new Yp(0)}static re(){return new Yp(-1)}}class UF{constructor(e,t){this.referenceDelegate=e,this.k=t}allocateTargetId(e){return this.oe(e).next(t=>{const r=new Yp(t.highestTargetId);return t.highestTargetId=r.next(),this.ce(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.oe(e).next(t=>Pt.fromTimestamp(new Yr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.oe(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.oe(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.ce(e,i)))}addTargetData(e,t){return this.ae(e,t).next(()=>this.oe(e).next(r=>(r.targetCount+=1,this.ue(t,r),this.ce(e,r))))}updateTargetData(e,t){return this.ae(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>ky(e).delete(t.targetId)).next(()=>this.oe(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.ce(e,r)))}removeTargets(e,t,r){let i=0;const l=[];return ky(e).jt((d,f)=>{const y=c0(f);y.sequenceNumber<=t&&null===r.get(y.targetId)&&(i++,l.push(this.removeTargetData(e,y)))}).next(()=>Oe.waitFor(l)).next(()=>i)}forEachTarget(e,t){return ky(e).jt((r,i)=>{const l=c0(i);t(l)})}oe(e){return H1(e).get(qo.key).next(t=>(Mt(null!==t),t))}ce(e,t){return H1(e).put(qo.key,t)}ae(e,t){return ky(e).put(N1(this.k,t))}ue(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.oe(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Bc(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return ky(e).jt({range:i,index:mo.queryTargetsIndexName},(d,f,y)=>{const D=c0(f);Up(t,D.target)&&(l=D,y.done())}).next(()=>l)}addMatchingKeys(e,t,r){const i=[],l=Mh(e);return t.forEach(d=>{const f=zl(d.path);i.push(l.put(new Ki(r,f))),i.push(this.referenceDelegate.addReference(e,r,d))}),Oe.waitFor(i)}removeMatchingKeys(e,t,r){const i=Mh(e);return Oe.forEach(t,l=>{const d=zl(l.path);return Oe.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Mh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Mh(e);let l=kn();return i.jt({range:r,Kt:!0},(d,f,y)=>{const D=$c(d[1]),b=new ht(D);l=l.add(b)}).next(()=>l)}containsKey(e,t){const r=zl(t.path),i=IDBKeyRange.bound([r],[OI(r)],!1,!0);let l=0;return Mh(e).jt({index:Ki.documentTargetsIndex,Kt:!0,range:i},([d,f],y,D)=>{0!==d&&(l++,D.done())}).next(()=>l>0)}Et(e,t){return ky(e).get(t).next(r=>r?c0(r):null)}}function ky(n){return yo(n,mo.store)}function H1(n){return yo(n,qo.store)}function Mh(n){return yo(n,Ki.store)}function Qp(n){return nA.apply(this,arguments)}function nA(){return nA=(0,Ee.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==I1)throw n;He("LocalStore","Unexpectedly lost primary lease")}),nA.apply(this,arguments)}function $1([n,e],[t,r]){const i=kt(n,t);return 0===i?kt(e,r):i}class BF{constructor(e){this.he=e,this.buffer=new Xn($1),this.le=0}fe(){return++this.le}de(e){const t=[e,this.fe()];if(this.buffer.size<this.he)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();$1(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class jF{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.we=!1,this._e=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.me(e)}stop(){this._e&&(this._e.cancel(),this._e=null)}get started(){return null!==this._e}me(e){var t=this;const r=this.we?3e5:6e4;He("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this._e=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,Ee.Z)(function*(){t._e=null,t.we=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(i){Gp(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Qp(i)}yield t.me(e)}))}}class HF{constructor(e,t){this.ge=e,this.params=t}calculateTargetCount(e,t){return this.ge.ye(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return Oe.resolve(Fs.I);const r=new BF(t);return this.ge.forEachTarget(e,i=>r.de(i.sequenceNumber)).next(()=>this.ge.pe(e,i=>r.de(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.ge.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.ge.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(V1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),V1):this.Te(e,t))}getCacheSize(e){return this.ge.getCacheSize(e)}Te(e,t){let r,i,l,d,f,y,D;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,d=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,y=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(D=Date.now(),py()<=Ll.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-b}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${l} targets in `+(y-f)+`ms\n\tRemoved ${M} documents in `+(D-y)+`ms\nTotal Duration: ${D-b}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:l,documentsRemoved:M})))}}class $F{constructor(e,t){this.db=e,this.garbageCollector=new HF(this,t)}ye(e){const t=this.Ee(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Ee(e){let t=0;return this.pe(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}pe(e,t){return this.Ie(e,(r,i)=>t(i))}addReference(e,t,r){return QC(e,r)}removeReference(e,t,r){return QC(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return QC(e,t)}Ae(e,t){return function(r,i){let l=!1;return j1(r).Qt(d=>B1(r,d,i).next(f=>(f&&(l=!0),Oe.resolve(!f)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let l=0;return this.Ie(e,(d,f)=>{if(f<=t){const y=this.Ae(e,d).next(D=>{if(!D)return l++,r.getEntry(e,d).next(()=>(r.removeEntry(d),Mh(e).delete([0,zl(d.path)])))});i.push(y)}}).next(()=>Oe.waitFor(i)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return QC(e,t)}Ie(e,t){const r=Mh(e);let i,l=Fs.I;return r.jt({index:Ki.documentTargetsIndex},([d,f],{path:y,sequenceNumber:D})=>{0===d?(l!==Fs.I&&t(new ht($c(i)),l),l=D,i=y):l=Fs.I}).next(()=>{l!==Fs.I&&t(new ht($c(i)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function QC(n,e){return Mh(n).put((r=n.currentSequenceNumber,new Ki(0,zl(e.path),r)));var r}class Oy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,l]of r)if(this.equalsFn(i,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0!==i){for(let l=0;l<i.length;l++)if(this.equalsFn(i[l][0],e))return void(i[l]=[e,t]);i.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),!0;return!1}forEach(e){Lc(this.inner,(t,r)=>{for(const[i,l]of r)e(i,l)})}isEmpty(){return qw(this.inner)}}class z1{constructor(){this.changes=new Oy(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Pt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:Vn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Oe.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zF{constructor(e,t){this.k=e,this.Jt=t}addEntry(e,t,r){return xh(e).put(JC(t),r)}removeEntry(e,t){const r=xh(e),i=JC(t);return r.delete(i)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Re(e,r)))}getEntry(e,t){return xh(e).get(JC(t)).next(r=>this.be(t,r))}Pe(e,t){return xh(e).get(JC(t)).next(r=>({document:this.be(t,r),size:YC(r)}))}getEntries(e,t){let r=za();return this.ve(e,t,(i,l)=>{const d=this.be(i,l);r=r.insert(i,d)}).next(()=>r)}Ve(e,t){let r=za(),i=new vr(ht.comparator);return this.ve(e,t,(l,d)=>{const f=this.be(l,d);r=r.insert(l,f),i=i.insert(l,YC(d))}).next(()=>({documents:r,Se:i}))}ve(e,t,r){if(t.isEmpty())return Oe.resolve();const i=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let d=l.getNext();return xh(e).jt({range:i},(f,y,D)=>{const b=ht.fromSegments(f);for(;d&&ht.comparator(d,b)<0;)r(d,null),d=l.getNext();d&&d.isEqual(b)&&(r(d,y),d=l.hasNext()?l.getNext():null),d?D.Lt(d.path.toArray()):D.done()}).next(()=>{for(;d;)r(d,null),d=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let i=za();const l=t.path.length+1,d={};if(r.isEqual(Pt.min())){const f=t.path.toArray();d.range=IDBKeyRange.lowerBound(f)}else{const f=t.path.toArray(),y=JI(r);d.range=IDBKeyRange.lowerBound([f,y],!0),d.index=xr.collectionReadTimeIndex}return xh(e).jt(d,(f,y,D)=>{if(f.length!==l)return;const b=QI(this.k,y);t.path.isPrefixOf(b.key.path)?qp(t,b)&&(i=i.insert(b.key,b)):D.done()}).next(()=>i)}newChangeBuffer(e){return new qF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return q1(e).get(Pu.key).next(t=>(Mt(!!t),t))}Re(e,t){return q1(e).put(Pu.key,t)}be(e,t){if(t){const r=QI(this.k,t);if(!r.isNoDocument()||!r.version.isEqual(Pt.min()))return r}return Vn.newInvalidDocument(e)}}class qF extends z1{constructor(e,t){super(),this.De=e,this.trackRemovals=t,this.Ce=new Oy(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Xn((l,d)=>kt(l.canonicalString(),d.canonicalString()));return this.changes.forEach((l,d)=>{const f=this.Ce.get(l);if(d.document.isValidDocument()){const y=O1(this.De.k,d.document,this.getReadTime(l));i=i.add(l.path.popLast()),r+=YC(y)-f,t.push(this.De.addEntry(e,l,y))}else if(r-=f,this.trackRemovals){const y=O1(this.De.k,Vn.newNoDocument(l,Pt.min()),this.getReadTime(l));t.push(this.De.addEntry(e,l,y))}else t.push(this.De.removeEntry(e,l))}),i.forEach(l=>{t.push(this.De.Jt.addToCollectionParentIndex(e,l))}),t.push(this.De.updateMetadata(e,r)),Oe.waitFor(t)}getFromCache(e,t){return this.De.Pe(e,t).next(r=>(this.Ce.set(t,r.size),r.document))}getAllFromCache(e,t){return this.De.Ve(e,t).next(({documents:r,Se:i})=>(i.forEach((l,d)=>{this.Ce.set(l,d)}),r))}}function q1(n){return yo(n,Pu.store)}function xh(n){return yo(n,xr.store)}function JC(n){return n.path.toArray()}class ZF{constructor(e){this.k=e}Nt(e,t,r,i){Mt(r<i&&r>=0&&i<=11);const l=new KC("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore(zo.store),(f=e).createObjectStore(Sh.store,{keyPath:Sh.keyPath}),f.createObjectStore(rr.store,{keyPath:rr.keyPath,autoIncrement:!0}).createIndex(rr.userMutationsIndex,rr.userMutationsKeyPath,{unique:!0}),f.createObjectStore(as.store),Z1(e),function(f){f.createObjectStore(xr.store)}(e));let d=Oe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore(Ki.store),f.deleteObjectStore(mo.store),f.deleteObjectStore(qo.store)}(e),Z1(e)),d=d.next(()=>function(f){const y=f.store(qo.store),D=new qo(0,0,Pt.min().toTimestamp(),0);return y.put(qo.key,D)}(l))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,y){return y.store(rr.store).Bt().next(D=>{f.deleteObjectStore(rr.store),f.createObjectStore(rr.store,{keyPath:rr.keyPath,autoIncrement:!0}).createIndex(rr.userMutationsIndex,rr.userMutationsKeyPath,{unique:!0});const b=y.store(rr.store),M=D.map(F=>b.put(F));return Oe.waitFor(M)})}(e,l))),d=d.next(()=>{!function(f){f.createObjectStore(zc.store,{keyPath:zc.keyPath})}(e)})),r<5&&i>=5&&(d=d.next(()=>this.Ne(l))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore(Pu.store)}(e),this.ke(l)))),r<7&&i>=7&&(d=d.next(()=>this.xe(l))),r<8&&i>=8&&(d=d.next(()=>this.$e(e,l))),r<9&&i>=9&&(d=d.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(e),function(f){const y=f.objectStore(xr.store);y.createIndex(xr.readTimeIndex,xr.readTimeIndexPath,{unique:!1}),y.createIndex(xr.collectionReadTimeIndex,xr.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&i>=10&&(d=d.next(()=>this.Oe(l))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore(by.store,{keyPath:by.keyPath})})(e),function(f){f.createObjectStore(Sy.store,{keyPath:Sy.keyPath})}(e)})),d}ke(e){let t=0;return e.store(xr.store).jt((r,i)=>{t+=YC(i)}).next(()=>{const r=new Pu(t);return e.store(Pu.store).put(Pu.key,r)})}Ne(e){const t=e.store(Sh.store),r=e.store(rr.store);return t.Bt().next(i=>Oe.forEach(i,l=>{const d=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Bt(rr.userMutationsIndex,d).next(f=>Oe.forEach(f,y=>{Mt(y.userId===l.userId);const D=My(this.k,y);return U1(e,l.userId,D).next(()=>{})}))}))}xe(e){const t=e.store(Ki.store),r=e.store(xr.store);return e.store(qo.store).get(qo.key).next(i=>{const l=[];return r.jt((d,f)=>{const y=new Cn(d),D=[0,zl(y)];l.push(t.get(D).next(b=>b?Oe.resolve():t.put(new Ki(0,zl(y),i.highestListenSequenceNumber))))}).next(()=>Oe.waitFor(l))})}$e(e,t){e.createObjectStore(Wp.store,{keyPath:Wp.keyPath});const r=t.store(Wp.store),i=new eA,l=d=>{if(i.add(d)){const f=d.lastSegment(),y=d.popLast();return r.put({collectionId:f,parent:zl(y)})}};return t.store(xr.store).jt({Kt:!0},(d,f)=>{const y=new Cn(d);return l(y.popLast())}).next(()=>t.store(as.store).jt({Kt:!0},([d,f,y],D)=>{const b=$c(f);return l(b.popLast())}))}Oe(e){const t=e.store(mo.store);return t.jt((r,i)=>{const l=c0(i),d=N1(this.k,l);return t.put(d)})}}function Z1(n){n.createObjectStore(Ki.store,{keyPath:Ki.keyPath}).createIndex(Ki.documentTargetsIndex,Ki.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(mo.store,{keyPath:mo.keyPath}).createIndex(mo.queryTargetsIndexName,mo.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(qo.store)}const rA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class iA{constructor(e,t,r,i,l,d,f,y,D,b){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Me=l,this.window=d,this.document=f,this.Fe=D,this.Le=b,this.Be=null,this.Ue=!1,this.isPrimary=!1,this.networkEnabled=!0,this.qe=null,this.inForeground=!1,this.Ke=null,this.je=null,this.Qe=Number.NEGATIVE_INFINITY,this.We=M=>Promise.resolve(),!iA.Pt())throw new Se(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new $F(this,i),this.Ge=t+"main",this.k=new k1(y),this.ze=new ql(this.Ge,11,new ZF(this.k)),this.He=new UF(this.referenceDelegate,this.k),this.Jt=new VF,this.Je=new zF(this.k,this.Jt),this.Ye=new FF,this.window&&this.window.localStorage?this.Xe=this.window.localStorage:(this.Xe=null,!1===b&&Ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ze().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(ge.FAILED_PRECONDITION,rA);return this.tn(),this.en(),this.nn(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.He.getHighestSequenceNumber(e))}).then(e=>{this.Be=new Fs(e,this.Fe)}).then(()=>{this.Ue=!0}).catch(e=>(this.ze&&this.ze.close(),Promise.reject(e)))}sn(e){var t=this;return this.We=function(){var r=(0,Ee.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ze.xt(function(){var t=(0,Ee.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Me.enqueueAndForget((0,Ee.Z)(function*(){t.started&&(yield t.Ze())})))}Ze(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>XC(e).put(new zc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.rn(e).next(t=>{t||(this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)))})}).next(()=>this.on(e)).next(t=>this.isPrimary&&!t?this.cn(e).next(()=>!1):!!t&&this.an(e).next(()=>!0))).catch(e=>{if(Gp(e))return He("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Me.enqueueRetryable(()=>this.We(e)),this.isPrimary=e})}rn(e){return d0(e).get(zo.key).next(t=>Oe.resolve(this.un(t)))}hn(e){return XC(e).delete(this.clientId)}ln(){var e=this;return(0,Ee.Z)(function*(){if(e.isPrimary&&!e.fn(e.Qe,18e5)){e.Qe=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=yo(r,zc.store);return i.Bt().next(l=>{const d=e.dn(l,18e5),f=l.filter(y=>-1===d.indexOf(y));return Oe.forEach(f,y=>i.delete(y.clientId)).next(()=>f)})}).catch(()=>[]);if(e.Xe)for(const r of t)e.Xe.removeItem(e.wn(r.clientId))}})()}nn(){this.je=this.Me.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ze().then(()=>this.ln()).then(()=>this.nn()))}un(e){return!!e&&e.ownerId===this.clientId}on(e){return this.Le?Oe.resolve(!0):d0(e).get(zo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)){if(this.un(t)&&this.networkEnabled)return!0;if(!this.un(t)){if(!t.allowTabSynchronization)throw new Se(ge.FAILED_PRECONDITION,rA);return!1}}return!(!this.networkEnabled||!this.inForeground)||XC(e).Bt().next(r=>void 0===this.dn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&He("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Ee.Z)(function*(){e.Ue=!1,e.mn(),e.je&&(e.je.cancel(),e.je=null),e.gn(),e.yn(),yield e.ze.runTransaction("shutdown","readwrite",[zo.store,zc.store],t=>{const r=new x1(t,Fs.I);return e.cn(r).next(()=>e.hn(r))}),e.ze.close(),e.pn()})()}dn(e,t){return e.filter(r=>this.fn(r.updateTimeMs,t)&&!this._n(r.clientId))}Tn(){return this.runTransaction("getActiveClients","readonly",e=>XC(e).Bt().next(t=>this.dn(t,18e5).map(r=>r.clientId)))}get started(){return this.Ue}getMutationQueue(e){return tA.Xt(e,this.k,this.Jt,this.referenceDelegate)}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getIndexManager(){return this.Jt}getBundleCache(){return this.Ye}runTransaction(e,t,r){let l;return He("IndexedDbPersistence","Starting transaction:",e),this.ze.runTransaction(e,"readonly"===t?"readonly":"readwrite",RF,d=>(l=new x1(d,this.Be?this.Be.next():Fs.I),"readwrite-primary"===t?this.rn(l).next(f=>!!f||this.on(l)).next(f=>{if(!f)throw Ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Me.enqueueRetryable(()=>this.We(!1)),new Se(ge.FAILED_PRECONDITION,I1);return r(l)}).next(f=>this.an(l).next(()=>f)):this.En(l).next(()=>r(l)))).then(d=>(l.raiseOnCommittedEvent(),d))}En(e){return d0(e).get(zo.key).next(t=>{if(null!==t&&this.fn(t.leaseTimestampMs,5e3)&&!this._n(t.ownerId)&&!this.un(t)&&!(this.Le||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(ge.FAILED_PRECONDITION,rA)})}an(e){const t=new zo(this.clientId,this.allowTabSynchronization,Date.now());return d0(e).put(zo.key,t)}static Pt(){return ql.Pt()}cn(e){const t=d0(e);return t.get(zo.key).next(r=>this.un(r)?(He("IndexedDbPersistence","Releasing primary lease."),t.delete(zo.key)):Oe.resolve())}fn(e,t){const r=Date.now();return!(e<r-t||e>r&&(Ur(`Detected an update time that is in the future: ${e} > ${r}`),1))}tn(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ke=()=>{this.Me.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Ze()))},this.document.addEventListener("visibilitychange",this.Ke),this.inForeground="visible"===this.document.visibilityState)}gn(){this.Ke&&(this.document.removeEventListener("visibilitychange",this.Ke),this.Ke=null)}en(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.qe=()=>{this.mn(),(0,Zt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Me.enterRestrictedMode(!0),this.Me.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.qe))}yn(){this.qe&&(this.window.removeEventListener("pagehide",this.qe),this.qe=null)}_n(e){var t;try{const r=null!==(null===(t=this.Xe)||void 0===t?void 0:t.getItem(this.wn(e)));return He("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ur("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}mn(){if(this.Xe)try{this.Xe.setItem(this.wn(this.clientId),String(Date.now()))}catch(e){Ur("Failed to set zombie client id.",e)}}pn(){if(this.Xe)try{this.Xe.removeItem(this.wn(this.clientId))}catch(e){}}wn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function d0(n){return yo(n,zo.store)}function XC(n){return yo(n,zc.store)}function sA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class WF{constructor(e,t){this.progress=e,this.In=t}}class W1{constructor(e,t,r){this.Je=e,this.An=t,this.Jt=r}Rn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.bn(e,t,r))}bn(e,t,r){return this.Je.getEntry(e,t).next(i=>{for(const l of r)l.applyToLocalView(i);return i})}Pn(e,t){e.forEach((r,i)=>{for(const l of t)l.applyToLocalView(i)})}vn(e,t){return this.Je.getEntries(e,t).next(r=>this.Vn(e,r).next(()=>r))}Vn(e,t){return this.An.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Pn(t,r))}getDocumentsMatchingQuery(e,t,r){return ht.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.Sn(e,t.path):Xw(t)?this.Dn(e,t,r):this.Cn(e,t,r);var i}Sn(e,t){return this.Rn(e,new ht(t)).next(r=>{let i=qI();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Dn(e,t,r){const i=t.collectionGroup;let l=qI();return this.Jt.getCollectionParents(e,i).next(d=>Oe.forEach(d,f=>{const y=(D=t,b=f.child(i),new $a(b,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,b;return this.Cn(e,y,r).next(D=>{D.forEach((b,M)=>{l=l.insert(b,M)})})}).next(()=>l))}Cn(e,t,r){let i,l;return this.Je.getDocumentsMatchingQuery(e,t,r).next(d=>(i=d,this.An.getAllMutationBatchesAffectingQuery(e,t))).next(d=>(l=d,this.Nn(e,l,i).next(f=>{i=f;for(const y of l)for(const D of y.mutations){const b=D.key;let M=i.get(b);null==M&&(M=Vn.newInvalidDocument(b),i=i.insert(b,M)),L(D,M,y.localWriteTime),M.isFoundDocument()||(i=i.remove(b))}}))).next(()=>(i.forEach((d,f)=>{qp(t,f)||(i=i.remove(d))}),i))}Nn(e,t,r){let i=kn();for(const d of t)for(const f of d.mutations)f instanceof $e&&null===r.get(f.key)&&(i=i.add(f.key));let l=r;return this.Je.getEntries(e,i).next(d=>(d.forEach((f,y)=>{y.isFoundDocument()&&(l=l.insert(f,y))}),l))}}class oA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.kn=r,this.xn=i}static $n(e,t){let r=kn(),i=kn();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:i=i.add(l.doc.key)}return new oA(e,t.fromCache,r,i)}}class G1{On(e){this.Mn=e}getDocumentsMatchingQuery(e,t,r,i){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Pt.min())?this.Fn(e,t):this.Mn.vn(e,i).next(l=>{const d=this.Ln(t,l);return($p(t)||Hc(t))&&this.Bn(t.limitType,d,i,r)?this.Fn(e,t):(py()<=Ll.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),e0(t)),this.Mn.getDocumentsMatchingQuery(e,t,r).next(f=>(d.forEach(y=>{f=f.insert(y.key,y)}),f)))});var l}Ln(e,t){let r=new Xn($C(e));return t.forEach((i,l)=>{qp(e,l)&&(r=r.add(l))}),r}Bn(e,t,r,i){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(i)>0)}Fn(e,t){return py()<=Ll.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",e0(t)),this.Mn.getDocumentsMatchingQuery(e,t,Pt.min())}}class GF{constructor(e,t,r,i){this.persistence=e,this.Un=t,this.k=i,this.qn=new vr(kt),this.Kn=new Oy(l=>Bc(l),Up),this.jn=Pt.min(),this.An=e.getMutationQueue(r),this.Qn=e.getRemoteDocumentCache(),this.He=e.getTargetCache(),this.Wn=new W1(this.Qn,this.An,this.persistence.getIndexManager()),this.Ye=e.getBundleCache(),this.Un.On(this.Wn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qn))}}function K1(n,e,t,r){return new GF(n,e,t,r)}function Y1(n,e){return aA.apply(this,arguments)}function aA(){return aA=(0,Ee.Z)(function*(n,e){const t=Ze(n);let r=t.An,i=t.Wn;const l=yield t.persistence.runTransaction("Handle user change","readonly",d=>{let f;return t.An.getAllMutationBatches(d).next(y=>(f=y,r=t.persistence.getMutationQueue(e),i=new W1(t.Qn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(d))).next(y=>{const D=[],b=[];let M=kn();for(const F of f){D.push(F.batchId);for(const R of F.mutations)M=M.add(R.key)}for(const F of y){b.push(F.batchId);for(const R of F.mutations)M=M.add(R.key)}return i.vn(d,M).next(F=>({Gn:F,removedBatchIds:D,addedBatchIds:b}))})});return t.An=r,t.Wn=i,t.Un.On(t.Wn),l}),aA.apply(this,arguments)}function KF(n,e){const t=Ze(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),l=t.Qn.newChangeBuffer({trackRemovals:!0});return function(d,f,y,D){const b=y.batch,M=b.keys();let F=Oe.resolve();return M.forEach(R=>{F=F.next(()=>D.getEntry(f,R)).next(B=>{const te=y.docVersions.get(R);Mt(null!==te),B.version.compareTo(te)<0&&(b.applyToRemoteDocument(B,y),B.isValidDocument()&&D.addEntry(B,y.commitVersion))})}),F.next(()=>d.An.removeMutationBatch(f,b))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.An.performConsistencyCheck(r)).next(()=>t.Wn.vn(r,i))})}function Q1(n){const e=Ze(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.He.getLastRemoteSnapshotVersion(t))}function YF(n,e){const t=Ze(n),r=e.snapshotVersion;let i=t.qn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const d=t.Qn.newChangeBuffer({trackRemovals:!0});i=t.qn;const f=[];e.targetChanges.forEach((D,b)=>{const M=i.get(b);if(!M)return;f.push(t.He.removeMatchingKeys(l,D.removedDocuments,b).next(()=>t.He.addMatchingKeys(l,D.addedDocuments,b)));let F=M.withSequenceNumber(l.currentSequenceNumber);var R,B,te;e.targetMismatches.has(b)?F=F.withResumeToken(Mr.EMPTY_BYTE_STRING,Pt.min()).withLastLimboFreeSnapshotVersion(Pt.min()):D.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(D.resumeToken,r)),i=i.insert(b,F),B=F,te=D,(0===(R=M).resumeToken.approximateByteSize()||B.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&f.push(t.He.updateTargetData(l,F))});let y=za();if(e.documentUpdates.forEach((D,b)=>{e.resolvedLimboDocuments.has(D)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,D))}),f.push(J1(l,d,e.documentUpdates,r,void 0).next(D=>{y=D})),!r.isEqual(Pt.min())){const D=t.He.getLastRemoteSnapshotVersion(l).next(b=>t.He.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(D)}return Oe.waitFor(f).next(()=>d.apply(l)).next(()=>t.Wn.Vn(l,y)).next(()=>y)}).then(l=>(t.qn=i,l))}function J1(n,e,t,r,i){let l=kn();return t.forEach(d=>l=l.add(d)),e.getEntries(n,l).next(d=>{let f=za();return t.forEach((y,D)=>{const b=d.get(y),M=(null==i?void 0:i.get(y))||r;D.isNoDocument()&&D.version.isEqual(Pt.min())?(e.removeEntry(y,M),f=f.insert(y,D)):!b.isValidDocument()||D.version.compareTo(b.version)>0||0===D.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(D,M),f=f.insert(y,D)):He("LocalStore","Ignoring outdated watch update for ",y,". Current version:",b.version," Watch version:",D.version)}),f})}function QF(n,e){const t=Ze(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.An.getNextMutationBatchAfterBatchId(r,e)))}function Ry(n,e){const t=Ze(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.He.getTargetData(r,e).next(l=>l?(i=l,Oe.resolve(i)):t.He.allocateTargetId(r).next(d=>(i=new Ih(e,d,0,r.currentSequenceNumber),t.He.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qn.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qn=t.qn.insert(r.targetId,r),t.Kn.set(e,r.targetId)),r})}function Ny(n,e,t){return lA.apply(this,arguments)}function lA(){return lA=(0,Ee.Z)(function*(n,e,t){const r=Ze(n),i=r.qn.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Gp(d))throw d;He("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.qn=r.qn.remove(e),r.Kn.delete(i.target)}),lA.apply(this,arguments)}function eT(n,e,t){const r=Ze(n);let i=Pt.min(),l=kn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,y,D){const b=Ze(f),M=b.Kn.get(D);return void 0!==M?Oe.resolve(b.qn.get(M)):b.He.getTargetData(y,D)}(r,d,$o(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.He.getMatchingKeysForTargetId(d,f.targetId).next(y=>{l=y})}).next(()=>r.Un.getDocumentsMatchingQuery(d,e,t?i:Pt.min(),t?l:kn())).next(f=>({documents:f,zn:l})))}function X1(n,e){const t=Ze(n),r=Ze(t.He),i=t.qn.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Et(l,e).next(d=>d?d.target:null))}function eO(n){const e=Ze(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,i,l){const d=Ze(r);let f=za(),y=JI(l);const D=xh(i),b=IDBKeyRange.lowerBound(y,!0);return D.jt({index:xr.readTimeIndex,range:b},(M,F)=>{const R=QI(d.k,F);f=f.insert(R.key,R),y=F.readTime}).next(()=>({In:f,readTime:R1(y)}))}(e.Qn,t,e.jn)).then(({In:t,readTime:r})=>(e.jn=r,t))}function uA(){return uA=(0,Ee.Z)(function*(n){const e=Ze(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const i=xh(r);let l=Pt.min();return i.jt({index:xr.readTimeIndex,reverse:!0},(d,f,y)=>{f.readTime&&(l=R1(f.readTime)),y.done()}).next(()=>l)}(t)).then(t=>{e.jn=t})}),uA.apply(this,arguments)}function cA(){return cA=(0,Ee.Z)(function*(n,e,t,r){const i=Ze(n);let l=kn(),d=za(),f=o1();for(const b of t){const M=e.Hn(b.metadata.name);b.document&&(l=l.add(M)),d=d.insert(M,e.Jn(b)),f=f.insert(M,e.Yn(b.metadata.readTime))}const y=i.Qn.newChangeBuffer({trackRemovals:!0}),D=yield Ry(i,(b=r,$o(Eh(Cn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>J1(b,y,d,Pt.min(),f).next(M=>(y.apply(b),M)).next(M=>i.He.removeMatchingKeysForTargetId(b,D.targetId).next(()=>i.He.addMatchingKeys(b,l,D.targetId)).next(()=>i.Wn.Vn(b,M)).next(()=>M)))}),cA.apply(this,arguments)}function eL(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,Ee.Z)(function*(n,e,t=kn()){const r=yield Ry(n,$o(XI(e.bundledQuery))),i=Ze(n);return i.persistence.runTransaction("Save named query","readwrite",l=>{const d=Ri(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Ye.saveNamedQuery(l,e);const f=r.withResumeToken(Mr.EMPTY_BYTE_STRING,d);return i.qn=i.qn.insert(f.targetId,f),i.He.updateTargetData(l,f).next(()=>i.He.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>i.He.addMatchingKeys(l,t,r.targetId)).next(()=>i.Ye.saveNamedQuery(l,e))})}),dA.apply(this,arguments)}class tL{constructor(e){this.k=e,this.Xn=new Map,this.Zn=new Map}getBundleMetadata(e,t){return Oe.resolve(this.Xn.get(t))}saveBundleMetadata(e,t){var r;return this.Xn.set(t.id,{id:(r=t).id,version:r.version,createTime:Ri(r.createTime)}),Oe.resolve()}getNamedQuery(e,t){return Oe.resolve(this.Zn.get(t))}saveNamedQuery(e,t){return this.Zn.set(t.name,{name:(r=t).name,query:XI(r.bundledQuery),readTime:Ri(r.readTime)}),Oe.resolve();var r}}class hA{constructor(){this.ts=new Xn(Ni.es),this.ns=new Xn(Ni.ss)}isEmpty(){return this.ts.isEmpty()}addReference(e,t){const r=new Ni(e,t);this.ts=this.ts.add(r),this.ns=this.ns.add(r)}rs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.os(new Ni(e,t))}cs(e,t){e.forEach(r=>this.removeReference(r,t))}us(e){const t=new ht(new Cn([])),r=new Ni(t,e),i=new Ni(t,e+1),l=[];return this.ns.forEachInRange([r,i],d=>{this.os(d),l.push(d.key)}),l}hs(){this.ts.forEach(e=>this.os(e))}os(e){this.ts=this.ts.delete(e),this.ns=this.ns.delete(e)}ls(e){const t=new ht(new Cn([])),r=new Ni(t,e),i=new Ni(t,e+1);let l=kn();return this.ns.forEachInRange([r,i],d=>{l=l.add(d.key)}),l}containsKey(e){const t=new Ni(e,0),r=this.ts.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ni{constructor(e,t){this.key=e,this.fs=t}static es(e,t){return ht.comparator(e.key,t.key)||kt(e.fs,t.fs)}static ss(e,t){return kt(e.fs,t.fs)||ht.comparator(e.key,t.key)}}class nL{constructor(e,t){this.Jt=e,this.referenceDelegate=t,this.An=[],this.ds=1,this.ws=new Xn(Ni.es)}checkEmpty(e){return Oe.resolve(0===this.An.length)}addMutationBatch(e,t,r,i){const l=this.ds;this.ds++;const d=new KI(l,t,r,i);this.An.push(d);for(const f of i)this.ws=this.ws.add(new Ni(f.key,l)),this.Jt.addToCollectionParentIndex(e,f.key.path.popLast());return Oe.resolve(d)}lookupMutationBatch(e,t){return Oe.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.gs(t+1),l=i<0?0:i;return Oe.resolve(this.An.length>l?this.An[l]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.An.length?-1:this.ds-1)}getAllMutationBatches(e){return Oe.resolve(this.An.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ni(t,0),i=new Ni(t,Number.POSITIVE_INFINITY),l=[];return this.ws.forEachInRange([r,i],d=>{const f=this._s(d.fs);l.push(f)}),Oe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xn(kt);return t.forEach(i=>{const l=new Ni(i,0),d=new Ni(i,Number.POSITIVE_INFINITY);this.ws.forEachInRange([l,d],f=>{r=r.add(f.fs)})}),Oe.resolve(this.ys(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let l=r;ht.isDocumentKey(l)||(l=l.child(""));const d=new Ni(new ht(l),0);let f=new Xn(kt);return this.ws.forEachWhile(y=>{const D=y.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(f=f.add(y.fs)),!0)},d),Oe.resolve(this.ys(f))}ys(e){const t=[];return e.forEach(r=>{const i=this._s(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mt(0===this.ps(t.batchId,"removed")),this.An.shift();let r=this.ws;return Oe.forEach(t.mutations,i=>{const l=new Ni(i.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ws=r})}ee(e){}containsKey(e,t){const r=new Ni(t,0),i=this.ws.firstAfterOrEqual(r);return Oe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return Oe.resolve()}ps(e,t){return this.gs(e)}gs(e){return 0===this.An.length?0:e-this.An[0].batchId}_s(e){const t=this.gs(e);return t<0||t>=this.An.length?null:this.An[t]}}class rL{constructor(e,t){this.Jt=e,this.Ts=t,this.docs=new vr(ht.comparator),this.size=0}addEntry(e,t,r){const i=t.key,l=this.docs.get(i),d=l?l.size:0,f=this.Ts(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:f,readTime:r}),this.size+=f-d,this.Jt.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Oe.resolve(r?r.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let r=za();return t.forEach(i=>{const l=this.docs.get(i);r=r.insert(i,l?l.document.mutableCopy():Vn.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(e,t,r){let i=za();const l=new ht(t.path.child("")),d=this.docs.getIteratorFrom(l);for(;d.hasNext();){const{key:f,value:{document:y,readTime:D}}=d.getNext();if(!t.path.isPrefixOf(f.path))break;D.compareTo(r)<=0||qp(t,y)&&(i=i.insert(y.key,y.mutableCopy()))}return Oe.resolve(i)}Es(e,t){return Oe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iL(this)}getSize(e){return Oe.resolve(this.size)}}class iL extends z1{constructor(e){super(),this.De=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?t.push(this.De.addEntry(e,i.document,this.getReadTime(r))):this.De.removeEntry(r)}),Oe.waitFor(t)}getFromCache(e,t){return this.De.getEntry(e,t)}getAllFromCache(e,t){return this.De.getEntries(e,t)}}class sL{constructor(e){this.persistence=e,this.Is=new Oy(t=>Bc(t),Up),this.lastRemoteSnapshotVersion=Pt.min(),this.highestTargetId=0,this.As=0,this.Rs=new hA,this.targetCount=0,this.bs=Yp.ie()}forEachTarget(e,t){return this.Is.forEach((r,i)=>t(i)),Oe.resolve()}getLastRemoteSnapshotVersion(e){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Oe.resolve(this.As)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.As&&(this.As=t),Oe.resolve()}ae(e){this.Is.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.bs=new Yp(t),this.highestTargetId=t),e.sequenceNumber>this.As&&(this.As=e.sequenceNumber)}addTargetData(e,t){return this.ae(t),this.targetCount+=1,Oe.resolve()}updateTargetData(e,t){return this.ae(t),Oe.resolve()}removeTargetData(e,t){return this.Is.delete(t.target),this.Rs.us(t.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(e,t,r){let i=0;const l=[];return this.Is.forEach((d,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Is.delete(d),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),Oe.waitFor(l).next(()=>i)}getTargetCount(e){return Oe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Is.get(t)||null;return Oe.resolve(r)}addMatchingKeys(e,t,r){return this.Rs.rs(t,r),Oe.resolve()}removeMatchingKeys(e,t,r){this.Rs.cs(t,r);const i=this.persistence.referenceDelegate,l=[];return i&&t.forEach(d=>{l.push(i.markPotentiallyOrphaned(e,d))}),Oe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Rs.us(t),Oe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Rs.ls(t);return Oe.resolve(r)}containsKey(e,t){return Oe.resolve(this.Rs.containsKey(t))}}class oL{constructor(e,t){this.Ps={},this.Be=new Fs(0),this.Ue=!1,this.Ue=!0,this.referenceDelegate=e(this),this.He=new sL(this),this.Jt=new LF,this.Je=new rL(this.Jt,r=>this.referenceDelegate.vs(r)),this.k=new k1(t),this.Ye=new tL(this.k)}start(){return Promise.resolve()}shutdown(){return this.Ue=!1,Promise.resolve()}get started(){return this.Ue}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Jt}getMutationQueue(e){let t=this.Ps[e.toKey()];return t||(t=new nL(this.Jt,this.referenceDelegate),this.Ps[e.toKey()]=t),t}getTargetCache(){return this.He}getRemoteDocumentCache(){return this.Je}getBundleCache(){return this.Ye}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new aL(this.Be.next());return this.referenceDelegate.Vs(),r(i).next(l=>this.referenceDelegate.Ss(i).next(()=>l)).toPromise().then(l=>(i.raiseOnCommittedEvent(),l))}Ds(e,t){return Oe.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,t)))}}class aL extends A1{constructor(e){super(),this.currentSequenceNumber=e}}class fA{constructor(e){this.persistence=e,this.Cs=new hA,this.Ns=null}static ks(e){return new fA(e)}get xs(){if(this.Ns)return this.Ns;throw pt()}addReference(e,t,r){return this.Cs.addReference(r,t),this.xs.delete(r.toString()),Oe.resolve()}removeReference(e,t,r){return this.Cs.removeReference(r,t),this.xs.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),Oe.resolve()}removeTarget(e,t){this.Cs.us(t.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}Vs(){this.Ns=new Set}Ss(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.xs,r=>{const i=ht.fromPath(r);return this.$s(e,i).next(l=>{l||t.removeEntry(i)})}).next(()=>(this.Ns=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}vs(e){return 0}$s(e,t){return Oe.or([()=>Oe.resolve(this.Cs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ds(e,t)])}}function tO(n,e){return`firestore_clients_${n}_${e}`}function nO(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function pA(n,e){return`firestore_targets_${n}_${e}`}class tT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Os(e,t,r){const i=JSON.parse(r);let l,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(l=new Se(i.error.code,i.error.message))),d?new tT(e,t,i.state,l):(Ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class h0{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Os(e,t){const r=JSON.parse(t);let i,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(i=new Se(r.error.code,r.error.message))),l?new h0(e,r.state,i):(Ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Ms(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Os(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,l=ZC();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=NI(r.activeTargetIds[d]),l=l.add(r.activeTargetIds[d]);return i?new nT(e,l):(Ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class gA{constructor(e,t){this.clientId=e,this.onlineState=t}static Os(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new gA(t.clientId,t.onlineState):(Ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class mA{constructor(){this.activeTargetIds=ZC()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ls(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ms(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yA{constructor(e,t,r,i,l){this.window=e,this.Me=t,this.persistenceKey=r,this.Bs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Us=this.qs.bind(this),this.Ks=new vr(kt),this.started=!1,this.js=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Qs=tO(this.persistenceKey,this.Bs),this.Ws=`firestore_sequence_number_${this.persistenceKey}`,this.Ks=this.Ks.insert(this.Bs,new mA),this.Gs=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.zs=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.Hs=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Js=`firestore_online_state_${this.persistenceKey}`,this.Ys=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Us)}static Pt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.syncEngine.Tn();for(const i of t){if(i===e.Bs)continue;const l=e.getItem(tO(e.persistenceKey,i));if(l){const d=nT.Os(i,l);d&&(e.Ks=e.Ks.insert(d.clientId,d))}}e.Xs();const r=e.storage.getItem(e.Js);if(r){const i=e.Zs(r);i&&e.ti(i)}for(const i of e.js)e.qs(i);e.js=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ws,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ei(this.Ks)}isActiveQueryTarget(e){let t=!1;return this.Ks.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ni(e,"pending")}updateMutationState(e,t,r){this.ni(e,t,r),this.si(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(pA(this.persistenceKey,e));if(r){const i=h0.Os(e,r);i&&(t=i.state)}}return this.ii.Fs(e),this.Xs(),t}removeLocalQueryTarget(e){this.ii.Ls(e),this.Xs()}isLocalQueryTarget(e){return this.ii.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(pA(this.persistenceKey,e))}updateQueryState(e,t,r){this.ri(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.si(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.oi(e)}notifyBundleLoaded(){this.ci()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Us),this.removeItem(this.Qs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return He("SharedClientState","READ",e,t),t}setItem(e,t){He("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){He("SharedClientState","REMOVE",e),this.storage.removeItem(e)}qs(e){var t=this;const r=e;if(r.storageArea===this.storage){if(He("SharedClientState","EVENT",r.key,r.newValue),r.key===this.Qs)return void Ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Me.enqueueRetryable((0,Ee.Z)(function*(){if(t.started){if(null!==r.key)if(t.Gs.test(r.key)){if(null==r.newValue){const i=t.ai(r.key);return t.ui(i,null)}{const i=t.hi(r.key,r.newValue);if(i)return t.ui(i.clientId,i)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const i=t.li(r.key,r.newValue);if(i)return t.fi(i)}}else if(t.Hs.test(r.key)){if(null!==r.newValue){const i=t.di(r.key,r.newValue);if(i)return t.wi(i)}}else if(r.key===t.Js){if(null!==r.newValue){const i=t.Zs(r.newValue);if(i)return t.ti(i)}}else if(r.key===t.Ws){const i=function(l){let d=Fs.I;if(null!=l)try{const f=JSON.parse(l);Mt("number"==typeof f),d=f}catch(f){Ur("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==Fs.I&&t.sequenceNumberHandler(i)}else if(r.key===t.Ys)return t.syncEngine._i()}else t.js.push(r)}))}}get ii(){return this.Ks.get(this.Bs)}Xs(){this.setItem(this.Qs,this.ii.Ms())}ni(e,t,r){const i=new tT(this.currentUser,e,t,r),l=nO(this.persistenceKey,this.currentUser,e);this.setItem(l,i.Ms())}si(e){const t=nO(this.persistenceKey,this.currentUser,e);this.removeItem(t)}oi(e){this.storage.setItem(this.Js,JSON.stringify({clientId:this.Bs,onlineState:e}))}ri(e,t,r){const i=pA(this.persistenceKey,e),l=new h0(e,t,r);this.setItem(i,l.Ms())}ci(){this.setItem(this.Ys,"value-not-used")}ai(e){const t=this.Gs.exec(e);return t?t[1]:null}hi(e,t){const r=this.ai(e);return nT.Os(r,t)}li(e,t){const r=this.zs.exec(e),i=Number(r[1]);return tT.Os(new Oi(void 0!==r[2]?r[2]:null),i,t)}di(e,t){const r=this.Hs.exec(e),i=Number(r[1]);return h0.Os(i,t)}Zs(e){return gA.Os(e)}fi(e){var t=this;return(0,Ee.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.mi(e.batchId,e.state,e.error);He("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}wi(e){return this.syncEngine.gi(e.targetId,e.state,e.error)}ui(e,t){const r=t?this.Ks.insert(e,t):this.Ks.remove(e),i=this.ei(this.Ks),l=this.ei(r),d=[],f=[];return l.forEach(y=>{i.has(y)||d.push(y)}),i.forEach(y=>{l.has(y)||f.push(y)}),this.syncEngine.yi(d,f).then(()=>{this.Ks=r})}ti(e){this.Ks.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ei(e){let t=ZC();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class rO{constructor(){this.pi=new mA,this.Ti={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.pi.Fs(e),this.Ti[e]||"not-current"}updateQueryState(e,t,r){this.Ti[e]=t}removeLocalQueryTarget(e){this.pi.Ls(e)}isLocalQueryTarget(e){return this.pi.activeTargetIds.has(e)}clearQueryState(e){delete this.Ti[e]}getAllActiveQueryTargets(){return this.pi.activeTargetIds}isActiveQueryTarget(e){return this.pi.activeTargetIds.has(e)}start(){return this.pi=new mA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class lL{Ei(e){}shutdown(){}}class iO{constructor(){this.Ii=()=>this.Ai(),this.Ri=()=>this.bi(),this.Pi=[],this.vi()}Ei(e){this.Pi.push(e)}shutdown(){window.removeEventListener("online",this.Ii),window.removeEventListener("offline",this.Ri)}vi(){window.addEventListener("online",this.Ii),window.addEventListener("offline",this.Ri)}Ai(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Pi)e(0)}bi(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Pi)e(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const uL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cL{constructor(e){this.Vi=e.Vi,this.Si=e.Si}Di(e){this.Ci=e}Ni(e){this.ki=e}onMessage(e){this.xi=e}close(){this.Si()}send(e){this.Vi(e)}$i(){this.Ci()}Oi(e){this.ki(e)}Mi(e){this.xi(e)}}class dL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Li="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Bi(e,t,r,i,l){const d=this.Ui(e,t);He("RestConnection","Sending: ",d,r);const f={};return this.qi(f,i,l),this.Ki(e,d,f,r).then(y=>(He("RestConnection","Received: ",y),y),y=>{throw kp("RestConnection",`${e} failed with error: `,y,"url: ",d,"request:",r),y})}ji(e,t,r,i,l){return this.Bi(e,t,r,i,l)}qi(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fc,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,l)=>e[l]=i),r&&r.headers.forEach((i,l)=>e[l]=i)}Ui(e,t){return`${this.Fi}/v1/${t}:${uL[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Ki(e,t,r,i){return new Promise((l,d)=>{const f=new bC;f.listenOnce(CC.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ru.NO_ERROR:const D=f.getResponseJson();He("Connection","XHR received:",JSON.stringify(D)),l(D);break;case Ru.TIMEOUT:He("Connection",'RPC "'+e+'" timed out'),d(new Se(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Ru.HTTP_ERROR:const b=f.getStatus();if(He("Connection",'RPC "'+e+'" failed with status:',b,"response text:",f.getResponseText()),b>0){const M=f.getResponseJson().error;if(M&&M.status&&M.message){const F=function(R){const B=R.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(B)>=0?B:ge.UNKNOWN}(M.status);d(new Se(F,M.message))}else d(new Se(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Se(ge.UNAVAILABLE,"Connection failed."));break;default:pt()}}finally{He("Connection",'RPC "'+e+'" completed.')}});const y=JSON.stringify(i);f.send(t,"POST",y,r,15)})}Qi(e,t,r){const i=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Jk(),d=jw(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new Hw({})),this.qi(f.initMessageHeaders,t,r),(0,Zt.uI)()||(0,Zt.b$)()||(0,Zt.d)()||(0,Zt.w1)()||(0,Zt.Mn)()||(0,Zt.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const y=i.join("");He("Connection","Creating WebChannel: "+y,f);const D=l.createWebChannel(y,f);let b=!1,M=!1;const F=new cL({Vi:B=>{M?He("Connection","Not sending because WebChannel is closed:",B):(b||(He("Connection","Opening WebChannel transport."),D.open(),b=!0),He("Connection","WebChannel sending:",B),D.send(B))},Si:()=>D.close()}),R=(B,te,se)=>{B.listen(te,De=>{try{se(De)}catch(Re){setTimeout(()=>{throw Re},0)}})};return R(D,xp.EventType.OPEN,()=>{M||He("Connection","WebChannel transport opened.")}),R(D,xp.EventType.CLOSE,()=>{M||(M=!0,He("Connection","WebChannel transport closed"),F.Oi())}),R(D,xp.EventType.ERROR,B=>{M||(M=!0,kp("Connection","WebChannel transport errored:",B),F.Oi(new Se(ge.UNAVAILABLE,"The operation could not be completed")))}),R(D,xp.EventType.MESSAGE,B=>{var te;if(!M){const se=B.data[0];Mt(!!se);const De=se,Re=De.error||(null===(te=De[0])||void 0===te?void 0:te.error);if(Re){He("Connection","WebChannel received error:",Re);const Be=Re.status;let Pe=function(Ft){const Yt=Un[Ft];if(void 0!==Yt)return Ey(Yt)}(Be),ct=Re.message;void 0===Pe&&(Pe=ge.INTERNAL,ct="Unknown error status: "+Be+" with message "+Re.message),M=!0,F.Oi(new Se(Pe,ct)),D.close()}else He("Connection","WebChannel received:",se),F.Mi(se)}}),R(d,SI.STAT_EVENT,B=>{B.stat===TC.PROXY?He("Connection","Detected buffering proxy"):B.stat===TC.NOPROXY&&He("Connection","Detected no buffering proxy")}),setTimeout(()=>{F.$i()},0),F}}function sO(){return"undefined"!=typeof window?window:null}function rT(){return"undefined"!=typeof document?document:null}function f0(n){return new vF(n,!0)}class vA{constructor(e,t,r=1e3,i=1.5,l=6e4){this.Me=e,this.timerId=t,this.Wi=r,this.Gi=i,this.zi=l,this.Hi=0,this.Ji=null,this.Yi=Date.now(),this.reset()}reset(){this.Hi=0}Xi(){this.Hi=this.zi}Zi(e){this.cancel();const t=Math.floor(this.Hi+this.tr()),r=Math.max(0,Date.now()-this.Yi),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Hi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ji=this.Me.enqueueAfterDelay(this.timerId,i,()=>(this.Yi=Date.now(),e())),this.Hi*=this.Gi,this.Hi<this.Wi&&(this.Hi=this.Wi),this.Hi>this.zi&&(this.Hi=this.zi)}er(){null!==this.Ji&&(this.Ji.skipDelay(),this.Ji=null)}cancel(){null!==this.Ji&&(this.Ji.cancel(),this.Ji=null)}tr(){return(Math.random()-.5)*this.Hi}}class oO{constructor(e,t,r,i,l,d,f,y){this.Me=e,this.nr=r,this.sr=i,this.ir=l,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.rr=0,this.cr=null,this.ar=null,this.stream=null,this.ur=new vA(e,t)}hr(){return 1===this.state||5===this.state||this.lr()}lr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.dr()}stop(){var e=this;return(0,Ee.Z)(function*(){e.hr()&&(yield e.close(0))})()}wr(){this.state=0,this.ur.reset()}_r(){this.lr()&&null===this.cr&&(this.cr=this.Me.enqueueAfterDelay(this.nr,6e4,()=>this.mr()))}gr(e){this.yr(),this.stream.send(e)}mr(){var e=this;return(0,Ee.Z)(function*(){if(e.lr())return e.close(0)})()}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}pr(){this.ar&&(this.ar.cancel(),this.ar=null)}close(e,t){var r=this;return(0,Ee.Z)(function*(){r.yr(),r.pr(),r.ur.cancel(),r.rr++,4!==e?r.ur.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(Ur(t.toString()),Ur("Using maximum backoff delay to prevent overloading the backend."),r.ur.Xi()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Tr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ni(t)})()}Tr(){}auth(){this.state=1;const e=this.Er(this.rr),t=this.rr;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.rr===t&&this.Ir(r,i)},r=>{e(()=>{const i=new Se(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ar(i)})})}Ir(e,t){const r=this.Er(this.rr);this.stream=this.Rr(e,t),this.stream.Di(()=>{r(()=>(this.state=2,this.ar=this.Me.enqueueAfterDelay(this.sr,1e4,()=>(this.lr()&&(this.state=3),Promise.resolve())),this.listener.Di()))}),this.stream.Ni(i=>{r(()=>this.Ar(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}dr(){var e=this;this.state=5,this.ur.Zi((0,Ee.Z)(function*(){e.state=0,e.start()}))}Ar(e){return He("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Er(e){return t=>{this.Me.enqueueAndForget(()=>this.rr===e?t():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class hL extends oO{constructor(e,t,r,i,l,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,d),this.k=l}Rr(e,t){return this.ir.Qi("Listen",e,t)}onMessage(e){this.ur.reset();const t=function EF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:pt(),i=e.targetChange.targetIds||[],l=function(y,D){return y.C?(Mt(void 0===D||"string"==typeof D),Mr.fromBase64String(D||"")):(Mt(void 0===D||D instanceof Uint8Array),Mr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,f=d&&function(y){const D=void 0===y.code?ge.UNKNOWN:Ey(y.code);return new Se(D,y.message||"")}(d);t=new l1(r,i,l,f||null)}else if("documentChange"in e){const r=e.documentChange,i=Nu(n,r.document.name),l=Ri(r.document.updateTime),d=new di({mapValue:{fields:r.document.fields}}),f=Vn.newFoundDocument(i,l,d);t=new WC(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const r=e.documentDelete,i=Nu(n,r.document),l=r.readTime?Ri(r.readTime):Pt.min(),d=Vn.newNoDocument(i,l);t=new WC([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,i=Nu(n,r.document);t=new WC([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return pt();{const r=e.filter,l=new Ls(r.count||0);t=new a1(r.targetId,l)}}var y;return t}(this.k,e),r=function(i){if(!("targetChange"in i))return Pt.min();const l=i.targetChange;return l.targetIds&&l.targetIds.length?Pt.min():l.readTime?Ri(l.readTime):Pt.min()}(e);return this.listener.br(t,r)}Pr(e){const t={};t.database=l0(this.k),t.addTarget=function(i,l){let d;const f=l.target;return d=Yw(f)?{documents:_1(i,f)}:{query:w1(i,f)},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?d.resumeToken=h1(i,l.resumeToken):l.snapshotVersion.compareTo(Pt.min())>0&&(d.readTime=o0(i,l.snapshotVersion.toTimestamp())),d}(this.k,e);const r=function CF(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return pt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.gr(t)}vr(e){const t={};t.database=l0(this.k),t.removeTarget=e,this.gr(t)}}class fL extends oO{constructor(e,t,r,i,l,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,d),this.k=l,this.Vr=!1}get Sr(){return this.Vr}start(){this.Vr=!1,this.lastStreamToken=void 0,super.start()}Tr(){this.Vr&&this.Dr([])}Rr(e,t){return this.ir.Qi("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Vr){this.ur.reset();const t=function DF(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,i){let l=Ri(r.updateTime?r.updateTime:i);return l.isEqual(Pt.min())&&(l=Ri(i)),new _(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ri(e.commitTime);return this.listener.Cr(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.Vr=!0,this.listener.Nr()}kr(){const e={};e.database=l0(this.k),this.gr(e)}Dr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>GC(this.k,r))};this.gr(t)}}class pL extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.ir=r,this.k=i,this.$r=!1}Or(){if(this.$r)throw new Se(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Bi(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.Bi(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(ge.UNKNOWN,i.toString())})}ji(e,t,r){return this.Or(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.ir.ji(e,t,r,i,l)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Se(ge.UNKNOWN,i.toString())})}terminate(){this.$r=!0}}class gL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Mr=0,this.Fr=null,this.Lr=!0}Br(){0===this.Mr&&(this.Ur("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.qr("Backend didn't respond within 10 seconds."),this.Ur("Offline"),Promise.resolve())))}Kr(e){"Online"===this.state?this.Ur("Unknown"):(this.Mr++,this.Mr>=1&&(this.jr(),this.qr(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Ur("Offline")))}set(e){this.jr(),this.Mr=0,"Online"===e&&(this.Lr=!1),this.Ur(e)}Ur(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}qr(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Lr?(Ur(t),this.Lr=!1):He("OnlineStateTracker",t)}jr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class mL{constructor(e,t,r,i,l){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Qr=[],this.Wr=new Map,this.Gr=new Set,this.zr=[],this.Hr=l,this.Hr.Ei(f=>{r.enqueueAndForget((0,Ee.Z)(function*(){var y;kh(d)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Ee.Z)(function*(D){const b=Ze(D);b.Gr.add(4),yield Py(b),b.Jr.set("Unknown"),b.Gr.delete(4),yield p0(b)}),function(D){return y.apply(this,arguments)})(d))}))}),this.Jr=new gL(r,i)}}function p0(n){return _A.apply(this,arguments)}function _A(){return _A=(0,Ee.Z)(function*(n){if(kh(n))for(const e of n.zr)yield e(!0)}),_A.apply(this,arguments)}function Py(n){return wA.apply(this,arguments)}function wA(){return wA=(0,Ee.Z)(function*(n){for(const e of n.zr)yield e(!1)}),wA.apply(this,arguments)}function iT(n,e){const t=Ze(n);t.Wr.has(e.targetId)||(t.Wr.set(e.targetId,e),CA(t)?DA(t):Ly(t).lr()&&EA(t,e))}function g0(n,e){const t=Ze(n),r=Ly(t);t.Wr.delete(e),r.lr()&&aO(t,e),0===t.Wr.size&&(r.lr()?r._r():kh(t)&&t.Jr.set("Unknown"))}function EA(n,e){n.Yr.X(e.targetId),Ly(n).Pr(e)}function aO(n,e){n.Yr.X(e),Ly(n).vr(e)}function DA(n){n.Yr=new gF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Wr.get(e)||null}),Ly(n).start(),n.Jr.Br()}function CA(n){return kh(n)&&!Ly(n).hr()&&n.Wr.size>0}function kh(n){return 0===Ze(n).Gr.size}function lO(n){n.Yr=void 0}function yL(n){return TA.apply(this,arguments)}function TA(){return TA=(0,Ee.Z)(function*(n){n.Wr.forEach((e,t)=>{EA(n,e)})}),TA.apply(this,arguments)}function vL(n,e){return bA.apply(this,arguments)}function bA(){return bA=(0,Ee.Z)(function*(n,e){lO(n),CA(n)?(n.Jr.Kr(e),DA(n)):n.Jr.set("Unknown")}),bA.apply(this,arguments)}function _L(n,e,t){return SA.apply(this,arguments)}function SA(){return SA=(0,Ee.Z)(function*(n,e,t){if(n.Jr.set("Online"),e instanceof l1&&2===e.state&&e.cause)try{yield(r=(0,Ee.Z)(function*(i,l){const d=l.cause;for(const f of l.targetIds)i.Wr.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.Wr.delete(f),i.Yr.removeTarget(f))}),function(i,l){return r.apply(this,arguments)})(n,e)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield sT(n,r)}else if(e instanceof WC?n.Yr.ot(e):e instanceof a1?n.Yr.dt(e):n.Yr.ut(e),!t.isEqual(Pt.min()))try{const r=yield Q1(n.localStore);t.compareTo(r)>=0&&(yield function(i,l){const d=i.Yr.gt(l);return d.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const D=i.Wr.get(y);D&&i.Wr.set(y,D.withResumeToken(f.resumeToken,l))}}),d.targetMismatches.forEach(f=>{const y=i.Wr.get(f);if(!y)return;i.Wr.set(f,y.withResumeToken(Mr.EMPTY_BYTE_STRING,y.snapshotVersion)),aO(i,f);const D=new Ih(y.target,f,1,y.sequenceNumber);EA(i,D)}),i.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){He("RemoteStore","Failed to raise snapshot:",r),yield sT(n,r)}var r}),SA.apply(this,arguments)}function sT(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,Ee.Z)(function*(n,e,t){if(!Gp(e))throw e;n.Gr.add(1),yield Py(n),n.Jr.set("Offline"),t||(t=()=>Q1(n.localStore)),n.asyncQueue.enqueueRetryable((0,Ee.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield t(),n.Gr.delete(1),yield p0(n)}))}),IA.apply(this,arguments)}function uO(n,e){return e().catch(t=>sT(n,t,e))}function Fy(n){return AA.apply(this,arguments)}function AA(){return AA=(0,Ee.Z)(function*(n){const e=Ze(n),t=Oh(e);let r=e.Qr.length>0?e.Qr[e.Qr.length-1].batchId:-1;for(;wL(e);)try{const i=yield QF(e.localStore,r);if(null===i){0===e.Qr.length&&t._r();break}r=i.batchId,EL(e,i)}catch(i){yield sT(e,i)}cO(e)&&dO(e)}),AA.apply(this,arguments)}function wL(n){return kh(n)&&n.Qr.length<10}function EL(n,e){n.Qr.push(e);const t=Oh(n);t.lr()&&t.Sr&&t.Dr(e.mutations)}function cO(n){return kh(n)&&!Oh(n).hr()&&n.Qr.length>0}function dO(n){Oh(n).start()}function DL(n){return MA.apply(this,arguments)}function MA(){return MA=(0,Ee.Z)(function*(n){Oh(n).kr()}),MA.apply(this,arguments)}function CL(n){return xA.apply(this,arguments)}function xA(){return xA=(0,Ee.Z)(function*(n){const e=Oh(n);for(const t of n.Qr)e.Dr(t.mutations)}),xA.apply(this,arguments)}function TL(n,e,t){return kA.apply(this,arguments)}function kA(){return kA=(0,Ee.Z)(function*(n,e,t){const r=n.Qr.shift(),i=YI.from(r,e,t);yield uO(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Fy(n)}),kA.apply(this,arguments)}function bL(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,Ee.Z)(function*(n,e){var t;e&&Oh(n).Sr&&(yield(t=(0,Ee.Z)(function*(r,i){if(wy(l=i.code)&&l!==ge.ABORTED){const d=r.Qr.shift();Oh(r).wr(),yield uO(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Fy(r)}var l}),function(r,i){return t.apply(this,arguments)})(n,e)),cO(n)&&dO(n)}),OA.apply(this,arguments)}function RA(n,e){return NA.apply(this,arguments)}function NA(){return NA=(0,Ee.Z)(function*(n,e){const t=Ze(n);e?(t.Gr.delete(2),yield p0(t)):e||(t.Gr.add(2),yield Py(t),t.Jr.set("Unknown"))}),NA.apply(this,arguments)}function Ly(n){return n.Xr||(n.Xr=function(e,t,r){const i=Ze(e);return i.Or(),new hL(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:yL.bind(null,n),Ni:vL.bind(null,n),br:_L.bind(null,n)}),n.zr.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Xr.wr(),CA(n)?DA(n):n.Jr.set("Unknown")):(yield n.Xr.stop(),lO(n))});return function(t){return e.apply(this,arguments)}}())),n.Xr}function Oh(n){return n.Zr||(n.Zr=function(e,t,r){const i=Ze(e);return i.Or(),new fL(t,i.ir,i.authCredentials,i.appCheckCredentials,i.k,r)}(n.datastore,n.asyncQueue,{Di:DL.bind(null,n),Ni:bL.bind(null,n),Nr:CL.bind(null,n),Cr:TL.bind(null,n)}),n.zr.push(function(){var e=(0,Ee.Z)(function*(t){t?(n.Zr.wr(),yield Fy(n)):(yield n.Zr.stop(),n.Qr.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Qr.length} pending writes`),n.Qr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Zr}class PA{constructor(e,t,r,i,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=l,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,i,l){const d=Date.now()+r,f=new PA(e,t,d,i,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vy(n,e){if(Ur("AsyncQueue",`${e}: ${n}`),Gp(n))return new Se(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Uy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ht.comparator(t.key,r.key):(t,r)=>ht.comparator(t.key,r.key),this.keyedMap=qI(),this.sortedSet=new vr(this.comparator)}static emptySet(e){return new Uy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Uy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,l=r.getNext().key;if(!i.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Uy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class hO{constructor(){this.eo=new vr(ht.comparator)}track(e){const t=e.doc.key,r=this.eo.get(t);r?0!==e.type&&3===r.type?this.eo=this.eo.insert(t,e):3===e.type&&1!==r.type?this.eo=this.eo.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.eo=this.eo.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.eo=this.eo.remove(t):1===e.type&&2===r.type?this.eo=this.eo.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.eo=this.eo.insert(t,{type:2,doc:e.doc}):pt():this.eo=this.eo.insert(t,e)}no(){const e=[];return this.eo.inorderTraversal((t,r)=>{e.push(r)}),e}}class By{constructor(e,t,r,i,l,d,f,y){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=l,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=y}static fromInitialDocuments(e,t,r,i){const l=[];return t.forEach(d=>{l.push({type:0,doc:d})}),new By(e,t,Uy.emptySet(t),l,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class SL{constructor(){this.so=void 0,this.listeners=[]}}class IL{constructor(){this.queries=new Oy(e=>HC(e),zp),this.onlineState="Unknown",this.io=new Set}}function FA(n,e){return LA.apply(this,arguments)}function LA(){return LA=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1,l=t.queries.get(r);if(l||(i=!0,l=new SL),i)try{l.so=yield t.onListen(r)}catch(d){const f=Vy(d,`Initialization of query '${e0(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,l),l.listeners.push(e),e.ro(t.onlineState),l.so&&e.oo(l.so)&&BA(t)}),LA.apply(this,arguments)}function VA(n,e){return UA.apply(this,arguments)}function UA(){return UA=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=e.query;let i=!1;const l=t.queries.get(r);if(l){const d=l.listeners.indexOf(e);d>=0&&(l.listeners.splice(d,1),i=0===l.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),UA.apply(this,arguments)}function AL(n,e){const t=Ze(n);let r=!1;for(const i of e){const d=t.queries.get(i.query);if(d){for(const f of d.listeners)f.oo(i)&&(r=!0);d.so=i}}r&&BA(t)}function ML(n,e,t){const r=Ze(n),i=r.queries.get(e);if(i)for(const l of i.listeners)l.onError(t);r.queries.delete(e)}function BA(n){n.io.forEach(e=>{e.next()})}class jA{constructor(e,t,r){this.query=e,this.co=t,this.ao=!1,this.uo=null,this.onlineState="Unknown",this.options=r||{}}oo(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new By(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.ao?this.ho(e)&&(this.co.next(e),t=!0):this.lo(e,this.onlineState)&&(this.fo(e),t=!0),this.uo=e,t}onError(e){this.co.error(e)}ro(e){this.onlineState=e;let t=!1;return this.uo&&!this.ao&&this.lo(this.uo,e)&&(this.fo(this.uo),t=!0),t}lo(e,t){return!e.fromCache||!(this.options.wo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}ho(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.uo&&this.uo.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}fo(e){e=By.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.ao=!0,this.co.next(e)}}class xL{constructor(e,t){this.payload=e,this.byteLength=t}_o(){return"metadata"in this.payload}}class fO{constructor(e){this.k=e}Hn(e){return Nu(this.k,e)}Jn(e){return e.metadata.exists?y1(this.k,e.document,!1):Vn.newNoDocument(this.Hn(e.metadata.name),this.Yn(e.metadata.readTime))}Yn(e){return Ri(e)}}class kL{constructor(e,t,r){this.mo=e,this.localStore=t,this.k=r,this.queries=[],this.documents=[],this.progress=pO(e)}yo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}po(e){const t=new Map,r=new fO(this.k);for(const i of e)if(i.metadata.queries){const l=r.Hn(i.metadata.name);for(const d of i.metadata.queries){const f=(t.get(d)||kn()).add(l);t.set(d,f)}}return t}complete(){var e=this;return(0,Ee.Z)(function*(){const t=yield function XF(n,e,t,r){return cA.apply(this,arguments)}(e.localStore,new fO(e.k),e.documents,e.mo.id),r=e.po(e.documents);for(const i of e.queries)yield eL(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",new WF(Object.assign({},e.progress),t)})()}}function pO(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class gO{constructor(e){this.key=e}}class mO{constructor(e){this.key=e}}class yO{constructor(e,t){this.query=e,this.To=t,this.Eo=null,this.current=!1,this.Io=kn(),this.mutatedKeys=kn(),this.Ao=$C(e),this.Ro=new Uy(this.Ao)}get bo(){return this.To}Po(e,t){const r=t?t.vo:new hO,i=t?t.Ro:this.Ro;let l=t?t.mutatedKeys:this.mutatedKeys,d=i,f=!1;const y=$p(this.query)&&i.size===this.query.limit?i.last():null,D=Hc(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,M)=>{const F=i.get(b),R=qp(this.query,M)?M:null,B=!!F&&this.mutatedKeys.has(F.key),te=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let se=!1;F&&R?F.data.isEqual(R.data)?B!==te&&(r.track({type:3,doc:R}),se=!0):this.Vo(F,R)||(r.track({type:2,doc:R}),se=!0,(y&&this.Ao(R,y)>0||D&&this.Ao(R,D)<0)&&(f=!0)):!F&&R?(r.track({type:0,doc:R}),se=!0):F&&!R&&(r.track({type:1,doc:F}),se=!0,(y||D)&&(f=!0)),se&&(R?(d=d.add(R),l=te?l.add(b):l.delete(b)):(d=d.delete(b),l=l.delete(b)))}),$p(this.query)||Hc(this.query))for(;d.size>this.query.limit;){const b=$p(this.query)?d.last():d.first();d=d.delete(b.key),l=l.delete(b.key),r.track({type:1,doc:b})}return{Ro:d,vo:r,Bn:f,mutatedKeys:l}}Vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Ro;this.Ro=e.Ro,this.mutatedKeys=e.mutatedKeys;const l=e.vo.no();l.sort((D,b)=>function(M,F){const R=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt()}};return R(M)-R(F)}(D.type,b.type)||this.Ao(D.doc,b.doc)),this.So(r);const d=t?this.Do():[],f=0===this.Io.size&&this.current?1:0,y=f!==this.Eo;return this.Eo=f,0!==l.length||y?{snapshot:new By(this.query,e.Ro,i,l,e.mutatedKeys,0===f,y,!1),Co:d}:{Co:d}}ro(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ro:this.Ro,vo:new hO,mutatedKeys:this.mutatedKeys,Bn:!1},!1)):{Co:[]}}No(e){return!this.To.has(e)&&!!this.Ro.has(e)&&!this.Ro.get(e).hasLocalMutations}So(e){e&&(e.addedDocuments.forEach(t=>this.To=this.To.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.To=this.To.delete(t)),this.current=e.current)}Do(){if(!this.current)return[];const e=this.Io;this.Io=kn(),this.Ro.forEach(r=>{this.No(r.key)&&(this.Io=this.Io.add(r.key))});const t=[];return e.forEach(r=>{this.Io.has(r)||t.push(new mO(r))}),this.Io.forEach(r=>{e.has(r)||t.push(new gO(r))}),t}ko(e){this.To=e.zn,this.Io=kn();const t=this.Po(e.documents);return this.applyChanges(t,!0)}xo(){return By.fromInitialDocuments(this.query,this.Ro,this.mutatedKeys,0===this.Eo)}}class OL{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class RL{constructor(e){this.key=e,this.$o=!1}}class NL{constructor(e,t,r,i,l,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=l,this.maxConcurrentLimboResolutions=d,this.Oo={},this.Mo=new Oy(f=>HC(f),zp),this.Fo=new Map,this.Lo=new Set,this.Bo=new vr(ht.comparator),this.Uo=new Map,this.qo=new hA,this.Ko={},this.jo=new Map,this.Qo=Yp.re(),this.onlineState="Unknown",this.Wo=void 0}get isPrimaryClient(){return!0===this.Wo}}function PL(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,Ee.Z)(function*(n,e){const t=dM(n);let r,i;const l=t.Mo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),i=l.view.xo();else{const d=yield Ry(t.localStore,$o(e)),f=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield $A(t,e,r,"current"===f),t.isPrimaryClient&&iT(t.remoteStore,d)}return i}),HA.apply(this,arguments)}function $A(n,e,t,r){return zA.apply(this,arguments)}function zA(){return zA=(0,Ee.Z)(function*(n,e,t,r){n.Go=(b,M,F)=>{return(R=(0,Ee.Z)(function*(B,te,se,De){let Re=te.view.Po(se);Re.Bn&&(Re=yield eT(B.localStore,te.query,!1).then(({documents:ct})=>te.view.Po(ct,Re)));const Be=De&&De.targetChanges.get(te.targetId),Pe=te.view.applyChanges(Re,B.isPrimaryClient,Be);return eM(B,te.targetId,Pe.Co),Pe.snapshot}),function(B,te,se,De){return R.apply(this,arguments)})(n,b,M,F);var R};const i=yield eT(n.localStore,e,!0),l=new yO(e,i.zn),d=l.Po(i.documents),f=s0.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),y=l.applyChanges(d,n.isPrimaryClient,f);eM(n,t,y.Co);const D=new OL(e,t,l);return n.Mo.set(e,D),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),y.snapshot}),zA.apply(this,arguments)}function FL(n,e){return qA.apply(this,arguments)}function qA(){return qA=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=t.Mo.get(e),i=t.Fo.get(r.targetId);if(i.length>1)return t.Fo.set(r.targetId,i.filter(l=>!zp(l,e))),void t.Mo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ny(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),g0(t.remoteStore,r.targetId),jy(t,r.targetId)}).catch(Qp))):(jy(t,r.targetId),yield Ny(t.localStore,r.targetId,!0))}),qA.apply(this,arguments)}function ZA(){return ZA=(0,Ee.Z)(function*(n,e,t){const r=hM(n);try{const i=yield function(l,d){const f=Ze(l),y=Yr.now(),D=d.reduce((M,F)=>M.add(F.key),kn());let b;return f.persistence.runTransaction("Locally write mutations","readwrite",M=>f.Wn.vn(M,D).next(F=>{b=F;const R=[];for(const B of d){const te=q(B,b.get(B.key));null!=te&&R.push(new $e(B.key,te,vy(te.value.mapValue),E.exists(!0)))}return f.An.addMutationBatch(M,y,R,d)})).then(M=>(M.applyToLocalDocumentSet(b),{batchId:M.batchId,changes:b}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,d,f){let y=l.Ko[l.currentUser.toKey()];y||(y=new vr(kt)),y=y.insert(d,f),l.Ko[l.currentUser.toKey()]=y}(r,i.batchId,t),yield qc(r,i.changes),yield Fy(r.remoteStore)}catch(i){const l=Vy(i,"Failed to persist write");t.reject(l)}}),ZA.apply(this,arguments)}function vO(n,e){return WA.apply(this,arguments)}function WA(){return WA=(0,Ee.Z)(function*(n,e){const t=Ze(n);try{const r=yield YF(t.localStore,e);e.targetChanges.forEach((i,l)=>{const d=t.Uo.get(l);d&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.$o=!0:i.modifiedDocuments.size>0?Mt(d.$o):i.removedDocuments.size>0&&(Mt(d.$o),d.$o=!1))}),yield qc(t,r,e)}catch(r){yield Qp(r)}}),WA.apply(this,arguments)}function _O(n,e,t){const r=Ze(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Mo.forEach((l,d)=>{const f=d.view.ro(e);f.snapshot&&i.push(f.snapshot)}),function(l,d){const f=Ze(l);f.onlineState=d;let y=!1;f.queries.forEach((D,b)=>{for(const M of b.listeners)M.ro(d)&&(y=!0)}),y&&BA(f)}(r.eventManager,e),i.length&&r.Oo.br(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function VL(n,e,t){return GA.apply(this,arguments)}function GA(){return GA=(0,Ee.Z)(function*(n,e,t){const r=Ze(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Uo.get(e),l=i&&i.key;if(l){let d=new vr(ht.comparator);d=d.insert(l,Vn.newNoDocument(l,Pt.min()));const f=kn().add(l),y=new r0(Pt.min(),new Map,new Xn(kt),d,f);yield vO(r,y),r.Bo=r.Bo.remove(l),r.Uo.delete(e),tM(r)}else yield Ny(r.localStore,e,!1).then(()=>jy(r,e,t)).catch(Qp)}),GA.apply(this,arguments)}function UL(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=e.batch.batchId;try{const i=yield KF(t.localStore,e);XA(t,r,null),JA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield qc(t,i)}catch(i){yield Qp(i)}}),KA.apply(this,arguments)}function BL(n,e,t){return YA.apply(this,arguments)}function YA(){return YA=(0,Ee.Z)(function*(n,e,t){const r=Ze(n);try{const i=yield function(l,d){const f=Ze(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let D;return f.An.lookupMutationBatch(y,d).next(b=>(Mt(null!==b),D=b.keys(),f.An.removeMutationBatch(y,b))).next(()=>f.An.performConsistencyCheck(y)).next(()=>f.Wn.vn(y,D))})}(r.localStore,e);XA(r,e,t),JA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield qc(r,i)}catch(i){yield Qp(i)}}),YA.apply(this,arguments)}function QA(){return QA=(0,Ee.Z)(function*(n,e){const t=Ze(n);kh(t.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const d=Ze(l);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.An.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.jo.get(r)||[];i.push(e),t.jo.set(r,i)}catch(r){const i=Vy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),QA.apply(this,arguments)}function JA(n,e){(n.jo.get(e)||[]).forEach(t=>{t.resolve()}),n.jo.delete(e)}function XA(n,e,t){const r=Ze(n);let i=r.Ko[r.currentUser.toKey()];if(i){const l=i.get(e);l&&(t?l.reject(t):l.resolve(),i=i.remove(e)),r.Ko[r.currentUser.toKey()]=i}}function jy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Mo.delete(r),t&&n.Oo.zo(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.qo.us(e).forEach(r=>{n.qo.containsKey(r)||wO(n,r)})}function wO(n,e){n.Lo.delete(e.path.canonicalString());const t=n.Bo.get(e);null!==t&&(g0(n.remoteStore,t),n.Bo=n.Bo.remove(e),n.Uo.delete(t),tM(n))}function eM(n,e,t){for(const r of t)r instanceof gO?(n.qo.addReference(r.key,e),HL(n,r)):r instanceof mO?(He("SyncEngine","Document no longer in limbo: "+r.key),n.qo.removeReference(r.key,e),n.qo.containsKey(r.key)||wO(n,r.key)):pt()}function HL(n,e){const t=e.key,r=t.path.canonicalString();n.Bo.get(t)||n.Lo.has(r)||(He("SyncEngine","New document in limbo: "+t),n.Lo.add(r),tM(n))}function tM(n){for(;n.Lo.size>0&&n.Bo.size<n.maxConcurrentLimboResolutions;){const e=n.Lo.values().next().value;n.Lo.delete(e);const t=new ht(Cn.fromString(e)),r=n.Qo.next();n.Uo.set(r,new RL(t)),n.Bo=n.Bo.insert(t,r),iT(n.remoteStore,new Ih($o(Eh(t.path)),r,2,Fs.I))}}function qc(n,e,t){return nM.apply(this,arguments)}function nM(){return nM=(0,Ee.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[],d=[];var f;r.Mo.isEmpty()||(r.Mo.forEach((f,y)=>{d.push(r.Go(y,e,t).then(D=>{if(D){r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,D.fromCache?"not-current":"current"),i.push(D);const b=oA.$n(y.targetId,D);l.push(b)}}))}),yield Promise.all(d),r.Oo.br(i),yield(f=(0,Ee.Z)(function*(y,D){const b=Ze(y);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>Oe.forEach(D,F=>Oe.forEach(F.kn,R=>b.persistence.referenceDelegate.addReference(M,F.targetId,R)).next(()=>Oe.forEach(F.xn,R=>b.persistence.referenceDelegate.removeReference(M,F.targetId,R)))))}catch(M){if(!Gp(M))throw M;He("LocalStore","Failed to update sequence numbers: "+M)}for(const M of D){const F=M.targetId;if(!M.fromCache){const R=b.qn.get(F),te=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);b.qn=b.qn.insert(F,te)}}}),function(y,D){return f.apply(this,arguments)})(r.localStore,l))}),nM.apply(this,arguments)}function $L(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,Ee.Z)(function*(n,e){const t=Ze(n);if(!t.currentUser.isEqual(e)){He("SyncEngine","User change. New user:",e.toKey());const r=yield Y1(t.localStore,e);t.currentUser=e,(i=t).jo.forEach(d=>{d.forEach(f=>{f.reject(new Se(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.jo.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield qc(t,r.Gn)}var i}),rM.apply(this,arguments)}function zL(n,e){const t=Ze(n),r=t.Uo.get(e);if(r&&r.$o)return kn().add(r.key);{let i=kn();const l=t.Fo.get(e);if(!l)return i;for(const d of l){const f=t.Mo.get(d);i=i.unionWith(f.view.bo)}return i}}function qL(n,e){return iM.apply(this,arguments)}function iM(){return iM=(0,Ee.Z)(function*(n,e){const t=Ze(n),r=yield eT(t.localStore,e.query,!0),i=e.view.ko(r);return t.isPrimaryClient&&eM(t,e.targetId,i.Co),i}),iM.apply(this,arguments)}function ZL(n){return sM.apply(this,arguments)}function sM(){return sM=(0,Ee.Z)(function*(n){const e=Ze(n);return eO(e.localStore).then(t=>qc(e,t))}),sM.apply(this,arguments)}function WL(n,e,t,r){return oM.apply(this,arguments)}function oM(){return oM=(0,Ee.Z)(function*(n,e,t,r){const i=Ze(n),l=yield function(d,f){const y=Ze(d),D=Ze(y.An);return y.persistence.runTransaction("Lookup mutation documents","readonly",b=>D.Zt(b,f).next(M=>M?y.Wn.vn(b,M):Oe.resolve(null)))}(i.localStore,e);var f;null!==l?("pending"===t?yield Fy(i.remoteStore):"acknowledged"===t||"rejected"===t?(XA(i,e,r||null),JA(i,e),f=e,Ze(Ze(i.localStore).An).ee(f)):pt(),yield qc(i,l)):He("SyncEngine","Cannot apply mutation batch with id: "+e)}),oM.apply(this,arguments)}function aM(){return aM=(0,Ee.Z)(function*(n,e){const t=Ze(n);if(dM(t),hM(t),!0===e&&!0!==t.Wo){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield EO(t,r.toArray());t.Wo=!0,yield RA(t.remoteStore,!0);for(const l of i)iT(t.remoteStore,l)}else if(!1===e&&!1!==t.Wo){const r=[];let i=Promise.resolve();t.Fo.forEach((l,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(jy(t,d),Ny(t.localStore,d,!0))),g0(t.remoteStore,d)}),yield i,yield EO(t,r),function(l){const d=Ze(l);d.Uo.forEach((f,y)=>{g0(d.remoteStore,y)}),d.qo.hs(),d.Uo=new Map,d.Bo=new vr(ht.comparator)}(t),t.Wo=!1,yield RA(t.remoteStore,!1)}}),aM.apply(this,arguments)}function EO(n,e,t){return lM.apply(this,arguments)}function lM(){return lM=(0,Ee.Z)(function*(n,e,t){const r=Ze(n),i=[],l=[];for(const d of e){let f;const y=r.Fo.get(d);if(y&&0!==y.length){f=yield Ry(r.localStore,$o(y[0]));for(const D of y){const b=r.Mo.get(D),M=yield qL(r,b);M.snapshot&&l.push(M.snapshot)}}else{const D=yield X1(r.localStore,d);f=yield Ry(r.localStore,D),yield $A(r,DO(D),d,!1)}i.push(f)}return r.Oo.br(l),i}),lM.apply(this,arguments)}function DO(n){return Hp(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function KL(n){const e=Ze(n);return Ze(Ze(e.localStore).persistence).Tn()}function YL(n,e,t,r){return uM.apply(this,arguments)}function uM(){return uM=(0,Ee.Z)(function*(n,e,t,r){const i=Ze(n);if(i.Wo)He("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield eO(i.localStore),d=r0.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield qc(i,l,d);break}case"rejected":yield Ny(i.localStore,e,!0),jy(i,e,r);break;default:pt()}}),uM.apply(this,arguments)}function QL(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=(0,Ee.Z)(function*(n,e,t){const r=dM(n);if(r.Wo){for(const i of e){if(r.Fo.has(i)){He("SyncEngine","Adding an already active target "+i);continue}const l=yield X1(r.localStore,i),d=yield Ry(r.localStore,l);yield $A(r,DO(l),d.targetId,!1),iT(r.remoteStore,d)}for(const i of t)r.Fo.has(i)&&(yield Ny(r.localStore,i,!1).then(()=>{g0(r.remoteStore,i),jy(r,i)}).catch(Qp))}}),cM.apply(this,arguments)}function dM(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=VL.bind(null,e),e.Oo.br=AL.bind(null,e.eventManager),e.Oo.zo=ML.bind(null,e.eventManager),e}function hM(n){const e=Ze(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=BL.bind(null,e),e}class CO{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Ee.Z)(function*(){t.k=f0(e.databaseInfo.databaseId),t.sharedClientState=t.Jo(e),t.persistence=t.Yo(e),yield t.persistence.start(),t.gcScheduler=t.Xo(e),t.localStore=t.Zo(e)})()}Xo(e){return null}Zo(e){return K1(this.persistence,new G1,e.initialUser,this.k)}Yo(e){return new oL(fA.ks,this.k)}Jo(e){return new rO}terminate(){var e=this;return(0,Ee.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class TO extends CO{constructor(e,t,r){super(),this.tc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e),yield function JF(n){return uA.apply(this,arguments)}(r.localStore),yield r.tc.initialize(r,e),yield hM(r.tc.syncEngine),yield Fy(r.tc.remoteStore),yield r.persistence.sn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Zo(e){return K1(this.persistence,new G1,e.initialUser,this.k)}Xo(e){return new jF(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Yo(e){const t=sA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?vo.withCacheSize(this.cacheSizeBytes):vo.DEFAULT;return new iA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,sO(),rT(),this.k,this.sharedClientState,!!this.forceOwnership)}Jo(e){return new rO}}class XL extends TO{constructor(e,t){super(e,t,!1),this.tc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Ee.Z)(function*(){yield t().call(r,e);const i=r.tc.syncEngine;r.sharedClientState instanceof yA&&(r.sharedClientState.syncEngine={mi:WL.bind(null,i),gi:YL.bind(null,i),yi:QL.bind(null,i),Tn:KL.bind(null,i),_i:ZL.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.sn(function(){var l=(0,Ee.Z)(function*(d){yield function GL(n,e){return aM.apply(this,arguments)}(r.tc.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return l.apply(this,arguments)}}())})()}Jo(e){const t=sO();if(!yA.Pt(t))throw new Se(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=sA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class fM{initialize(e,t){var r=this;return(0,Ee.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>_O(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=$L.bind(null,r.syncEngine),yield RA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new IL}createDatastore(e){const t=f0(e.databaseInfo.databaseId),r=new dL(e.databaseInfo);return new pL(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,l=f=>_O(this.syncEngine,f,0),d=iO.Pt()?new iO:new lL,new mL(t,r,i,l,d);var t,r,i,l,d}createSyncEngine(e,t){return function(r,i,l,d,f,y,D){const b=new NL(r,i,l,d,f,y);return D&&(b.Wo=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return function(){var e=(0,Ee.Z)(function*(t){const r=Ze(t);He("RemoteStore","RemoteStore shutting down."),r.Gr.add(5),yield Py(r),r.Hr.shutdown(),r.Jr.set("Unknown")});return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}function bO(n,e=10240){let t=0;return{read:()=>(0,Ee.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Ee.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class oT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ec(this.observer.next,e)}error(e){this.observer.error?this.ec(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}nc(){this.muted=!0}ec(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class eV{constructor(e,t){this.sc=e,this.k=t,this.metadata=new Kr,this.buffer=new Uint8Array,this.ic=new TextDecoder("utf-8"),this.rc().then(r=>{r&&r._o()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.sc.cancel()}getMetadata(){var e=this;return(0,Ee.Z)(function*(){return e.metadata.promise})()}Ho(){var e=this;return(0,Ee.Z)(function*(){return yield e.getMetadata(),e.rc()})()}rc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.oc();if(null===t)return null;const r=e.ic.decode(t),i=Number(r);isNaN(i)&&e.cc(`length string (${r}) is not valid number`);const l=yield e.ac(i);return new xL(JSON.parse(l),t.length+i)})()}uc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}oc(){var e=this;return(0,Ee.Z)(function*(){for(;e.uc()<0&&!(yield e.hc()););if(0===e.buffer.length)return null;const t=e.uc();t<0&&e.cc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ac(e){var t=this;return(0,Ee.Z)(function*(){for(;t.buffer.length<e;)(yield t.hc())&&t.cc("Reached the end of bundle when more is expected.");const r=t.ic.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}cc(e){throw this.sc.cancel(),new Error(`Invalid bundle format: ${e}`)}hc(){var e=this;return(0,Ee.Z)(function*(){const t=yield e.sc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class tV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Ee.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Ee.Z)(function*(l,d){const f=Ze(l),y=l0(f.k)+"/documents",D={documents:d.map(R=>a0(f.k,R))},b=yield f.ji("BatchGetDocuments",y,D),M=new Map;b.forEach(R=>{const B=function wF(n,e){return"found"in e?function(t,r){Mt(!!r.found);const i=Nu(t,r.found.name),l=Ri(r.found.updateTime),d=new di({mapValue:{fields:r.found.fields}});return Vn.newFoundDocument(i,l,d)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const i=Nu(t,r.missing),l=Ri(r.readTime);return Vn.newNoDocument(i,l)}(n,e):pt()}(f.k,R);M.set(B.key.toString(),B)});const F=[];return d.forEach(R=>{const B=M.get(R.toString());Mt(!!B),F.push(B)}),F}),function(l,d){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ht(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Ee.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const l=ht.fromPath(i);e.mutations.push(new dn(l,e.precondition(l)))}),yield(r=(0,Ee.Z)(function*(i,l){const d=Ze(i),f=l0(d.k)+"/documents",y={writes:l.map(D=>GC(d.k,D))};yield d.Bi("Commit",f,y)}),function(i,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw pt();t=Pt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?E.updateTime(t):E.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Pt.min()))throw new Se(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return E.updateTime(t)}return E.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nV{constructor(e,t,r,i){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=i,this.lc=5,this.ur=new vA(this.asyncQueue,"transaction_retry")}run(){this.lc-=1,this.fc()}fc(){var e=this;this.ur.Zi((0,Ee.Z)(function*(){const t=new tV(e.datastore),r=e.dc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(l=>{e.wc(l)}))}).catch(i=>{e.wc(i)})}))}dc(e){try{const t=this.updateFunction(e);return!Vc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}wc(e){this.lc>0&&this._c(e)?(this.lc-=1,this.asyncQueue.enqueueAndForget(()=>(this.fc(),Promise.resolve()))):this.deferred.reject(e)}_c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!wy(t)}return!1}}class rV{constructor(e,t,r,i){var l=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Oi.UNAUTHENTICATED,this.clientId=my.A(),this.authCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,Ee.Z)(function*(f){He("FirestoreClient","Received user=",f.uid),yield l.authCredentialListener(f),l.user=f});return function(f){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,()=>Promise.resolve())}getConfiguration(){var e=this;return(0,Ee.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Vy(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function SO(n,e){return pM.apply(this,arguments)}function pM(){return pM=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Ee.Z)(function*(l){r.isEqual(l)||(yield Y1(e.localStore,l),r=l)});return function(l){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),pM.apply(this,arguments)}function IO(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,Ee.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield mM(n);He("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>{return(l=(0,Ee.Z)(function*(d,f){const y=Ze(d);y.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const D=kh(y);y.Gr.add(3),yield Py(y),D&&y.Jr.set("Unknown"),yield y.remoteSyncer.handleCredentialChange(f),y.Gr.delete(3),yield p0(y)}),function(d,f){return l.apply(this,arguments)})(e.remoteStore,i);var l}),n.onlineComponents=e}),gM.apply(this,arguments)}function mM(n){return yM.apply(this,arguments)}function yM(){return yM=(0,Ee.Z)(function*(n){return n.offlineComponents||(He("FirestoreClient","Using default OfflineComponentProvider"),yield SO(n,new CO)),n.offlineComponents}),yM.apply(this,arguments)}function aT(n){return vM.apply(this,arguments)}function vM(){return vM=(0,Ee.Z)(function*(n){return n.onlineComponents||(He("FirestoreClient","Using default OnlineComponentProvider"),yield IO(n,new fM)),n.onlineComponents}),vM.apply(this,arguments)}function AO(n){return mM(n).then(e=>e.persistence)}function _M(n){return mM(n).then(e=>e.localStore)}function MO(n){return aT(n).then(e=>e.remoteStore)}function wM(n){return aT(n).then(e=>e.syncEngine)}function Hy(n){return EM.apply(this,arguments)}function EM(){return EM=(0,Ee.Z)(function*(n){const e=yield aT(n),t=e.eventManager;return t.onListen=PL.bind(null,e.syncEngine),t.onUnlisten=FL.bind(null,e.syncEngine),t}),EM.apply(this,arguments)}function xO(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,l,d,f,y){const D=new oT({next:M=>{l.enqueueAndForget(()=>VA(i,b));const F=M.docs.has(d);!F&&M.fromCache?y.reject(new Se(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?y.reject(new Se(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),b=new jA(Eh(d.path),D,{includeMetadataChanges:!0,wo:!0});return FA(i,b)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}function kO(n,e,t={}){const r=new Kr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function(i,l,d,f,y){const D=new oT({next:M=>{l.enqueueAndForget(()=>VA(i,b)),M.fromCache&&"server"===f.source?y.reject(new Se(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(M)},error:M=>y.reject(M)}),b=new jA(d,D,{includeMetadataChanges:!0,wo:!0});return FA(i,b)}(yield Hy(n),n.asyncQueue,e,t,r)})),r.promise}class hV{constructor(e,t,r,i,l,d,f,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=l,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=y}}class $y{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof $y&&e.projectId===this.projectId&&e.database===this.database}}const OO=new Map;function DM(n,e,t){if(!t)throw new Se(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function RO(n,e,t,r){if(!0===e&&!0===r)throw new Se(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NO(n){if(!ht.isDocumentKey(n))throw new Se(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function PO(n){if(ht.isDocumentKey(n))throw new Se(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function lT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":pt()}function hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lT(n);throw new Se(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function FO(n,e){if(e<=0)throw new Se(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class LO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,RO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new LO({}),this._settingsFrozen=!1,e instanceof $y?this._databaseId=e:(this._app=e,this._databaseId=function(i){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new Se(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $y(i.options.projectId)}(e))}get app(){if(!this._app)throw new Se(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new LO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new AI;switch(t.type){case"gapi":const r=t.client;return Mt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new IC(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Se(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=OO.get(e);t&&(He("ComponentProvider","Removing Datastore"),OO.delete(e),t.terminate())}(this),Promise.resolve()}}class ir{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ir(this.firestore,e,this._key)}}class ls{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class Fu extends ls{constructor(e,t,r){super(e,t,Eh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ir(this.firestore,null,new ht(e))}withConverter(e){return new Fu(this.firestore,e,this._path)}}function VO(n,e,...t){if(n=(0,Zt.m9)(n),DM("collection","path",e),n instanceof m0){const r=Cn.fromString(e,...t);return PO(r),new Fu(n,null,r)}{if(!(n instanceof ir||n instanceof Fu))throw new Se(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Cn.fromString(e,...t));return PO(r),new Fu(n.firestore,null,r)}}function uT(n,e,...t){if(n=(0,Zt.m9)(n),1===arguments.length&&(e=my.A()),DM("doc","path",e),n instanceof m0){const r=Cn.fromString(e,...t);return NO(r),new ir(n,null,new ht(r))}{if(!(n instanceof ir||n instanceof Fu))throw new Se(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Cn.fromString(e,...t));return NO(r),new ir(n.firestore,n instanceof Fu?n.converter:null,new ht(r))}}function UO(n,e){return n=(0,Zt.m9)(n),e=(0,Zt.m9)(e),(n instanceof ir||n instanceof Fu)&&(e instanceof ir||e instanceof Fu)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function BO(n,e){return n=(0,Zt.m9)(n),e=(0,Zt.m9)(e),n instanceof ls&&e instanceof ls&&n.firestore===e.firestore&&zp(n._query,e._query)&&n.converter===e.converter}class gV{constructor(){this.mc=Promise.resolve(),this.gc=[],this.yc=!1,this.Tc=[],this.Ec=null,this.Ic=!1,this.Ac=!1,this.Rc=[],this.ur=new vA(this,"async_queue_retry"),this.bc=()=>{const t=rT();t&&He("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ur.er()};const e=rT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.bc)}get isShuttingDown(){return this.yc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pc(),this.vc(e)}enterRestrictedMode(e){if(!this.yc){this.yc=!0,this.Ac=e||!1;const t=rT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bc)}}enqueue(e){if(this.Pc(),this.yc)return new Promise(()=>{});const t=new Kr;return this.vc(()=>this.yc&&this.Ac?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.gc.push(e),this.Vc()))}Vc(){var e=this;return(0,Ee.Z)(function*(){if(0!==e.gc.length){try{yield e.gc[0](),e.gc.shift(),e.ur.reset()}catch(t){if(!Gp(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}e.gc.length>0&&e.ur.Zi(()=>e.Vc())}})()}vc(e){const t=this.mc.then(()=>(this.Ic=!0,e().catch(r=>{throw this.Ec=r,this.Ic=!1,Ur("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(r)),r}).then(r=>(this.Ic=!1,r))));return this.mc=t,t}enqueueAfterDelay(e,t,r){this.Pc(),this.Rc.indexOf(e)>-1&&(t=0);const i=PA.createAndSchedule(this,e,t,r,l=>this.Sc(l));return this.Tc.push(i),i}Pc(){this.Ec&&pt()}verifyOperationInProgress(){}Dc(){var e=this;return(0,Ee.Z)(function*(){let t;do{t=e.mc,yield t}while(t!==e.mc)})()}Cc(e){for(const t of this.Tc)if(t.timerId===e)return!0;return!1}Nc(e){return this.Dc().then(()=>{this.Tc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Dc()})}kc(e){this.Rc.push(e)}Sc(e){const t=this.Tc.indexOf(e);this.Tc.splice(t,1)}}function CM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class mV{constructor(){this._progressObserver={},this._taskCompletionResolver=new Kr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class _r extends m0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new gV,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||jO(this),this._firestoreClient.terminate()}}function hi(n){return n._firestoreClient||jO(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jO(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new hV(n._databaseId,l,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var l,f;n._firestoreClient=new rV(n._authCredentials,n._appCheckCredentials,n._queue,r)}function HO(n,e,t){const r=new Kr;return n.asyncQueue.enqueue((0,Ee.Z)(function*(){try{yield SO(n,t),yield IO(n,e),r.resolve()}catch(i){if(!("FirebaseError"===(l=i).name?l.code===ge.FAILED_PRECONDITION||l.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var l})).then(()=>r.promise)}function $O(n){if(n._initialized||n._terminated)throw new Se(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Zc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Lu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lu(Mr.fromBase64String(e))}catch(t){throw new Se(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Lu(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Jp{constructor(e){this._methodName=e}}class cT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return kt(this._lat,e._lat)||kt(this._long,e._long)}}const SV=/^__.*__$/;class IV{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new $e(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ve(e,this.data,t,this.fieldTransforms)}}class zO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new $e(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt()}}class dT{constructor(e,t,r,i,l,d){this.settings=e,this.databaseId=t,this.k=r,this.ignoreUndefinedProperties=i,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=d||[]}get path(){return this.settings.path}get $c(){return this.settings.$c}Oc(e){return new dT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.k,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.Lc(e),i}Bc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Oc({path:r,Fc:!1});return i.xc(),i}Uc(e){return this.Oc({path:void 0,Fc:!0})}qc(e){return fT(e,this.settings.methodName,this.settings.Kc||!1,this.path,this.settings.jc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lc(this.path.get(e))}Lc(e){if(0===e.length)throw this.qc("Document fields must not be empty");if(qO(this.$c)&&SV.test(e))throw this.qc('Document fields cannot begin and end with "__"')}}class AV{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.k=r||f0(e)}Qc(e,t,r,i=!1){return new dT({$c:e,methodName:t,jc:r,path:Qr.emptyPath(),Fc:!1,Kc:i},this.databaseId,this.k,this.ignoreUndefinedProperties)}}function Xp(n){const e=n._freezeSettings(),t=f0(n._databaseId);return new AV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hT(n,e,t,r,i,l={}){const d=n.Qc(l.merge||l.mergeFields?2:0,e,t,i);IM("Data must be an object, but it was:",d,r);const f=GO(r,d);let y,D;if(l.merge)y=new vh(d.fieldMask),D=d.fieldTransforms;else if(l.mergeFields){const b=[];for(const M of l.mergeFields){const F=AM(e,M,t);if(!d.contains(F))throw new Se(ge.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);YO(b,F)||b.push(F)}y=new vh(b),D=d.fieldTransforms.filter(M=>y.covers(M.field))}else y=null,D=d.fieldTransforms;return new IV(new di(f),y,D)}class y0 extends Jp{_toFieldTransform(e){if(2!==e.$c)throw e.qc(1===e.$c?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof y0}}function ZO(n,e,t){return new dT({$c:3,jc:e.settings.jc,methodName:n._methodName,Fc:t},e.databaseId,e.k,e.ignoreUndefinedProperties)}class TM extends Jp{_toFieldTransform(e){return new h(e.path,new Zp)}isEqual(e){return e instanceof TM}}class MV extends Jp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=ZO(this,e,!0),r=this.Wc.map(l=>eg(l,t)),i=new Ch(r);return new h(e.path,i)}isEqual(e){return this===e}}class xV extends Jp{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=ZO(this,e,!0),r=this.Wc.map(l=>eg(l,t)),i=new Th(r);return new h(e.path,i)}isEqual(e){return this===e}}class kV extends Jp{constructor(e,t){super(e),this.Gc=t}_toFieldTransform(e){const t=new o(e.k,$I(e.k,this.Gc));return new h(e.path,t)}isEqual(e){return this===e}}function bM(n,e,t,r){const i=n.Qc(1,e,t);IM("Data must be an object, but it was:",i,r);const l=[],d=di.empty();Lc(r,(y,D)=>{const b=MM(e,y,t);D=(0,Zt.m9)(D);const M=i.Bc(b);if(D instanceof y0)l.push(b);else{const F=eg(D,M);null!=F&&(l.push(b),d.set(b,F))}});const f=new vh(l);return new zO(d,f,i.fieldTransforms)}function SM(n,e,t,r,i,l){const d=n.Qc(1,e,t),f=[AM(e,r,t)],y=[i];if(l.length%2!=0)throw new Se(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<l.length;F+=2)f.push(AM(e,l[F])),y.push(l[F+1]);const D=[],b=di.empty();for(let F=f.length-1;F>=0;--F)if(!YO(D,f[F])){const R=f[F];let B=y[F];B=(0,Zt.m9)(B);const te=d.Bc(R);if(B instanceof y0)D.push(R);else{const se=eg(B,te);null!=se&&(D.push(R),b.set(R,se))}}const M=new vh(D);return new zO(b,M,d.fieldTransforms)}function WO(n,e,t,r=!1){return eg(t,n.Qc(r?4:3,e))}function eg(n,e){if(KO(n=(0,Zt.m9)(n)))return IM("Unsupported field value:",e,n),GO(n,e);if(n instanceof Jp)return function(t,r){if(!qO(r.$c))throw r.qc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.qc(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.$c)throw e.qc("Nested arrays are not supported");return function(t,r){const i=[];let l=0;for(const d of t){let f=eg(d,r.Uc(l));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),l++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Zt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return $I(r.k,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Yr.fromDate(t);return{timestampValue:o0(r.k,i)}}if(t instanceof Yr){const i=new Yr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:o0(r.k,i)}}if(t instanceof cT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Lu)return{bytesValue:h1(r.k,t._byteString)};if(t instanceof ir){const i=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(i))throw r.qc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ZI(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.qc(`Unsupported field value: ${lT(t)}`)}(n,e)}function GO(n,e){const t={};return qw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Lc(n,(r,i)=>{const l=eg(i,e.Mc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function KO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Yr||n instanceof cT||n instanceof Lu||n instanceof ir||n instanceof Jp)}function IM(n,e,t){if(!KO(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=lT(t);throw e.qc("an object"===r?n+" a custom object":n+" "+r)}var r}function AM(n,e,t){if((e=(0,Zt.m9)(e))instanceof Zc)return e._internalPath;if("string"==typeof e)return MM(n,e);throw fT("Field path arguments must be of type string or ",n,!1,void 0,t)}const OV=new RegExp("[~\\*/\\[\\]]");function MM(n,e,t){if(e.search(OV)>=0)throw fT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zc(...e.split("."))._internalPath}catch(r){throw fT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function fT(n,e,t,r,i){const l=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(l||d)&&(y+=" (found",l&&(y+=` in field ${r}`),d&&(y+=` in document ${i}`),y+=")"),new Se(ge.INVALID_ARGUMENT,f+n+y)}function YO(n,e){return n.some(t=>t.isEqual(e))}class v0{constructor(e,t,r,i,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ir(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(pT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RV extends v0{data(){return super.data()}}function pT(n,e){return"string"==typeof e?MM(n,e):e instanceof Zc?e._internalPath:e._delegate._internalPath}class tg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Wc extends v0{constructor(e,t,r,i,l,d){super(e,t,r,i,d),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new _0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(pT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class _0 extends Wc{data(e={}){return super.data(e)}}class Rh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new tg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _0(this._firestore,this._userDataWriter,r.key,r,new tg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new tg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new _0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new tg(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,D=-1;return 0!==d.type&&(y=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),1!==d.type&&(l=l.add(d.doc),D=l.indexOf(d.doc.key)),{type:NV(d.type),doc:f,oldIndex:y,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function NV(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt()}}function QO(n,e){return n instanceof Wc&&e instanceof Wc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rh&&e instanceof Rh&&n._firestore===e._firestore&&BO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function JO(n){if(Hc(n)&&0===n.explicitOrderBy.length)throw new Se(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class w0{}function Nh(n,...e){for(const t of e)n=t._apply(n);return n}class PV extends w0{constructor(e,t,r){super(),this.zc=e,this.Hc=t,this.Jc=r,this.type="where"}_apply(e){const t=Xp(e.firestore),r=function(i,l,d,f,y,D,b){let M;if(y.isKeyField()){if("array-contains"===D||"array-contains-any"===D)throw new Se(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${D}' queries on documentId().`);if("in"===D||"not-in"===D){iR(b,D);const R=[];for(const B of b)R.push(rR(f,i,B));M={arrayValue:{values:R}}}else M=rR(f,i,b)}else"in"!==D&&"not-in"!==D&&"array-contains-any"!==D||iR(b,D),M=WO(d,"where",b,"in"===D||"not-in"===D);const F=os.create(y,D,M);return function(R,B){if(B.V()){const se=Jw(R);if(null!==se&&!se.isEqual(B.field))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${se.toString()}' and '${B.field.toString()}'`);const De=Qw(R);null!==De&&sR(0,B.field,De)}const te=function(se,De){for(const Re of se.filters)if(De.indexOf(Re.op)>=0)return Re.op;return null}(R,function(se){switch(se){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(B.op));if(null!==te)throw new Se(ge.INVALID_ARGUMENT,te===B.op?`Invalid query. You cannot use more than one '${B.op.toString()}' filter.`:`Invalid query. You cannot use '${B.op.toString()}' filters with '${te.toString()}' filters.`)}(i,F),F}(e._query,0,t,e.firestore._databaseId,this.zc,this.Hc,this.Jc);return new ls(e.firestore,e.converter,function(i,l){const d=i.filters.concat([l]);return new $a(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class LV extends w0{constructor(e,t){super(),this.zc=e,this.Yc=t,this.type="orderBy"}_apply(e){const t=function(r,i,l){if(null!==r.startAt)throw new Se(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new jc(i,l);return function(f,y){if(null===Qw(f)){const D=Jw(f);null!==D&&sR(0,D,y.field)}}(r,d),d}(e._query,this.zc,this.Yc);return new ls(e.firestore,e.converter,function(r,i){const l=r.explicitOrderBy.concat([i]);return new $a(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class XO extends w0{constructor(e,t,r){super(),this.type=e,this.Xc=t,this.Zc=r}_apply(e){return new ls(e.firestore,e.converter,jC(e._query,this.Xc,this.Zc))}}class eR extends w0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=nR(e,this.type,this.ta,this.ea);return new ls(e.firestore,e.converter,(i=t,new $a((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class tR extends w0{constructor(e,t,r){super(),this.type=e,this.ta=t,this.ea=r}_apply(e){const t=nR(e,this.type,this.ta,this.ea);return new ls(e.firestore,e.converter,(i=t,new $a((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function nR(n,e,t,r){if(t[0]=(0,Zt.m9)(t[0]),t[0]instanceof v0)return function(i,l,d,f,y){if(!f)throw new Se(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const D=[];for(const b of Dh(i))if(b.field.isKeyField())D.push(Gw(l,f.key));else{const M=f.data.field(b.field);if(yy(M))throw new Se(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+b.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=b.field.canonicalString();throw new Se(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}D.push(M)}return new Bp(D,y)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Xp(n.firestore);return function(l,d,f,y,D,b){const M=l.explicitOrderBy;if(D.length>M.length)throw new Se(ge.INVALID_ARGUMENT,`Too many arguments provided to ${y}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let R=0;R<D.length;R++){const B=D[R];if(M[R].field.isKeyField()){if("string"!=typeof B)throw new Se(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${y}(), but got a ${typeof B}`);if(!Xw(l)&&-1!==B.indexOf("/"))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${y}() must be a plain document ID, but '${B}' contains a slash.`);const te=l.path.child(Cn.fromString(B));if(!ht.isDocumentKey(te))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${y}() must result in a valid document path, but '${te}' is not because it contains an odd number of segments.`);const se=new ht(te);F.push(Gw(d,se))}else{const te=WO(f,y,B);F.push(te)}}return new Bp(F,b)}(n._query,n.firestore._databaseId,i,e,t,r)}}function rR(n,e,t){if("string"==typeof(t=(0,Zt.m9)(t))){if(""===t)throw new Se(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xw(e)&&-1!==t.indexOf("/"))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Cn.fromString(t));if(!ht.isDocumentKey(r))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Gw(n,new ht(r))}if(t instanceof ir)return Gw(n,t._key);throw new Se(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lT(t)}.`)}function iR(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(ge.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function sR(n,e,t){if(!t.isEqual(e))throw new Se(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class xM{convertValue(e,t="none"){switch(Uc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_h(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw pt()}}convertObject(e,t){const r={};return Lc(e.fields,(i,l)=>{r[i]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new cT(yr(e.latitude),yr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Zw(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Pp(e));default:return null}}convertTimestamp(e){const t=ja(e);return new Yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Cn.fromString(e);Mt(b1(r));const i=new $y(r.get(1),r.get(3)),l=new ht(r.popFirst(5));return i.isEqual(t)||Ur(`Document ${l} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function gT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class qV extends xM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}class oR{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Xp(e)}set(e,t,r){this._verifyNotCommitted();const i=Ph(e,this._firestore),l=gT(i.converter,t,r),d=hT(this._dataReader,"WriteBatch.set",i._key,l,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,E.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const l=Ph(e,this._firestore);let d;return d="string"==typeof(t=(0,Zt.m9)(t))||t instanceof Zc?SM(this._dataReader,"WriteBatch.update",l._key,t,r,i):bM(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(d.toMutation(l._key,E.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ph(e,this._firestore);return this._mutations=this._mutations.concat(new Ht(t._key,E.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ph(n,e){if((n=(0,Zt.m9)(n)).firestore!==e)throw new Se(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class ng extends xM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ir(this.firestore,null,t)}}function aR(n,e,t){n=hn(n,ir);const r=hn(n.firestore,_r),i=gT(n.converter,e,t);return zy(r,[hT(Xp(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,E.none())])}function lR(n,e,t,...r){n=hn(n,ir);const i=hn(n.firestore,_r),l=Xp(i);let d;return d="string"==typeof(e=(0,Zt.m9)(e))||e instanceof Zc?SM(l,"updateDoc",n._key,e,t,r):bM(l,"updateDoc",n._key,e),zy(i,[d.toMutation(n._key,E.exists(!0))])}function uR(n,...e){var t,r,i;n=(0,Zt.m9)(n);let l={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||CM(e[d])||(l=e[d],d++);const f={includeMetadataChanges:l.includeMetadataChanges};if(CM(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let y,D,b;if(n instanceof ir)D=hn(n.firestore,_r),b=Eh(n._key.path),y={next:M=>{e[d]&&e[d](kM(D,n,M))},error:e[d+1],complete:e[d+2]};else{const M=hn(n,ls);D=hn(M.firestore,_r),b=M._query;const F=new ng(D);y={next:R=>{e[d]&&e[d](new Rh(D,F,M,R))},error:e[d+1],complete:e[d+2]},JO(n._query)}return function(M,F,R,B){const te=new oT(B),se=new jA(F,te,R);return M.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return FA(yield Hy(M),se)})),()=>{te.nc(),M.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return VA(yield Hy(M),se)}))}}(hi(D),b,f,y)}function zy(n,e){return function(t,r){const i=new Kr;return t.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function LL(n,e,t){return ZA.apply(this,arguments)}(yield wM(t),r,i)})),i.promise}(hi(n),e)}function kM(n,e,t){const r=t.docs.get(e._key),i=new ng(n);return new Wc(n,i,e._key,r,new tg(t.hasPendingWrites,t.fromCache),e.converter)}class t2 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Xp(e)}get(e){const t=Ph(e,this._firestore),r=new qV(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return pt();const l=i[0];if(l.isFoundDocument())return new v0(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new v0(this._firestore,r,t._key,null,t.converter);throw pt()})}set(e,t,r){const i=Ph(e,this._firestore),l=gT(i.converter,t,r),d=hT(this._dataReader,"Transaction.set",i._key,l,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(e,t,r,...i){const l=Ph(e,this._firestore);let d;return d="string"==typeof(t=(0,Zt.m9)(t))||t instanceof Zc?SM(this._dataReader,"Transaction.update",l._key,t,r,i):bM(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,d),this}delete(e){const t=Ph(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Ph(e,this._firestore),r=new ng(this._firestore);return super.get(e).then(i=>new Wc(this._firestore,r,t._key,i._document,new tg(!1,!1),t.converter))}}function OM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function cR(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function dR(){if(!function RI(){return"undefined"!=typeof atob}())throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Fc=Ba.SDK_VERSION,(0,Ba._registerComponent)(new ip.wA("firestore",(t,{options:r})=>{const i=t.getProvider("app").getImmediate(),l=new _r(i,new zw(t.getProvider("auth-internal")),new MC(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,Ba.registerVersion)($w,"3.4.3",n),(0,Ba.registerVersion)($w,"3.4.3","esm2017")}();class E0{constructor(e){this._delegate=e}static fromBase64String(e){return dR(),new E0(Lu.fromBase64String(e))}static fromUint8Array(e){return cR(),new E0(Lu.fromUint8Array(e))}toBase64(){return dR(),this._delegate.toBase64()}toUint8Array(){return cR(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function RM(n){return function c2(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class d2{enableIndexedDbPersistence(e,t){return function vV(n,e){$O(n=hn(n,_r));const t=hi(n),r=n._freezeSettings(),i=new fM;return HO(t,i,new TO(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function _V(n){$O(n=hn(n,_r));const e=hi(n),t=n._freezeSettings(),r=new fM;return HO(e,r,new XL(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function wV(n){if(n._initialized&&!n._terminated)throw new Se(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Kr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Ee.Z)(function*(){try{yield(t=(0,Ee.Z)(function*(r){if(!ql.Pt())return Promise.resolve();const i=r+"main";yield ql.delete(i)}),function(r){return t.apply(this,arguments)})(sA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class hR{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof $y||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&kp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function fV(n,e,t,r={}){var i;const l=(n=hn(n,m0))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&kp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=Oi.MOCK_USER;else{d=(0,Zt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Se(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Oi(y)}n._authCredentials=new MI(new gy(d,f))}}(this._delegate,e,t,r)}enableNetwork(){return function DV(n){return function iV(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield AO(n),t=yield MO(n);return e.setNetworkEnabled(!0),function(r){const i=Ze(r);return i.Gr.delete(0),p0(i)}(t)}))}(hi(n=hn(n,_r)))}(this._delegate)}disableNetwork(){return function CV(n){return function sV(n){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){const e=yield AO(n),t=yield MO(n);return e.setNetworkEnabled(!1),(r=(0,Ee.Z)(function*(i){const l=Ze(i);l.Gr.add(0),yield Py(l),l.Jr.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(hi(n=hn(n,_r)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,RO("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function EV(n){return function(e){const t=new Kr;return e.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return function jL(n,e){return QA.apply(this,arguments)}(yield wM(e),t)})),t.promise}(hi(n=hn(n,_r)))}(this._delegate)}onSnapshotsInSync(e){return function e2(n,e){return function lV(n,e){const t=new oT(e);return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield Hy(n),i=t,Ze(r).io.add(i),void i.next();var r,i})),()=>{t.nc(),n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return r=yield Hy(n),i=t,void Ze(r).io.delete(i);var r,i}))}}(hi(n=hn(n,_r)),CM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new qy(this,VO(this._delegate,e))}catch(t){throw Vs(t,"collection()","Firestore.collection()")}}doc(e){try{return new qa(this,uT(this._delegate,e))}catch(t){throw Vs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function pV(n,e){if(n=hn(n,m0),DM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ls(n,null,(t=e,new $a(Cn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Vs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function n2(n,e){return function uV(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){const r=yield(i=n,aT(i).then(l=>l.datastore));var i;new nV(n.asyncQueue,r,e,t).run()})),t.promise}(hi(n=hn(n,_r)),t=>e(new t2(n,t)))}(this._delegate,t=>e(new fR(this,t)))}batch(){return hi(this._delegate),new pR(new oR(this._delegate,e=>zy(this._delegate,e)))}loadBundle(e){return function TV(n,e){const t=hi(n=hn(n,_r)),r=new mV;return function cV(n,e,t,r){const i=function(l,d){let f;return f="string"==typeof l?(new TextEncoder).encode(l):l,y=function(y,D){if(y instanceof Uint8Array)return bO(y,D);if(y instanceof ArrayBuffer)return bO(new Uint8Array(y),D);if(y instanceof ReadableStream)return y.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new eV(y,d);var y}(t,f0(e));n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){!function JL(n,e,t){const r=Ze(n);var i;(i=(0,Ee.Z)(function*(l,d,f){try{const y=yield d.getMetadata();if(yield function(F,R){const B=Ze(F),te=Ri(R.createTime);return B.persistence.runTransaction("hasNewerBundle","readonly",se=>B.Ye.getBundleMetadata(se,R.id)).then(se=>!!se&&se.createTime.compareTo(te)>=0)}(l.localStore,y))return yield d.close(),void f._completeWith((F=y,{taskState:"Success",documentsLoaded:F.totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}));f._updateProgress(pO(y));const D=new kL(y,l.localStore,d.k);let b=yield d.Ho();for(;b;){const F=yield D.yo(b);F&&f._updateProgress(F),b=yield d.Ho()}const M=yield D.complete();yield qc(l,M.In,void 0),yield function(F,R){const B=Ze(F);return B.persistence.runTransaction("Save bundle","readwrite",te=>B.Ye.saveBundleMetadata(te,R))}(l.localStore,y),f._completeWith(M.progress)}catch(y){kp("SyncEngine",`Loading bundle failed with ${y}`),f._failWith(y)}var F}),function(l,d,f){return i.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield wM(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function bV(n,e){return function dV(n,e){return n.asyncQueue.enqueue((0,Ee.Z)(function*(){return function(t,r){const i=Ze(t);return i.persistence.runTransaction("Get named query","readonly",l=>i.Ye.getNamedQuery(l,r))}(yield _M(n),e)}))}(hi(n=hn(n,_r)),e).then(t=>t?new ls(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class mT extends xM{constructor(e){super(),this.firestore=e}convertBytes(e){return new E0(new Lu(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return qa.forKey(t,this.firestore,null)}}class fR{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new mT(e)}get(e){const t=ig(e);return this._delegate.get(t).then(r=>new D0(this._firestore,new Wc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=ig(e);return r?(OM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ig(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}}class pR{constructor(e){this._delegate=e}set(e,t,r){const i=ig(e);return r?(OM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const l=ig(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...i),this}delete(e){const t=ig(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new _0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new C0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=rg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let l=i.get(t);return l||(l=new rg(e,new mT(e),t),i.set(t,l)),l}}rg.INSTANCES=new WeakMap;class qa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new qa(t,new ir(t._delegate,r,new ht(e)))}static forKey(e,t,r){return new qa(t,new ir(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new qy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new qy(this.firestore,VO(this._delegate,e))}catch(t){throw Vs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Zt.m9)(e))instanceof ir&&UO(this._delegate,e)}set(e,t){t=OM("DocumentReference.set",t);try{return t?aR(this._delegate,e,t):aR(this._delegate,e)}catch(r){throw Vs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?lR(this._delegate,e):lR(this._delegate,e,t,...r)}catch(i){throw Vs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function JV(n){return zy(hn(n.firestore,_r),[new Ht(n._key,E.none())])}(this._delegate)}onSnapshot(...e){const t=gR(e),r=mR(e,i=>new D0(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return uR(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function WV(n){n=hn(n,ir);const e=hn(n.firestore,_r),t=hi(e),r=new ng(e);return function oV(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,l,d){try{const f=yield function(y,D){const b=Ze(y);return b.persistence.runTransaction("read document","readonly",M=>b.Wn.Rn(M,D))}(i,l);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Se(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const y=Vy(f,`Failed to get document '${l} from cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield _M(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Wc(e,r,n._key,i,new tg(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function GV(n){n=hn(n,ir);const e=hn(n.firestore,_r);return xO(hi(e),n._key,{source:"server"}).then(t=>kM(e,n,t))}(this._delegate):function ZV(n){n=hn(n,ir);const e=hn(n.firestore,_r);return xO(hi(e),n._key).then(t=>kM(e,n,t))}(this._delegate),t.then(r=>new D0(this.firestore,new Wc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new qa(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function Vs(n,e,t){return n.message=n.message.replace(e,t),n}function gR(n){for(const e of n)if("object"==typeof e&&!RM(e))return e;return{}}function mR(n,e){var t,r;let i;return i=RM(n[0])?n[0]:RM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{i.next&&i.next(e(l))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class D0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QO(this._delegate,e._delegate)}}class C0 extends D0{data(e){const t=this._delegate.data(e);return function II(n,e){n||pt()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new mT(e)}where(e,t,r){try{return new Us(this.firestore,Nh(this._delegate,function FV(n,e,t){const r=e,i=pT("where",n);return new PV(i,r,t)}(e,t,r)))}catch(i){throw Vs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,Nh(this._delegate,function VV(n,e="asc"){const t=e,r=pT("orderBy",n);return new LV(r,t)}(e,t)))}catch(r){throw Vs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,Nh(this._delegate,function UV(n){return FO("limit",n),new XO("limit",n,"F")}(e)))}catch(t){throw Vs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,Nh(this._delegate,function BV(n){return FO("limitToLast",n),new XO("limitToLast",n,"L")}(e)))}catch(t){throw Vs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,Nh(this._delegate,function jV(...n){return new eR("startAt",n,!0)}(...e)))}catch(t){throw Vs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,Nh(this._delegate,function HV(...n){return new eR("startAfter",n,!1)}(...e)))}catch(t){throw Vs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,Nh(this._delegate,function $V(...n){return new tR("endBefore",n,!0)}(...e)))}catch(t){throw Vs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,Nh(this._delegate,function zV(...n){return new tR("endAt",n,!1)}(...e)))}catch(t){throw Vs(t,"endAt()","Query.endAt()")}}isEqual(e){return BO(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function YV(n){n=hn(n,ls);const e=hn(n.firestore,_r),t=hi(e),r=new ng(e);return function aV(n,e){const t=new Kr;return n.asyncQueue.enqueueAndForget((0,Ee.Z)(function*(){return(r=(0,Ee.Z)(function*(i,l,d){try{const f=yield eT(i,l,!0),y=new yO(l,f.zn),D=y.Po(f.documents),b=y.applyChanges(D,!1);d.resolve(b.snapshot)}catch(f){const y=Vy(f,`Failed to execute query '${l} against cache`);d.reject(y)}}),function(i,l,d){return r.apply(this,arguments)})(yield _M(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate):"server"===(null==e?void 0:e.source)?function QV(n){n=hn(n,ls);const e=hn(n.firestore,_r),t=hi(e),r=new ng(e);return kO(t,n._query,{source:"server"}).then(i=>new Rh(e,r,n,i))}(this._delegate):function KV(n){n=hn(n,ls);const e=hn(n.firestore,_r),t=hi(e),r=new ng(e);return JO(n._query),kO(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate),t.then(r=>new NM(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=gR(e),r=mR(e,i=>new NM(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return uR(this._delegate,t,r)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}class f2{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new C0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class NM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new C0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new f2(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new C0(this._firestore,r))})}isEqual(e){return QO(this._delegate,e._delegate)}}class qy extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new qa(this.firestore,e):null}doc(e){try{return new qa(this.firestore,void 0===e?uT(this._delegate):uT(this._delegate,e))}catch(t){throw Vs(t,"doc()","CollectionReference.doc()")}}add(e){return function XV(n,e){const t=hn(n.firestore,_r),r=uT(n),i=gT(n.converter,e);return zy(t,[hT(Xp(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,E.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new qa(this.firestore,t))}isEqual(e){return UO(this._delegate,e._delegate)}withConverter(e){return new qy(this.firestore,this._delegate.withConverter(e?rg.getInstance(this.firestore,e):null))}}function ig(n){return hn(n,ir)}class PM{constructor(...e){this._delegate=new Zc(...e)}static documentId(){return new PM(Qr.keyField().canonicalString())}isEqual(e){return(e=(0,Zt.m9)(e))instanceof Zc&&this._delegate._internalPath.isEqual(e._internalPath)}}class sg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function i2(){return new TM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new sg(e)}static delete(){const e=function r2(){return new y0("deleteField")}();return e._methodName="FieldValue.delete",new sg(e)}static arrayUnion(...e){const t=function s2(...n){return new MV("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new sg(t)}static arrayRemove(...e){const t=function o2(...n){return new xV("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new sg(t)}static increment(e){const t=function a2(n){return new kV("increment",n)}(e);return t._methodName="FieldValue.increment",new sg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const p2={Firestore:hR,GeoPoint:cT,Timestamp:Yr,Blob:E0,Transaction:fR,WriteBatch:pR,DocumentReference:qa,DocumentSnapshot:D0,Query:Us,QueryDocumentSnapshot:C0,QuerySnapshot:NM,CollectionReference:qy,FieldPath:PM,FieldValue:sg,setLogLevel:function h2(n){!function Xk(n){jo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function yR(n,e){return e?t=>t.pipe(yR((r,i)=>(0,Xi.Xf)(n(r,i)).pipe((0,Qe.U)((l,d)=>e(r,l,i,d))))):(0,Yn.e)((t,r)=>{let i=0,l=null,d=!1;t.subscribe(new Fn.Q(r,f=>{l||(l=new Fn.Q(r,void 0,()=>{l=null,d&&r.complete()}),(0,Xi.Xf)(n(f,i++)).subscribe(l))},()=>{d=!0,!l&&r.complete()}))})}!function m2(n){(function g2(n,e){n.INTERNAL.registerComponent(new ip.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},p2)))})(n,(e,t)=>new hR(e,t,new d2)),n.registerVersion("@firebase/firestore-compat","0.1.12")}(WS.Z);class y2{constructor(){}}var yT=N(5363);function vR(n,e,t){var r,i;let l,d=!1;return n&&"object"==typeof n?(l=null!==(r=n.bufferSize)&&void 0!==r?r:1/0,e=null!==(i=n.windowTime)&&void 0!==i?i:1/0,d=!!n.refCount,t=n.scheduler):l=null!=n?n:1/0,(0,Hi.B)({connector:()=>new tc(l,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}var FM=N(9468),Pi=N(5813),Zl=N(2011);N(5867);const wR=new Map,D2={activated:!1,tokenObservers:[]},C2={initialized:!1,enabled:!1};function Fi(n){return wR.get(n)||D2}function Wl(n,e){wR.set(n,e)}function _T(){return C2}class A2{constructor(e,t,r,i,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=i,i>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Ee.Z)(function*(){t.stop();try{t.pending=new Zt.BH,yield function M2(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Zt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Bs=new Zt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function DR(n){if(!Fi(n).activated)throw Bs.create("use-before-activation",{appName:n.name})}function BM(n,e){return jM.apply(this,arguments)}function jM(){return jM=(0,Ee.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let d,f;try{d=yield fetch(n,l)}catch(M){throw Bs.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw Bs.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(M){throw Bs.create("fetch-parse-error",{originalErrorMessage:M.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Bs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const D=1e3*Number(y[1]),b=Date.now();return{token:f.attestationToken,expireTimeMillis:b+D,issuedAtTimeMillis:b}}),jM.apply(this,arguments)}function N2(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const T0="firebase-app-check-store";let DT=null;function TR(){return DT||(DT=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Bs.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(T0,{keyPath:"compositeKey"})}}catch(t){e(Bs.create("storage-open",{originalErrorMessage:t.message}))}}),DT)}function HM(){return HM=(0,Ee.Z)(function*(n,e){const r=(yield TR()).transaction(T0,"readwrite"),l=r.objectStore(T0).put({compositeKey:n,value:e});return new Promise((d,f)=>{l.onsuccess=y=>{d()},r.onerror=y=>{var D;f(Bs.create("storage-set",{originalErrorMessage:null===(D=y.target.error)||void 0===D?void 0:D.message}))}})}),HM.apply(this,arguments)}const b0=new Ll.Yd("@firebase/app-check");function AR(n,e){return(0,Zt.hl)()?function V2(n,e){return function bR(n,e){return HM.apply(this,arguments)}(function IR(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{b0.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function MR(){return _T().enabled}function xR(){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,Ee.Z)(function*(){const n=_T();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ZM.apply(this,arguments)}const z2={error:"UNKNOWN_ERROR"};function q2(n){return Zt.US.encodeString(JSON.stringify(n),!1)}function CT(n){return WM.apply(this,arguments)}function WM(){return WM=(0,Ee.Z)(function*(n,e=!1){const t=n.app;DR(t);const r=Fi(t);let l,i=r.token;if(!i){const y=yield r.cachedTokenPromise;y&&TT(y)&&(i=y)}if(!e&&i&&TT(i))return{token:i.token};let f,d=!1;if(MR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=BM(N2(t,yield xR()),n.platformLoggerProvider).then(D=>(r.exchangeTokenPromise=void 0,D)),d=!0);const y=yield r.exchangeTokenPromise;return yield AR(t,y),Wl(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(y=>(r.exchangeTokenPromise=void 0,y)),d=!0),i=yield r.exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?b0.warn(y.message):b0.error(y),l=y}return i?(f={token:i.token},Wl(t,Object.assign(Object.assign({},r),{token:i})),yield AR(t,i)):f=W2(l),d&&OR(t,f),f}),WM.apply(this,arguments)}function KM(n,e){const t=Fi(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Wl(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function kR(n){const{app:e}=n,t=Fi(e);let r=t.tokenRefresher;r||(r=function Z2(n){const{app:e}=n;return new A2((0,Ee.Z)(function*(){let r;if(r=Fi(e).token?yield CT(n,!0):yield CT(n),r.error)throw r.error}),()=>!0,()=>{const t=Fi(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Wl(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function OR(n,e){const t=Fi(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(i){}}function TT(n){return n.expireTimeMillis-Date.now()>0}function W2(n){return{token:q2(z2),error:n}}class G2{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Fi(this.app);for(const t of e)KM(this.app,t.next);return Promise.resolve()}}const BR="app-check-internal";!function lU(){(0,Ba._registerComponent)(new ip.wA("app-check",n=>function K2(n,e){return new G2(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BR).initialize()})),(0,Ba._registerComponent)(new ip.wA(BR,n=>function Y2(n){return{getToken:e=>CT(n,e),addTokenListener:e=>function GM(n,e,t,r){const{app:i}=n,l=Fi(i),d={next:t,error:r,type:e};if(Wl(i,Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,d]})),l.token&&TT(l.token)){const f=l.token;Promise.resolve().then(()=>{t({token:f.token}),kR(n)}).catch(()=>{})}l.cachedTokenPromise.then(()=>kR(n))}(n,"INTERNAL",e),removeTokenListener:e=>KM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ba.registerVersion)("@firebase/app-check","0.5.3")}();class XM{constructor(){return(0,Pi.vb)("app-check")}}"undefined"!=typeof window&&window;const HR=new a.OlP("angularfire2.auth.use-emulator"),$R=new a.OlP("angularfire2.auth.settings"),zR=new a.OlP("angularfire2.auth.tenant-id"),qR=new a.OlP("angularfire2.auth.langugage-code"),ZR=new a.OlP("angularfire2.auth.use-device-language"),WR=new a.OlP("angularfire.auth.persistence"),GR=(n,e,t,r,i,l,d,f)=>(0,Zl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,l&&y.useDeviceLanguage(),d)for(const[D,b]of Object.entries(d))y.settings[D]=b;return f&&y.setPersistence(f),y},[t,r,i,l,d,f]);let S0=(()=>{class n{constructor(t,r,i,l,d,f,y,D,b,M,F,R){const B=new xn.x,te=_t(void 0).pipe((0,yT.Q)(d.outsideAngular),ur(()=>l.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,7264)))),(0,Qe.U)(()=>(0,Zl.on)(t,l,r)),(0,Qe.U)(se=>GR(se,l,f,D,b,M,y,F)),vR({bufferSize:1,refCount:!1}));if(qr(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=_t(null);else{te.pipe(_c()).subscribe();const De=te.pipe(ur(Pe=>Pe.getRedirectResult().then(ct=>ct,()=>null)),Pi.iC,vR({bufferSize:1,refCount:!1})),Re=te.pipe(ur(Pe=>new wn.y(ct=>({unsubscribe:l.runOutsideAngular(()=>Pe.onAuthStateChanged(Ft=>ct.next(Ft),Ft=>ct.error(Ft),()=>ct.complete()))})))),Be=te.pipe(ur(Pe=>new wn.y(ct=>({unsubscribe:l.runOutsideAngular(()=>Pe.onIdTokenChanged(Ft=>ct.next(Ft),Ft=>ct.error(Ft),()=>ct.complete()))}))));this.authState=De.pipe(Zr(Re),(0,FM.R)(d.outsideAngular),(0,yT.Q)(d.insideAngular)),this.user=De.pipe(Zr(Be),(0,FM.R)(d.outsideAngular),(0,yT.Q)(d.insideAngular)),this.idToken=this.user.pipe(ur(Pe=>Pe?(0,nn.D)(Pe.getIdToken()):_t(null))),this.idTokenResult=this.user.pipe(ur(Pe=>Pe?(0,nn.D)(Pe.getIdTokenResult()):_t(null))),this.credential=(0,ts.T)(De,B,this.authState.pipe(Jt(Pe=>!Pe))).pipe((0,Qe.U)(Pe=>(null==Pe?void 0:Pe.user)?Pe:null),(0,FM.R)(d.outsideAngular),(0,yT.Q)(d.insideAngular))}return(0,Zl.pX)(this,te,l,{spy:{apply:(se,De,Re)=>{(se.startsWith("signIn")||se.startsWith("createUser"))&&Re.then(Be=>B.next(Be))}}})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Zl.Dh),a.LFG(Zl.xv,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Pi.HU),a.LFG(HR,8),a.LFG($R,8),a.LFG(zR,8),a.LFG(qR,8),a.LFG(ZR,8),a.LFG(WR,8),a.LFG(XM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),pU=(()=>{class n{constructor(){Fl.Z.registerVersion("angularfire",Pi.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[S0]}),n})(),Fh=(()=>{class n{constructor(t){this.afAuth=t,this.currentUserSubject=new Pn(null),this.currentUserObject=new y2,this.currentUser=this.currentUserSubject.asObservable()}getUser(){return this.afAuth.idToken.pipe((0,Pr.q)(1),yR(t=>(this.currentUserObject.accesToken=t,this.afAuth.authState.pipe((0,Qe.U)(r=>(r&&(this.currentUserObject.email=r.email,this.currentUserObject.uid=r.uid,this.currentUserSubject.next(this.currentUserObject)),r))))))}get currentUserValue(){return this.currentUserSubject.value}doGoogleLogin(){return new Promise((t,r)=>{let i=new Fl.Z.auth.GoogleAuthProvider;i.addScope("profile"),i.addScope("email"),this.afAuth.signInWithPopup(i).then(l=>{t(l)})})}doRegister(t){return new Promise((r,i)=>{Fl.Z.auth().createUserWithEmailAndPassword(t.email,t.password).then(l=>{r(l)},l=>i(l))})}doLogin(t){return new Promise((r,i)=>{Fl.Z.auth().signInWithEmailAndPassword(t.email,t.password).then(l=>{r(l)},l=>i(l))})}doLogout(){return new Promise((t,r)=>{this.afAuth.signOut().then(i=>{t(i)},i=>r(i))})}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(S0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tx=(()=>{class n{constructor(t,r){this.http=t,this.authService=r}getEvents(){var t;return this.http.get(`${Si_apiUrl}/PlannerApp/${null===(t=this.authService.currentUserValue)||void 0===t?void 0:t.uid}.json`)}addEvent(t){var r;return this.http.post(`${Si_apiUrl}/PlannerApp/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}.json`,t)}removeEvent(t){var r;this.http.delete(`${Si_apiUrl}/PlannerApp/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}/${t}.json`).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rm),a.LFG(Fh))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function gU(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"div"),a.TgZ(1,"div",14),a.TgZ(2,"div",15),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.setView(i.CalendarView.Month)}),a._uU(3," Miesi\u0105c "),a.qZA(),a.TgZ(4,"div",15),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.setView(i.CalendarView.Week)}),a._uU(5," Tydzie\u0144 "),a.qZA(),a.TgZ(6,"div",15),a.NdJ("click",function(){a.CHM(t);const i=a.oxw();return i.setView(i.CalendarView.Day)}),a._uU(7," Dzie\u0144 "),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=a.oxw();a.xp6(2),a.ekj("active",t.view===t.CalendarView.Month),a.xp6(2),a.ekj("active",t.view===t.CalendarView.Week),a.xp6(2),a.ekj("active",t.view===t.CalendarView.Day)}}function mU(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"mwl-calendar-month-view",16),a.NdJ("dayClicked",function(i){return a.CHM(t),a.oxw().dayClicked(i.day)}),a.qZA()}if(2&n){const t=a.oxw();a.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("activeDayIsOpen",t.activeDayIsOpen)}}function yU(n,e){if(1&n&&a._UZ(0,"mwl-calendar-week-view",17),2&n){const t=a.oxw();a.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)("daysInWeek",t.daysInWeek)}}function vU(n,e){if(1&n&&a._UZ(0,"mwl-calendar-day-view",18),2&n){const t=a.oxw();a.Q6J("viewDate",t.viewDate)("events",t.events)("refresh",t.refresh)}}const _U=function(){return["/calendar/form"]},wU={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}};let EU=(()=>{class n{constructor(t,r,i,l){this.breakpointObserver=t,this.cd=r,this.eventService=i,this.route=l,this.view=lo.Month,this.daysInWeek=7,this.menu=null,this.wrap=null,this.destroy$=new xn.x,this.showMenu=!0,this.isToday=!0,this.CalendarView=lo,this.viewDate=new Date,this.eventList={},this.refresh=new xn.x,this.events=[],this.activeDayIsOpen=!1}setDayView(t){this.isToday=t}removeEvent(t){console.log(t),this.eventService.removeEvent(t)}populateEvents(){for(const t of Object.keys(this.eventList))this.events.push({start:Ar(this.eventList[t].eventDate),end:xv(Ar(this.eventList[t].eventDate),this.eventList[t].eventDuration),title:this.eventList[t].eventName,color:wU.blue,allDay:!1})}dayClicked({date:t,events:r}){yb(t,this.viewDate)&&(this.activeDayIsOpen=!(mb(this.viewDate,t)&&!0===this.activeDayIsOpen||0===r.length),this.viewDate=t)}setView(t){this.view=t}closeOpenMonthViewDay(){this.activeDayIsOpen=!1}ngOnInit(){this.wrap=document.getElementById("button-wrap"),this.route.data.subscribe(r=>{this.eventList=r.events,this.eventList&&this.populateEvents()});const t={small:{breakpoint:"(max-width: 700px)",view:lo.Day,wrap:"column",menu:!1,daysInWeek:2},medium:{breakpoint:"(max-width: 900px)",view:lo.Week,menu:!0,wrap:"row",daysInWeek:4},large:{breakpoint:"(min-width: 950px)",view:lo.Month,wrap:"row",menu:!0,daysInWeek:7}};this.breakpointObserver.observe(Object.values(t).map(({breakpoint:r})=>r)).pipe(Nr(this.destroy$)).subscribe(r=>{const i=Object.values(t).find(({breakpoint:l})=>!!r.breakpoints[l]);i&&(console.log(i),this.daysInWeek=i.daysInWeek,this.showMenu=i.menu,this.wrap.style.flexDirection=i.wrap,this.view=i.view),this.cd.markForCheck()})}ngOnDestroy(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(RS),a.Y36(a.sBO),a.Y36(tx),a.Y36(Tu))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-calendar"]],decls:22,vars:19,consts:[["id","calendar-container"],[1,"date-mode"],[4,"ngIf"],[1,"calendar-controls"],[1,"blocks"],["mwlCalendarPreviousView","",1,"btn","btn-primary",3,"view","viewDate","click","viewDateChange"],["mwlCalendarToday","",1,"btn","btn-primary",3,"viewDate","click","viewDateChange"],["mwlCalendarNextView","",1,"btn","btn-primary",3,"view","viewDate","click","viewDateChange"],[1,"btn","btn-primary","button-add",3,"routerLink"],[1,"calendar-wrapper"],[3,"ngSwitch"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked",4,"ngSwitchCase"],[3,"viewDate","events","refresh","daysInWeek",4,"ngSwitchCase"],[3,"viewDate","events","refresh",4,"ngSwitchCase"],[1,"btn-group","blocks"],[1,"btn","btn-secondary",3,"click"],[3,"viewDate","events","refresh","activeDayIsOpen","dayClicked"],[3,"viewDate","events","refresh","daysInWeek"],[3,"viewDate","events","refresh"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div"),a.TgZ(3,"h3"),a._uU(4),a.ALo(5,"calendarDate"),a.qZA(),a.qZA(),a.YNc(6,gU,8,6,"div",2),a.qZA(),a.TgZ(7,"div",3),a.TgZ(8,"div",4),a.TgZ(9,"div",5),a.NdJ("click",function(){return r.setDayView(!1)})("viewDateChange",function(l){return r.viewDate=l})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),a._uU(10," Poprzedni "),a.qZA(),a.TgZ(11,"div",6),a.NdJ("click",function(){return r.setDayView(!0)})("viewDateChange",function(l){return r.viewDate=l}),a._uU(12," Dzisiaj "),a.qZA(),a.TgZ(13,"div",7),a.NdJ("click",function(){return r.setDayView(!1)})("viewDateChange",function(l){return r.viewDate=l})("viewDateChange",function(){return r.closeOpenMonthViewDay()}),a._uU(14," Nast\u0119pny "),a.qZA(),a.qZA(),a.TgZ(15,"a",8),a._uU(16,"Dodaj wydarzenie"),a.qZA(),a.qZA(),a.TgZ(17,"div",9),a.TgZ(18,"div",10),a.YNc(19,mU,1,4,"mwl-calendar-month-view",11),a.YNc(20,yU,1,4,"mwl-calendar-week-view",12),a.YNc(21,vU,1,3,"mwl-calendar-day-view",13),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(4),a.Oqu(a.Dn7(5,14,r.viewDate,r.view+"ViewTitle","en")),a.xp6(2),a.Q6J("ngIf",r.showMenu),a.xp6(3),a.Q6J("view",r.view)("viewDate",r.viewDate),a.xp6(2),a.ekj("active",r.isToday),a.Q6J("viewDate",r.viewDate),a.xp6(2),a.Q6J("view",r.view)("viewDate",r.viewDate),a.xp6(2),a.Q6J("routerLink",a.DdM(18,_U)),a.xp6(3),a.Q6J("ngSwitch",r.view),a.xp6(1),a.Q6J("ngSwitchCase",r.CalendarView.Month),a.xp6(1),a.Q6J("ngSwitchCase",r.CalendarView.Week),a.xp6(1),a.Q6J("ngSwitchCase",r.CalendarView.Day))},directives:[un,K0,Y0,Av,Uo,mi,ri,sb,tE,cb],pipes:[kf],styles:["pre[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:15px}#calendar-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;text-align:center;padding:50px 100px 0 300px;display:grid}.calendar-wrapper[_ngcontent-%COMP%]{margin-top:16px}.blocks[_ngcontent-%COMP%]:not(.btn-group)   .btn[_ngcontent-%COMP%]{margin-right:4px}.date-mode[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.calendar-controls[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}"]}),n})();var KR=N(9635);const nx=(0,Qe.U)(n=>!!n);let Zo=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,l)=>{const d=i.data.authGuardPipe||(()=>nx);return this.auth.user.pipe((0,Pr.q)(1),d(i,l),(0,Qe.U)(f=>"boolean"==typeof f?f:Array.isArray(f)?this.router.createUrlTree(f):this.router.parseUrl(f)))}}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Hn),a.LFG(S0))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),YR=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n}),n})(),og=(()=>{class n extends YR{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,features:[a.qOj]}),n})();const Vu=new a.OlP("NgValueAccessor"),IU={provide:Vu,useExisting:(0,a.Gpc)(()=>Uu),multi:!0},MU=new a.OlP("CompositionEventMode");let Uu=(()=>{class n extends YR{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function AU(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.Qsj),a.Y36(a.SBq),a.Y36(MU,8))},n.\u0275dir=a.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[a._Bn([IU]),a.qOj]}),n})();function Lh(n){return null==n||0===n.length}function JR(n){return null!=n&&"number"==typeof n.length}const us=new a.OlP("NgValidators"),Vh=new a.OlP("NgAsyncValidators"),xU=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wr{static min(e){return function XR(n){return e=>{if(Lh(e.value)||Lh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function eN(n){return e=>{if(Lh(e.value)||Lh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return tN(e)}static requiredTrue(e){return function nN(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function rN(n){return Lh(n.value)||xU.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function iN(n){return e=>Lh(e.value)||!JR(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function sN(n){return e=>JR(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function oN(n){if(!n)return I0;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Lh(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return hN(e)}static composeAsync(e){return fN(e)}}function tN(n){return Lh(n.value)?{required:!0}:null}function I0(n){return null}function aN(n){return null!=n}function lN(n){const e=(0,a.QGY)(n)?(0,nn.D)(n):n;return(0,a.CqO)(e),e}function uN(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function cN(n,e){return e.map(t=>t(n))}function dN(n){return n.map(e=>function kU(n){return!n.validate}(e)?e:t=>e.validate(t))}function hN(n){if(!n)return null;const e=n.filter(aN);return 0==e.length?null:function(t){return uN(cN(t,e))}}function rx(n){return null!=n?hN(dN(n)):null}function fN(n){if(!n)return null;const e=n.filter(aN);return 0==e.length?null:function(t){return function bU(...n){const e=(0,Kn.jO)(n),{args:t,keys:r}=no(n),i=new wn.y(l=>{const{length:d}=t;if(!d)return void l.complete();const f=new Array(d);let y=d,D=d;for(let b=0;b<d;b++){let M=!1;(0,Xi.Xf)(t[b]).subscribe(new Fn.Q(l,F=>{M||(M=!0,D--),f[b]=F},()=>y--,void 0,()=>{(!y||!M)&&(D||l.next(r?vl(r,f):f),l.complete())}))}});return e?i.pipe(yl(e)):i}(cN(t,e).map(lN)).pipe((0,Qe.U)(uN))}}function ix(n){return null!=n?fN(dN(n)):null}function pN(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function gN(n){return n._rawValidators}function mN(n){return n._rawAsyncValidators}function sx(n){return n?Array.isArray(n)?n:[n]:[]}function ST(n,e){return Array.isArray(n)?n.includes(e):n===e}function yN(n,e){const t=sx(e);return sx(n).forEach(i=>{ST(t,i)||t.push(i)}),t}function vN(n,e){return sx(e).filter(t=>!ST(n,t))}class _N{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=rx(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ix(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Uh extends _N{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class js extends _N{get formDirective(){return null}get path(){return null}}class wN{constructor(e){this._cd=e}is(e){var t,r,i;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[e])}}let Bh=(()=>{class n extends wN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Uh,2))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[a.qOj]}),n})(),jh=(()=>{class n extends wN{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(js,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&a.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[a.qOj]}),n})();function A0(n,e){lx(n,e),e.valueAccessor.writeValue(n.value),function UU(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&DN(n,e)})}(n,e),function jU(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function BU(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&DN(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function VU(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function MT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),kT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function xT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function lx(n,e){const t=gN(n);null!==e.validator?n.setValidators(pN(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=mN(n);null!==e.asyncValidator?n.setAsyncValidators(pN(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();xT(e._rawValidators,i),xT(e._rawAsyncValidators,i)}function kT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=gN(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.validator);l.length!==i.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const i=mN(n);if(Array.isArray(i)&&i.length>0){const l=i.filter(d=>d!==e.asyncValidator);l.length!==i.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return xT(e._rawValidators,r),xT(e._rawAsyncValidators,r),t}function DN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function OT(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const M0="VALID",RT="INVALID",Zy="PENDING",x0="DISABLED";function hx(n){return(px(n)?n.validators:n)||null}function bN(n){return Array.isArray(n)?rx(n):n||null}function fx(n,e){return(px(e)?e.asyncValidators:n)||null}function SN(n){return Array.isArray(n)?ix(n):n||null}function px(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const gx=n=>n instanceof Er,NT=n=>n instanceof Za,IN=n=>n instanceof kN;function AN(n){return gx(n)?n.value:n.getRawValue()}function MN(n,e){const t=NT(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new a.vHH(1e3,"");if(!r[e])throw new a.vHH(1001,"")}function xN(n,e){NT(n),n._forEachChild((r,i)=>{if(void 0===e[i])throw new a.vHH(1002,"")})}class mx{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=bN(this._rawValidators),this._composedAsyncValidatorFn=SN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===M0}get invalid(){return this.status===RT}get pending(){return this.status==Zy}get disabled(){return this.status===x0}get enabled(){return this.status!==x0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=bN(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=SN(e)}addValidators(e){this.setValidators(yN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vN(e,this._rawAsyncValidators))}hasValidator(e){return ST(this._rawValidators,e)}hasAsyncValidator(e){return ST(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Zy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=x0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=M0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===M0||this.status===Zy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?x0:M0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Zy,this._hasOwnPendingAsyncValidator=!0;const t=lN(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function qU(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(i=>{r=NT(r)?r.controls.hasOwnProperty(i)?r.controls[i]:null:IN(r)&&r.at(i)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new a.vpe,this.statusChanges=new a.vpe}_calculateStatus(){return this._allControlsDisabled()?x0:this.errors?RT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zy)?Zy:this._anyControlsHaveStatus(RT)?RT:M0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){px(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Er extends mx{constructor(e=null,t,r){super(hx(t),fx(r,t)),this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Za extends mx{constructor(e,t,r){super(hx(t),fx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){xN(this,e),Object.keys(e).forEach(r=>{MN(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=AN(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,l)=>{r=t(r,i,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class kN extends mx{constructor(e,t,r){super(hx(t),fx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){xN(this,e),e.forEach((r,i)=>{MN(this,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>AN(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let Hh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const KU={provide:Vu,useExisting:(0,a.Gpc)(()=>PT),multi:!0};let PT=(()=>{class n extends og{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=a.n5z(n)))(r||n)}}(),n.\u0275dir=a.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&a.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[a._Bn([KU]),a.qOj]}),n})(),FN=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({}),n})();const vx=new a.OlP("NgModelWithFormControlWarning"),eB={provide:js,useExisting:(0,a.Gpc)(()=>Bu)};let Bu=(()=>{class n extends js{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new a.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(kT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return A0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){MT(t.control||null,t,!1),OT(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function TN(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(MT(r||null,t),gx(i)&&(A0(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function CN(n,e){lx(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function HU(n,e){return kT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){lx(this.form,this),this._oldForm&&kT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(us,10),a.Y36(Vh,10))},n.\u0275dir=a.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&a.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[a._Bn([eB]),a.qOj,a.TTD]}),n})();const rB={provide:Uh,useExisting:(0,a.Gpc)(()=>Gc)};let Gc=(()=>{class n extends Uh{constructor(t,r,i,l,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new a.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function cx(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(l=>{l.constructor===Uu?t=l:function zU(n){return Object.getPrototypeOf(n.constructor)===og}(l)?r=l:i=l}),i||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function ux(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function AT(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(a.Y36(js,13),a.Y36(us,10),a.Y36(Vh,10),a.Y36(Vu,10),a.Y36(vx,8))},n.\u0275dir=a.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[a._Bn([rB]),a.qOj,a.TTD]}),n})();const hB={provide:us,useExisting:(0,a.Gpc)(()=>ag),multi:!0};let ag=(()=>{class n{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?tN(t):null}registerOnValidatorChange(t){this._onChange=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=a.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&a.uIk("required",r.required?"":null)},inputs:{required:"required"},features:[a._Bn([hB])]}),n})(),vB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[FN]]}),n})(),JN=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:vx,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[vB]}),n})(),XN=(()=>{class n{group(t,r=null){const i=this._reduceControls(t);let f,l=null,d=null;return null!=r&&(function _B(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,d=null!=r.asyncValidators?r.asyncValidators:null,f=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,d=null!=r.asyncValidator?r.asyncValidator:null)),new Za(i,{asyncValidators:d,updateOn:f,validators:l})}control(t,r,i){return new Er(t,r,i)}array(t,r,i){const l=t.map(d=>this._createControl(d));return new kN(l,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return gx(t)||NT(t)||IN(t)?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:JN}),n})();function wB(n,e){1&n&&(a.TgZ(0,"span"),a._uU(1,"Nieprawid\u0142owy adres email"),a.qZA())}function EB(n,e){1&n&&(a.TgZ(0,"span",16),a._uU(1,"Prosz\u0119 poda\u0107 has\u0142o"),a.qZA())}function DB(n,e){if(1&n&&(a.TgZ(0,"span",16),a._uU(1),a.qZA()),2&n){const t=a.oxw();a.xp6(1),a.Oqu(t.message)}}const CB=function(){return["/register"]};let TB=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.loginForm=new Za({email:new Er(null,[wr.required,wr.email]),password:new Er(null,wr.required)})}tryLogin(t){this.loginForm.valid&&this.authService.doLogin(t).then(r=>{this.router.navigate([""])},r=>{this.message="Nieprawid\u0142owe has\u0142o lub email"})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Fh),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-login"]],decls:22,vars:6,consts:[[1,"background"],[1,"shadow"],[1,"main"],[1,"main-left"],[1,"main-left-text"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","formControlName","email","placeholder","Email","required","",1,"form-control"],[4,"ngIf"],["type","password","formControlName","password","placeholder","Has\u0142o","required","",1,"form-control"],["class","error-msg",4,"ngIf"],["type","submit",1,"btn","btn-default","button-submit"],[1,"links"],[3,"routerLink"],[1,"main-right"],["src","assets/images/login.png",1,"image"],[1,"error-msg"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"p",4),a._uU(5,"WITAJ"),a.qZA(),a.TgZ(6,"form",5),a.NdJ("ngSubmit",function(){return r.tryLogin(r.loginForm.value)}),a.TgZ(7,"div",6),a._UZ(8,"input",7),a.YNc(9,wB,2,0,"span",8),a.qZA(),a.TgZ(10,"div",6),a._UZ(11,"input",9),a.YNc(12,EB,2,0,"span",10),a.qZA(),a.TgZ(13,"button",11),a._uU(14,"ZALOGUJ"),a.qZA(),a.YNc(15,DB,2,1,"span",10),a.qZA(),a.TgZ(16,"div",12),a.TgZ(17,"a",13),a.TgZ(18,"p"),a._uU(19,"Zarejestruj"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(20,"div",14),a._UZ(21,"img",15),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){let i,l;a.xp6(6),a.Q6J("formGroup",r.loginForm),a.xp6(3),a.Q6J("ngIf",!(null!=(i=r.loginForm.get("email"))&&i.valid)&&(null==(i=r.loginForm.get("email"))?null:i.touched)),a.xp6(3),a.Q6J("ngIf",!(null!=(l=r.loginForm.get("password"))&&l.valid)&&(null==(l=r.loginForm.get("password"))?null:l.touched)),a.xp6(3),a.Q6J("ngIf",r.message),a.xp6(2),a.Q6J("routerLink",a.DdM(5,CB))}},directives:[Hh,jh,Bu,Uu,Bh,Gc,ag,un,Uo],styles:[".background[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;padding:0;background-image:url(/assets/images/bg.png);background-repeat:no-repeat;background-size:cover;display:grid}.shadow[_ngcontent-%COMP%]{margin:auto;height:600px;width:900px;padding:20px;background-color:#0003}.main[_ngcontent-%COMP%]{margin:auto;height:560px;width:860px;background-color:#fff}.main-left[_ngcontent-%COMP%]{float:left;height:560px;width:430px;background-color:#00a2ff;padding:90px 70px 0;position:relative}.main-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2em}.main-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;margin-top:20px;border-radius:25px}.button-submit[_ngcontent-%COMP%]{width:290px;height:50px;border-radius:25px;background-color:#6f6;color:#fff;font-weight:700;margin-top:20px;margin-bottom:10px}.links[_ngcontent-%COMP%]{height:27px;width:290px;font-size:8px;position:absolute;margin-top:80px}.main-right[_ngcontent-%COMP%]{float:left;height:560px;width:430px;background-color:#fff;display:grid}.image[_ngcontent-%COMP%]{height:250px;margin:auto}"]}),n})();function bB(n,e){1&n&&(a.TgZ(0,"span",15),a._uU(1,"Nieprawid\u0142owy adres email"),a.qZA())}function SB(n,e){1&n&&(a.TgZ(0,"span",15),a._uU(1,"Has\u0142o nie mo\u017ce mie\u0107 mniej ni\u017c 6 znak\xf3w"),a.qZA())}const IB=function(){return["/login"]};let AB=(()=>{class n{constructor(t,r){this.authService=t,this.router=r,this.registerForm=new Za({email:new Er(null,[wr.required,wr.email]),password:new Er(null,[wr.required,wr.minLength(6)])})}tryRegister(t){this.registerForm.valid&&this.authService.doRegister(t).then(r=>{console.log(r),this.router.navigate(["/"])},r=>{console.log(r),alert("Wyst\u0105pi\u0142 problem podczas po\u0142\u0105czenia")})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Fh),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-register"]],decls:21,vars:5,consts:[[1,"background"],[1,"shadow"],[1,"main"],[1,"main-left"],[1,"main-left-text"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","email","formControlName","email","placeholder","Email","required","",1,"form-control"],["class","error-msg",4,"ngIf"],["type","password","formControlName","password","placeholder","Has\u0142o","required","",1,"form-control"],["type","submit",1,"btn","btn-default","button-submit"],[1,"linksr"],[3,"routerLink"],[1,"main-right"],["src","assets/images/register.png",1,"image"],[1,"error-msg"]],template:function(t,r){if(1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"div",3),a.TgZ(4,"p",4),a._uU(5,"REJESTRACJA"),a.qZA(),a.TgZ(6,"form",5),a.NdJ("ngSubmit",function(){return r.tryRegister(r.registerForm.value)}),a.TgZ(7,"div",6),a._UZ(8,"input",7),a.YNc(9,bB,2,0,"span",8),a.qZA(),a.TgZ(10,"div",6),a._UZ(11,"input",9),a.YNc(12,SB,2,0,"span",8),a.qZA(),a.TgZ(13,"button",10),a._uU(14,"ZAREJESTRUJ"),a.qZA(),a.qZA(),a.TgZ(15,"div",11),a.TgZ(16,"a",12),a.TgZ(17,"p"),a._uU(18,"Masz ju\u017c konto? Zaloguj si\u0119"),a.qZA(),a.qZA(),a.qZA(),a.qZA(),a.TgZ(19,"div",13),a._UZ(20,"img",14),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t){let i,l;a.xp6(6),a.Q6J("formGroup",r.registerForm),a.xp6(3),a.Q6J("ngIf",!(null!=(i=r.registerForm.get("email"))&&i.valid)&&(null==(i=r.registerForm.get("email"))?null:i.touched)),a.xp6(3),a.Q6J("ngIf",!(null!=(l=r.registerForm.get("password"))&&l.valid)&&(null==(l=r.registerForm.get("password"))?null:l.touched)),a.xp6(4),a.Q6J("routerLink",a.DdM(4,IB))}},directives:[Hh,jh,Bu,Uu,Bh,Gc,ag,un,Uo],styles:[".background[_ngcontent-%COMP%]{height:100vh;width:100vw;margin:0;padding:0;background-image:url(/assets/images/bg.png);background-repeat:no-repeat;background-size:cover;display:grid}.shadow[_ngcontent-%COMP%]{margin:auto;height:600px;width:900px;padding:20px;background-color:#0003}.main[_ngcontent-%COMP%]{margin:auto;height:560px;width:860px;background-color:#fff}.main-left[_ngcontent-%COMP%]{float:left;height:560px;width:430px;background-color:#00a2ff;padding:90px 70px 0}.main-left[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;color:#fff;font-size:2em;position:relative}.main-left[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px;margin-top:20px;border-radius:25px}.button-submit[_ngcontent-%COMP%]{width:290px;height:50px;border-radius:25px;background-color:#6f6;color:#fff;font-weight:700;margin-top:20px}.linksr[_ngcontent-%COMP%]{margin-top:90px;height:27px;width:290px;font-size:8px}.main-right[_ngcontent-%COMP%]{float:left;height:560px;width:430px;background-color:#fff;display:grid}.image[_ngcontent-%COMP%]{height:250px;margin:auto}"]}),n})(),eP=(()=>{class n{constructor(t,r){var i;this.http=t,this.authService=r,this.books={},this.books$=new Pn([]),this.http.get(`${Si_apiUrl}/Books/${null===(i=this.authService.currentUserValue)||void 0===i?void 0:i.uid}.json`).subscribe(l=>{l&&(this.books=l),this.books$.next(this.books)})}createBook(t){var r;this.http.post(`${Si_apiUrl}/Books/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}.json`,t).subscribe(i=>{this.books[i.name]={borrowDate:t.borrowDate,returnDate:t.returnDate,author:t.author,title:t.title},this.books$.next(this.books)})}removeBook(t){var r;this.http.delete(`${Si_apiUrl}/Books/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}/${t}.json`).subscribe(i=>{delete this.books[t],this.books$.next(this.books)})}getBooks(){return this.books$.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rm),a.LFG(Fh))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MB(n,e){1&n&&(a.TgZ(0,"small",13),a._uU(1,"Wprowad\u017a tytu\u0142"),a.qZA())}function xB(n,e){1&n&&(a.TgZ(0,"small",13),a._uU(1,"Wprowad\u017a autora"),a.qZA())}function kB(n,e){1&n&&(a.TgZ(0,"small",13),a._uU(1,"Data wypo\u017cyczenia musi by\u0107 wcze\u015bniejsza ni\u017c data zwrotu"),a.qZA())}function OB(n,e){1&n&&(a.TgZ(0,"small",13),a._uU(1,"Data zwrotu musi by\u0107 p\xf3\u017aniejsza ni\u017c data wypo\u017cyczenia"),a.qZA())}let RB=(()=>{class n{constructor(t,r,i){this.fb=t,this.bookService=r,this.router=i,this.dateConditionallyRequiredValidator=l=>{const d=l.get("borrowDate"),f=l.get("returnDate");return d&&f&&d.value>f.value?{invalidDate:!0}:null},this.bookForm=new Za({title:new Er(null,wr.required),author:new Er(null,wr.required),borrowDate:new Er((new Date).toISOString().substring(0,10),[wr.required]),returnDate:new Er((new Date).toISOString().substring(0,10),[wr.required])},{validators:this.dateConditionallyRequiredValidator})}createBook(t){this.bookForm.valid?(this.bookService.createBook(t),this.router.navigate(["/books"])):console.log("Invalid form",t)}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(XN),a.Y36(eP),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-books-form"]],decls:30,vars:5,consts:[["id","books-form-container"],[1,"books-form-container-content"],[1,"container-title"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-block"],["type","text","name","title","formControlName","title","required",""],["class","text-danger",4,"ngIf"],["type","text","name","author","formControlName","author","required",""],["type","date","name","borrowDate","formControlName","borrowDate","required",""],["type","date","name","returnDate","formControlName","returnDate","required",""],["type","submit",1,"btn","btn-primary"],["width","350px","src","assets/images/books.JPG"],[1,"text-danger"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3," Dodaj wypo\u017cyczone ksi\u0105\u017cki "),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"div"),a.TgZ(6,"form",4),a.NdJ("ngSubmit",function(){return r.createBook(r.bookForm.value)}),a.TgZ(7,"div",5),a.TgZ(8,"label"),a._uU(9,"Tytu\u0142"),a.qZA(),a._UZ(10,"input",6),a.YNc(11,MB,2,0,"small",7),a.qZA(),a.TgZ(12,"div",5),a.TgZ(13,"label"),a._uU(14,"Autor"),a.qZA(),a._UZ(15,"input",8),a.YNc(16,xB,2,0,"small",7),a.qZA(),a.TgZ(17,"div",5),a.TgZ(18,"label"),a._uU(19,"Data wypo\u017cyczenia"),a.qZA(),a._UZ(20,"input",9),a.YNc(21,kB,2,0,"small",7),a.qZA(),a.TgZ(22,"div",5),a.TgZ(23,"label"),a._uU(24,"Data zwrotu"),a.qZA(),a._UZ(25,"input",10),a.YNc(26,OB,2,0,"small",7),a.qZA(),a.TgZ(27,"button",11),a._uU(28," Zapisz "),a.qZA(),a.qZA(),a.qZA(),a._UZ(29,"img",12),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(6),a.Q6J("formGroup",r.bookForm),a.xp6(5),a.Q6J("ngIf",r.bookForm.controls.title.invalid),a.xp6(5),a.Q6J("ngIf",r.bookForm.controls.author.invalid),a.xp6(5),a.Q6J("ngIf",null==r.bookForm.errors?null:r.bookForm.errors.invalidDate),a.xp6(5),a.Q6J("ngIf",null==r.bookForm.errors?null:r.bookForm.errors.invalidDate))},directives:[Hh,jh,Bu,Uu,Bh,Gc,ag,un],styles:["#books-form-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;padding:0 0 0 250px;display:flex;align-items:center;justify-content:center}.books-form-container-content[_ngcontent-%COMP%]{margin:auto}"]}),n})();const tP=function(){return["/books/form"]};function NB(n,e){1&n&&(a.TgZ(0,"div",2),a.TgZ(1,"p",3),a._uU(2,"Ksi\u0105\u017cki"),a.qZA(),a.TgZ(3,"p",4),a._uU(4," Dodaj wypo\u017cyczone ksi\u0105\u017cki,"),a._UZ(5,"br"),a._uU(6,"aby pami\u0119ta\u0107 o ich zwrocie. "),a.qZA(),a.TgZ(7,"a",5),a._uU(8," Dodaj "),a.qZA(),a.qZA()),2&n&&(a.xp6(7),a.Q6J("routerLink",a.DdM(1,tP)))}function PB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a._uU(8),a.qZA(),a.TgZ(9,"td"),a.TgZ(10,"a",8),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).removeBook(l.id)}),a._uU(11,"Usu\u0144"),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.title),a.xp6(2),a.Oqu(t.author),a.xp6(2),a.Oqu(t.borrowDate),a.xp6(2),a.Oqu(t.returnDate)}}function FB(n,e){if(1&n&&(a.TgZ(0,"div",2),a.TgZ(1,"p",3),a._uU(2,"Ksi\u0105\u017cki"),a.qZA(),a.TgZ(3,"a",5),a._uU(4," Dodaj "),a.qZA(),a.TgZ(5,"table",6),a.TgZ(6,"tr"),a.TgZ(7,"th"),a._uU(8,"Tytu\u0142"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Autor"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Data wypo\u017cyczenia"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Data zwrotu"),a.qZA(),a._UZ(15,"th"),a.qZA(),a.YNc(16,PB,12,4,"tr",7),a.qZA(),a.qZA()),2&n){const t=a.oxw();a.xp6(3),a.Q6J("routerLink",a.DdM(2,tP)),a.xp6(13),a.Q6J("ngForOf",t.books)}}let LB=(()=>{class n{constructor(t,r){this.bookService=t,this.router=r,this.booksList={},this.books=[]}ngOnInit(){this.bookService.getBooks().subscribe(t=>{this.booksList=t,this.booksList&&this.populateBooks()})}removeBook(t){this.bookService.removeBook(t)}populateBooks(){this.books=[];for(const t of Object.keys(this.booksList))this.books.push({title:this.booksList[t].title,author:this.booksList[t].author,borrowDate:this.booksList[t].borrowDate,returnDate:this.booksList[t].returnDate,id:t}),this.books=this.books.filter(r=>null!=r.author)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(eP),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-books"]],decls:3,vars:2,consts:[["id","books-container"],["class","books-container-content",4,"ngIf"],[1,"books-container-content"],[1,"title"],[1,"description"],[1,"btn","btn-primary","button-add",3,"routerLink"],[1,"mt-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,NB,9,2,"div",1),a.YNc(2,FB,17,3,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",0==r.books.length),a.xp6(1),a.Q6J("ngIf",r.books.length>0))},directives:[un,Uo,on],styles:["#books-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;padding:0 0 0 250px;display:flex;align-items:center;justify-content:center}.books-container-content[_ngcontent-%COMP%]{width:80%}.title[_ngcontent-%COMP%]{font-weight:800;margin-top:20px;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:40px;color:#1990ff}.description[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:23px}.button-add[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}"]}),n})();const VB=function(){return[""]},UB=function(){return["/calendar"]},BB=function(){return["/savings"]},jB=function(){return["/books"]},HB=function(){return["/learn"]};let $B=(()=>{class n{constructor(t,r){this.authService=t,this.router=r}doLogout(){this.authService.doLogout().then(t=>{this.router.navigate(["/login"])})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Fh),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-navbar"]],decls:22,vars:10,consts:[[1,"container"],[1,"image"],["src","assets/images/mplogo.png","height","150px"],[1,"buttons"],[3,"routerLink"],[1,"buttons-q"],[3,"click"],[1,"buttons-q","logout"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a._UZ(2,"img",2),a.qZA(),a.TgZ(3,"div",3),a.TgZ(4,"a",4),a.TgZ(5,"div",5),a._uU(6," Strona g\u0142\xf3wna "),a.qZA(),a.qZA(),a.TgZ(7,"a",4),a.TgZ(8,"div",5),a._uU(9," Kalendarz "),a.qZA(),a.qZA(),a.TgZ(10,"a",4),a.TgZ(11,"div",5),a._uU(12," Bud\u017cet "),a.qZA(),a.qZA(),a.TgZ(13,"a",4),a.TgZ(14,"div",5),a._uU(15," Ksi\u0105\u017cki "),a.qZA(),a.qZA(),a.TgZ(16,"a",4),a.TgZ(17,"div",5),a._uU(18," Nauka "),a.qZA(),a.qZA(),a.TgZ(19,"a",6),a.NdJ("click",function(){return r.doLogout()}),a.TgZ(20,"div",7),a._uU(21," Wyloguj "),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(4),a.Q6J("routerLink",a.DdM(5,VB)),a.xp6(3),a.Q6J("routerLink",a.DdM(6,UB)),a.xp6(3),a.Q6J("routerLink",a.DdM(7,BB)),a.xp6(3),a.Q6J("routerLink",a.DdM(8,jB)),a.xp6(3),a.Q6J("routerLink",a.DdM(9,HB)))},directives:[Uo],styles:[".container[_ngcontent-%COMP%]{position:fixed;top:0;left:0;margin:0;padding:0;width:250px;background-color:#1990ff;height:100vh;float:left;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}.image[_ngcontent-%COMP%]{height:250px;width:250px;padding:50px}.buttons[_ngcontent-%COMP%]{height:350px;width:250px}.buttons-q[_ngcontent-%COMP%]{height:70px;width:250px;padding-left:35px;line-height:70px}.buttons-q[_ngcontent-%COMP%]:hover{background-color:#80c1ff;transition:.5s}.logout[_ngcontent-%COMP%]{color:#fff;cursor:pointer}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff;font-size:22px}"]}),n})(),zB=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-home-page"]],decls:3,vars:0,consts:[["id","app-container"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a._UZ(1,"app-navbar"),a._UZ(2,"router-outlet"),a.qZA())},directives:[$B,Lr],styles:["#app-container[_ngcontent-%COMP%]{display:flex}"]}),n})(),nP=(()=>{class n{constructor(t,r){var i;this.http=t,this.authService=r,this.learn={},this.learn$=new Pn([]),this.http.get(`${Si_apiUrl}/Learn/${null===(i=this.authService.currentUserValue)||void 0===i?void 0:i.uid}.json`).subscribe(l=>{l&&(this.learn=l),this.learn$.next(this.learn)})}createLearn(t){var r;this.http.post(`${Si_apiUrl}/Learn/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}.json`,t).subscribe(i=>{this.learn[i.name]={endDate:t.endDate,subject:t.subject,topic:t.topic},this.learn$.next(this.learn)})}removeLearn(t){var r;this.http.delete(`${Si_apiUrl}/Learn/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}/${t}.json`).subscribe(i=>{delete this.learn[t],this.learn$.next(this.learn)})}getLearn(){return this.learn$.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rm),a.LFG(Fh))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qB(n,e){1&n&&(a.TgZ(0,"small",12),a._uU(1,"Wprowad\u017a temat"),a.qZA())}function ZB(n,e){1&n&&(a.TgZ(0,"small",12),a._uU(1,"Wprowad\u017a przedmiot"),a.qZA())}function WB(n,e){1&n&&(a.TgZ(0,"small",12),a._uU(1,"Wprowad\u017a dat\u0119"),a.qZA())}let GB=(()=>{class n{constructor(t,r,i){this.fb=t,this.learnService=r,this.router=i,this.learnForm=new Za({topic:new Er(null,wr.required),subject:new Er(null,wr.required),endDate:new Er((new Date).toISOString().substring(0,10),[wr.required])})}createLearn(t){this.learnForm.valid&&(console.log("dfkdfk"),this.learnService.createLearn(t),this.router.navigate(["/learn"]))}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(XN),a.Y36(nP),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-learn-form"]],decls:25,vars:4,consts:[["id","learn-form-container"],[1,"learn-form-container-content"],[1,"container-title"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-block"],["type","text","name","topic","formControlName","topic","required",""],["class","text-danger",4,"ngIf"],["type","text","name","subject","formControlName","subject","required",""],["type","date","name","endDate","formControlName","endDate","required",""],["type","submit",1,"btn","btn-primary"],["width","350px","src","assets/images/learn.JPG"],[1,"text-danger"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3,"Dodaj temat do nauki"),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"div"),a.TgZ(6,"form",4),a.NdJ("ngSubmit",function(){return r.createLearn(r.learnForm.value)}),a.TgZ(7,"div",5),a.TgZ(8,"label"),a._uU(9,"Temat"),a.qZA(),a._UZ(10,"input",6),a.YNc(11,qB,2,0,"small",7),a.qZA(),a.TgZ(12,"div",5),a.TgZ(13,"label"),a._uU(14,"Przedmiot"),a.qZA(),a._UZ(15,"input",8),a.YNc(16,ZB,2,0,"small",7),a.qZA(),a.TgZ(17,"div",5),a.TgZ(18,"label"),a._uU(19,"Data zako\u0144czenia"),a.qZA(),a._UZ(20,"input",9),a.YNc(21,WB,2,0,"small",7),a.qZA(),a.TgZ(22,"button",10),a._uU(23," Zapisz "),a.qZA(),a.qZA(),a.qZA(),a._UZ(24,"img",11),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(6),a.Q6J("formGroup",r.learnForm),a.xp6(5),a.Q6J("ngIf",r.learnForm.controls.topic.invalid),a.xp6(5),a.Q6J("ngIf",r.learnForm.controls.subject.invalid),a.xp6(5),a.Q6J("ngIf",r.learnForm.controls.endDate.invalid))},directives:[Hh,jh,Bu,Uu,Bh,Gc,ag,un],styles:["#learn-form-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;padding:0 0 0 250px;display:flex;align-items:center;justify-content:center}.learn-form-container-content[_ngcontent-%COMP%]{margin:auto}"]}),n})();const rP=function(){return["/learn/form"]};function KB(n,e){1&n&&(a.TgZ(0,"div",2),a.TgZ(1,"p",3),a._uU(2,"Nauka"),a.qZA(),a.TgZ(3,"p",4),a._uU(4," Dodaj tematy do nauki,"),a._UZ(5,"br"),a._uU(6,"aby zda\u0107 ka\u017cdy egzamin. "),a.qZA(),a.TgZ(7,"a",5),a._uU(8," Dodaj "),a.qZA(),a.qZA()),2&n&&(a.xp6(7),a.Q6J("routerLink",a.DdM(1,rP)))}function YB(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a._uU(6),a.qZA(),a.TgZ(7,"td"),a.TgZ(8,"a",7),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).removeLearn(l.id)}),a._uU(9,"Usu\u0144"),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.topic),a.xp6(2),a.Oqu(t.subject),a.xp6(2),a.Oqu(t.endDate)}}function QB(n,e){if(1&n&&(a.TgZ(0,"div",2),a.TgZ(1,"p",3),a._uU(2,"Nauka"),a.qZA(),a.TgZ(3,"a",5),a._uU(4," Dodaj "),a.qZA(),a.TgZ(5,"table"),a.TgZ(6,"tr"),a.TgZ(7,"th"),a._uU(8,"Temat"),a.qZA(),a.TgZ(9,"th"),a._uU(10,"Przedmiot"),a.qZA(),a.TgZ(11,"th"),a._uU(12,"Data zako\u0144czenia"),a.qZA(),a.TgZ(13,"th"),a._uU(14,"Opcje"),a.qZA(),a.qZA(),a.YNc(15,YB,10,3,"tr",6),a.qZA(),a.qZA()),2&n){const t=a.oxw();a.xp6(3),a.Q6J("routerLink",a.DdM(2,rP)),a.xp6(12),a.Q6J("ngForOf",t.learn)}}let JB=(()=>{class n{constructor(t,r){this.learnService=t,this.router=r,this.learnList={},this.learn=[]}ngOnInit(){this.learnService.getLearn().subscribe(t=>{this.learnList=t,this.learnList&&this.populateLearn(),console.log(this.learn)})}populateLearn(){this.learn=[];for(const t of Object.keys(this.learnList))this.learn.push({topic:this.learnList[t].topic,subject:this.learnList[t].subject,endDate:this.learnList[t].endDate,id:t}),this.learn=this.learn.filter(r=>null!=r.topic)}removeLearn(t){this.learnService.removeLearn(t)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(nP),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-learn"]],decls:3,vars:2,consts:[["id","learn-container"],["class","learn-container-content",4,"ngIf"],[1,"learn-container-content"],[1,"title"],[1,"description"],[1,"btn","btn-primary","button-add",3,"routerLink"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.YNc(1,KB,9,2,"div",1),a.YNc(2,QB,16,3,"div",1),a.qZA()),2&t&&(a.xp6(1),a.Q6J("ngIf",0==r.learn.length),a.xp6(1),a.Q6J("ngIf",r.learn.length>0))},directives:[un,Uo,on],styles:["#learn-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;padding:0 0 0 250px;display:flex;align-items:center;justify-content:center}.learn-container-content[_ngcontent-%COMP%]{width:80%}.title[_ngcontent-%COMP%]{font-weight:800;margin-top:20px;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:40px;color:#1990ff}.description[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:23px}.button-add[_ngcontent-%COMP%]{margin-right:0;margin-bottom:10px}"]}),n})(),XB=(()=>{class n{constructor(){}ngOnInit(){}openPDF(){window.open("assets/pdf/MamyPlany.pdf","_blank")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-intro-page"]],decls:17,vars:0,consts:[["id","home-container"],[1,"home-container-content"],[1,"title"],[1,"header"],[1,"description"],[1,"fw-bold",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"p",2),a._uU(3,"MamyPlany"),a.qZA(),a.TgZ(4,"p",3),a._uU(5," Wszystko w jednym miejscu! "),a.qZA(),a.TgZ(6,"p",4),a._uU(7," Potrzebujesz zapisa\u0107 co\u015b w kalendarzu? Chcesz kontrolowa\u0107 sw\xf3j bud\u017cet? Jeste\u015b uczniem, studentem lub mi\u0142o\u015bnikiem ksi\u0105\u017cek, kt\xf3ry od czasu do czasu zapomina o ich zwrocie do biblioteki? Marzysz,aby pami\u0119ta\u0107 o wszystkim, czego musisz lub chcesz si\u0119 nauczy\u0107?"),a._UZ(8,"br"),a._UZ(9,"br"),a.TgZ(10,"b"),a._uU(11,"MamyPlany"),a.qZA(),a._uU(12," to idealna strona dla Ciebie! Znajdziesz to wszystko w jednym miejscu i ju\u017c nie b\u0119dziesz si\u0119 martwi\u0107! "),a.qZA(),a.TgZ(13,"p",4),a._uU(14,"Potrzebujesz dowiedzie\u0107 si\u0119 wi\u0119cej o aplikacji? Kliknij "),a.TgZ(15,"span",5),a.NdJ("click",function(){return r.openPDF()}),a._uU(16,"TUTAJ!"),a.qZA(),a.qZA(),a.qZA(),a.qZA())},styles:["#home-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;padding:0 0 0 250px;display:flex;align-items:center;justify-content:center}.home-container-content[_ngcontent-%COMP%]{width:80%}.title[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:50px;color:#1990ff;font-weight:800}.header[_ngcontent-%COMP%]{margin-top:36px;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:24px;font-weight:700;color:#444}.description[_ngcontent-%COMP%]{margin-top:10px;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:23px;color:#505050}"]}),n})(),ej=(()=>{class n{constructor(t,r){this.eventService=t,this.router=r,this.calendarForm=new Za({eventName:new Er(null,wr.required),eventDuration:new Er(null,wr.required),eventDate:new Er(null,wr.required)})}submitEvent(t){this.calendarForm.valid&&this.eventService.addEvent(t).subscribe(r=>{this.router.navigate(["/calendar"])})}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(tx),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-calendar-form"]],decls:22,vars:1,consts:[["id","calendar-form-container"],[1,"calendar-form-container-content"],[1,"container-title"],[1,"form-container"],[3,"formGroup","ngSubmit"],[1,"form-block"],["formControlName","eventName","type","text"],["formControlName","eventDuration","type","text"],["formControlName","eventDate","type","date"],["type","submit",1,"btn","btn-primary"],["width","350px","src","assets/images/calendarform-icon.JPG"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a._uU(3," Dodaj do kalendarza "),a.qZA(),a.TgZ(4,"div",3),a.TgZ(5,"div"),a.TgZ(6,"form",4),a.NdJ("ngSubmit",function(){return r.submitEvent(r.calendarForm.value)}),a.TgZ(7,"div",5),a.TgZ(8,"label"),a._uU(9,"Nazwa"),a.qZA(),a._UZ(10,"input",6),a.qZA(),a.TgZ(11,"div",5),a.TgZ(12,"label"),a._uU(13,"Czas trwania (w godzinach)"),a.qZA(),a._UZ(14,"input",7),a.qZA(),a.TgZ(15,"div",5),a.TgZ(16,"label"),a._uU(17,"Data rozpocz\u0119cia"),a.qZA(),a._UZ(18,"input",8),a.qZA(),a.TgZ(19,"button",9),a._uU(20,"Zapisz"),a.qZA(),a.qZA(),a.qZA(),a._UZ(21,"img",10),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(6),a.Q6J("formGroup",r.calendarForm))},directives:[Hh,jh,Bu,Uu,Bh,Gc],styles:["#calendar-form-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;padding:0 0 0 250px;display:flex;align-items:center;justify-content:center}.calendar-form-container-content[_ngcontent-%COMP%]{margin:auto}"]}),n})(),Cx=(()=>{class n{constructor(t,r){var i,l;this.http=t,this.authService=r,this.expenses={},this.expenses$=new Pn([]),this.revenue={},this.revenue$=new Pn([]),this.http.get(`${Si_apiUrl}/Savings/Expenses/${null===(i=this.authService.currentUserValue)||void 0===i?void 0:i.uid}.json`).subscribe(d=>{d&&(this.expenses=d),this.expenses$.next(this.expenses)}),this.http.get(`${Si_apiUrl}/Savings/Revenue/${null===(l=this.authService.currentUserValue)||void 0===l?void 0:l.uid}.json`).subscribe(d=>{d&&(this.revenue=d),this.revenue$.next(this.revenue)})}addExpenses(t){var r;this.http.post(`${Si_apiUrl}/Savings/Expenses/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}.json`,t).subscribe(i=>{this.expenses[i.name]={expAmount:t.expAmount,expName:t.expName},this.expenses$.next(this.expenses)})}removeExpense(t){var r;this.http.delete(`${Si_apiUrl}/Savings/Expenses/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}/${t}.json`).subscribe(i=>{delete this.expenses[t],this.expenses$.next(this.expenses)})}addRevenue(t){var r;this.http.post(`${Si_apiUrl}/Savings/Revenue/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}.json`,t).subscribe(i=>{this.revenue[i.name]={revAmount:t.revAmount,revName:t.revName},this.revenue$.next(this.revenue)})}removeRevenue(t){var r;this.http.delete(`${Si_apiUrl}/Savings/Revenue/${null===(r=this.authService.currentUserValue)||void 0===r?void 0:r.uid}/${t}.json`).subscribe(i=>{delete this.revenue[t],this.revenue$.next(this.revenue)})}getExpenses(){return this.expenses$.asObservable()}getRevenue(){return this.revenue$.asObservable()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Rm),a.LFG(Fh))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tj(n,e){1&n&&(a.TgZ(0,"small",7),a._uU(1,"B\u0142\u0105d. Nazwa nie mo\u017ce by\u0107 pusta"),a.qZA())}function nj(n,e){1&n&&(a.TgZ(0,"small",7),a._uU(1,"B\u0142\u0105d. Kwota musi by\u0107 dodatnia"),a.qZA())}function rj(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"a",10),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).removeExpense(l.id)}),a._uU(7,"Usu\u0144"),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.expName),a.xp6(2),a.hij("",t.expAmount," z\u0142")}}function ij(n,e){if(1&n&&(a.TgZ(0,"div"),a.TgZ(1,"table",8),a.TgZ(2,"tr"),a.TgZ(3,"th"),a._uU(4,"Wydatek"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Warto\u015b\u0107"),a.qZA(),a._UZ(7,"th"),a.qZA(),a.YNc(8,rj,8,2,"tr",9),a.TgZ(9,"tr"),a.TgZ(10,"td"),a.TgZ(11,"b"),a._uU(12,"Razem"),a.qZA(),a.qZA(),a.TgZ(13,"td"),a.TgZ(14,"b"),a._uU(15),a.qZA(),a.qZA(),a._UZ(16,"td"),a.qZA(),a.qZA(),a.qZA()),2&n){const t=a.oxw();a.xp6(8),a.Q6J("ngForOf",t.expensesArray),a.xp6(7),a.hij("",t.totalExpenses," z\u0142")}}let iP=(()=>{class n{constructor(t,r){this.savingsService=t,this.router=r,this.expenses={},this.totalExpenses=0,this.expensesAmountError=!1,this.expensesNameError=!1,this.expensesArray=[],this.expensesForm=new Za({expName:new Er(null,wr.required),expAmount:new Er(null,wr.required)})}addExpenses(t){t.expAmount>0?null!=t.expName&&0!=t.expName&&""!=t.expName?(console.log(t.expName.length),this.expensesForm.valid&&(this.savingsService.addExpenses(t),this.router.navigate(["/savings"])),this.expensesAmountError=!1,this.expensesNameError=!1):this.expensesNameError=!0:this.expensesAmountError=!0}getExpenses(){this.savingsService.getExpenses().subscribe(t=>{this.expenses=t,this.expenses&&(this.populateExpenses(),this.calculateExpenses())})}removeExpense(t){this.savingsService.removeExpense(t)}calculateExpenses(){let t;this.totalExpenses=0;for(const r of Object.keys(this.expenses))t=Number(this.expenses[r].expAmount),isNaN(t)||(this.totalExpenses+=t)}ngOnInit(){this.getExpenses(),console.log(this.expenses)}populateExpenses(){this.expensesArray=[];for(const t of Object.keys(this.expenses))this.expensesArray.push({expName:this.expenses[t].expName,expAmount:this.expenses[t].expAmount,id:t}),this.expensesArray=this.expensesArray.filter(r=>null!=r.expName)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Cx),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-savings-expenses"]],decls:14,vars:4,consts:[[3,"formGroup","ngSubmit"],[1,"form-block"],["formControlName","expName","type","text","placeholder","Nazwa wydatku..."],["class","text-danger",4,"ngIf"],["formControlName","expAmount","type","number","placeholder","Warto\u015b\u0107 wydatku..."],[1,"btn","btn-primary","button-add"],[4,"ngIf"],[1,"text-danger"],[1,"mt-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"form",0),a.NdJ("ngSubmit",function(){return r.addExpenses(r.expensesForm.value)}),a.TgZ(1,"div",1),a.TgZ(2,"label"),a._uU(3,"Nazwa"),a.qZA(),a._UZ(4,"input",2),a.YNc(5,tj,2,0,"small",3),a.qZA(),a.TgZ(6,"div",1),a.TgZ(7,"label"),a._uU(8,"Warto\u015b\u0107"),a.qZA(),a._UZ(9,"input",4),a.YNc(10,nj,2,0,"small",3),a.qZA(),a.TgZ(11,"button",5),a._uU(12,"Zapisz"),a.qZA(),a.qZA(),a.YNc(13,ij,17,2,"div",6)),2&t&&(a.Q6J("formGroup",r.expensesForm),a.xp6(5),a.Q6J("ngIf",r.expensesNameError),a.xp6(5),a.Q6J("ngIf",r.expensesAmountError),a.xp6(3),a.Q6J("ngIf",r.expensesArray.length>0))},directives:[Hh,jh,Bu,Uu,Bh,Gc,un,PT,on],styles:[""]}),n})();function sj(n,e){1&n&&(a.TgZ(0,"small",7),a._uU(1,"B\u0142\u0105d. Nazwa nie mo\u017ce by\u0107 pusta"),a.qZA())}function oj(n,e){1&n&&(a.TgZ(0,"small",7),a._uU(1,"B\u0142\u0105d. Kwota musi by\u0107 dodatnia"),a.qZA())}function aj(n,e){if(1&n){const t=a.EpF();a.TgZ(0,"tr"),a.TgZ(1,"td"),a._uU(2),a.qZA(),a.TgZ(3,"td"),a._uU(4),a.qZA(),a.TgZ(5,"td"),a.TgZ(6,"a",10),a.NdJ("click",function(){const l=a.CHM(t).$implicit;return a.oxw(2).removeRevenue(l.id)}),a._uU(7,"Usu\u0144"),a.qZA(),a.qZA(),a.qZA()}if(2&n){const t=e.$implicit;a.xp6(2),a.Oqu(t.revName),a.xp6(2),a.hij("",t.revAmount," z\u0142")}}function lj(n,e){if(1&n&&(a.TgZ(0,"div"),a.TgZ(1,"table",8),a.TgZ(2,"tr"),a.TgZ(3,"th"),a._uU(4,"Przych\xf3d"),a.qZA(),a.TgZ(5,"th"),a._uU(6,"Warto\u015b\u0107"),a.qZA(),a._UZ(7,"th"),a.qZA(),a.YNc(8,aj,8,2,"tr",9),a.TgZ(9,"tr"),a.TgZ(10,"td"),a.TgZ(11,"b"),a._uU(12,"Razem"),a.qZA(),a.qZA(),a.TgZ(13,"td"),a.TgZ(14,"b"),a._uU(15),a.qZA(),a.qZA(),a._UZ(16,"td"),a.qZA(),a.qZA(),a.qZA()),2&n){const t=a.oxw();a.xp6(8),a.Q6J("ngForOf",t.revenueArray),a.xp6(7),a.hij("",t.totalRevenue," z\u0142")}}let sP=(()=>{class n{constructor(t,r){this.savingsService=t,this.router=r,this.revenue={},this.totalRevenue=0,this.revenueAmountError=!1,this.revenueNameError=!1,this.revenueArray=[],this.revenueForm=new Za({revName:new Er(null,wr.required),revAmount:new Er(null,wr.required)})}addRevenue(t){t.revAmount>0?null!=t.revName&&0!=t.revName&&""!=t.revName?(console.log(t.revName.length),this.revenueForm.valid&&(this.savingsService.addRevenue(t),this.router.navigate(["/savings"])),this.revenueAmountError=!1,this.revenueNameError=!1):this.revenueNameError=!0:this.revenueAmountError=!0}getRevenue(){this.savingsService.getRevenue().subscribe(t=>{this.revenue=t,console.log(this.revenue),this.revenue&&(this.populateRevenue(),this.calculateRevenue())})}calculateRevenue(){let t;this.totalRevenue=0;for(const r of Object.keys(this.revenue))t=Number(this.revenue[r].revAmount),isNaN(t)||(this.totalRevenue+=t)}ngOnInit(){this.getRevenue()}removeRevenue(t){this.savingsService.removeRevenue(t)}populateRevenue(){this.revenueArray=[];for(const t of Object.keys(this.revenue))this.revenueArray.push({revName:this.revenue[t].revName,revAmount:this.revenue[t].revAmount,id:t}),this.revenueArray=this.revenueArray.filter(r=>null!=r.revName)}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Cx),a.Y36(Hn))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-savings-revenue"]],decls:15,vars:4,consts:[[3,"formGroup"],[1,"form-block"],["formControlName","revName","type","text","placeholder","Nazwa przychodu..."],["class","text-danger",4,"ngIf"],["formControlName","revAmount","type","number","placeholder","Warto\u015b\u0107 przychodu..."],[1,"btn","btn-primary","button-add",3,"click"],[4,"ngIf"],[1,"text-danger"],[1,"mt-3"],[4,"ngFor","ngForOf"],["href","javascript:void(0)",3,"click"]],template:function(t,r){1&t&&(a.TgZ(0,"div"),a.TgZ(1,"form",0),a.TgZ(2,"div",1),a.TgZ(3,"label"),a._uU(4,"Nazwa"),a.qZA(),a._UZ(5,"input",2),a.YNc(6,sj,2,0,"small",3),a.qZA(),a.TgZ(7,"div",1),a.TgZ(8,"label"),a._uU(9,"Warto\u015b\u0107"),a.qZA(),a._UZ(10,"input",4),a.YNc(11,oj,2,0,"small",3),a.qZA(),a.TgZ(12,"button",5),a.NdJ("click",function(){return r.addRevenue(r.revenueForm.value)}),a._uU(13,"Zapisz"),a.qZA(),a.qZA(),a.YNc(14,lj,17,2,"div",6),a.qZA()),2&t&&(a.xp6(1),a.Q6J("formGroup",r.revenueForm),a.xp6(5),a.Q6J("ngIf",r.revenueNameError),a.xp6(5),a.Q6J("ngIf",r.revenueAmountError),a.xp6(3),a.Q6J("ngIf",r.revenueArray.length>0))},directives:[Hh,jh,Bu,Uu,Bh,Gc,un,PT,on],styles:[""]}),n})(),uj=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-savings-form-wrap"]],decls:3,vars:0,template:function(t,r){1&t&&(a.TgZ(0,"div"),a._UZ(1,"app-savings-expenses"),a._UZ(2,"app-savings-revenue"),a.qZA())},directives:[iP,sP],styles:[""]}),n})(),cj=(()=>{class n{constructor(t){this.savingsService=t,this.expensesForm=new Za({expName:new Er(null,wr.required),expAmount:new Er(null,wr.required)}),this.expenses={},this.totalExpenses=0,this.revenue={},this.totalRevenue=0,this.savings=0}calculateExpenses(){let t;this.totalExpenses=0;for(const r of Object.keys(this.expenses))t=Number(this.expenses[r].expAmount),isNaN(t)||(this.totalExpenses+=t)}getExpenses(){this.savingsService.getExpenses().subscribe(t=>{this.expenses=t,this.calculateExpenses(),this.calculateSavings()})}calculateRevenue(){let t;this.totalRevenue=0;for(const r of Object.keys(this.revenue))t=Number(this.revenue[r].revAmount),isNaN(t)||(this.totalRevenue+=t)}calculateSavings(){this.savings=this.totalRevenue-this.totalExpenses}getRevenue(){this.savingsService.getRevenue().subscribe(t=>{this.revenue=t,console.log(this.revenue),this.calculateRevenue(),this.calculateSavings()})}ngOnInit(){this.getExpenses(),this.getRevenue(),this.calculateSavings()}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(Cx))},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-savings"]],decls:14,vars:1,consts:[["id","savings-container"],[1,"savings-container-content","row"],[1,"col-6"],[1,"title"],[1,"balance","mt-3"]],template:function(t,r){1&t&&(a.TgZ(0,"div",0),a.TgZ(1,"div",1),a.TgZ(2,"div",2),a.TgZ(3,"p",3),a._uU(4,"Przychody"),a.qZA(),a._UZ(5,"app-savings-revenue"),a.qZA(),a.TgZ(6,"div",2),a.TgZ(7,"p",3),a._uU(8,"Wydatki"),a.qZA(),a._UZ(9,"app-savings-expenses"),a.qZA(),a.TgZ(10,"div",4),a._uU(11,"Bilans: "),a.TgZ(12,"b"),a._uU(13),a.qZA(),a.qZA(),a.qZA(),a.qZA()),2&t&&(a.xp6(13),a.hij("",r.savings," z\u0142"))},directives:[sP,iP],styles:["#savings-container[_ngcontent-%COMP%]{margin:0;width:100vw;height:100vh;padding:0 0 0 250px;display:flex;align-items:center;justify-content:center}.savings-container-content[_ngcontent-%COMP%]{width:80%}.title[_ngcontent-%COMP%]{font-weight:800;margin-top:20px;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:40px;color:#1990ff}button[_ngcontent-%COMP%]{border-radius:100px;background-color:#09d866;border:none;padding:10px 60px;font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif;font-size:20px;margin-top:10px;color:#fff}button[_ngcontent-%COMP%]:hover{background-color:#1990ff;transition:.7s}a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}.balance[_ngcontent-%COMP%]{width:100%;text-align:center;font-size:24px}"]}),n})(),dj=(()=>{class n{constructor(t){this.eventService=t}resolve(){return this.eventService.getEvents().pipe(Oa(t=>_t("No calendar data")))}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(tx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ju=()=>(n=>(0,KR.z)(nx,(0,Qe.U)(e=>e||n)))(["login"]),oP=()=>(n=>(0,KR.z)(nx,(0,Qe.U)(e=>e&&n||!0)))([""]),hj=[{path:"register",component:AB,canActivate:[Zo],data:{authGuardPipe:oP}},{path:"login",component:TB,canActivate:[Zo],data:{authGuardPipe:oP}},{path:"",component:zB,canActivate:[Zo],data:{authGuardPipe:ju},children:[{path:"",component:XB,canActivate:[Zo],data:{authGuardPipe:ju}},{path:"calendar",component:EU,canActivate:[Zo],data:{authGuardPipe:ju},resolve:{events:dj}},{path:"calendar/form",component:ej,canActivate:[Zo],data:{authGuardPipe:ju}},{path:"savings",component:cj,canActivate:[Zo],data:{authGuardPipe:ju}},{path:"savings/form",component:uj,canActivate:[Zo],data:{authGuardPipe:ju}},{path:"books",component:LB,canActivate:[Zo],data:{authGuardPipe:ju}},{path:"books/form",component:RB,canActivate:[Zo],data:{authGuardPipe:ju}},{path:"learn",component:JB,canActivate:[Zo],data:{authGuardPipe:ju}},{path:"learn/form",component:GB,canActivate:[Zo],data:{authGuardPipe:ju}}]}];let fj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({imports:[[Im.forRoot(hj)],Im]}),n})(),pj=(()=>{class n{constructor(){this.title="mamy-plany-front"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&a._UZ(0,"router-outlet")},directives:[Lr],styles:["#app-container[_ngcontent-%COMP%]{display:flex}"]}),n})();function aP(){return"undefined"!=typeof window&&void 0!==window.document}function Tx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function $h(n){switch(n.length){case 0:return new cc;case 1:return n[0];default:return new df(n)}}function lP(n,e,t,r,i={},l={}){const d=[],f=[];let y=-1,D=null;if(r.forEach(b=>{const M=b.offset,F=M==y,R=F&&D||{};Object.keys(b).forEach(B=>{let te=B,se=b[B];if("offset"!==B)switch(te=e.normalizePropertyName(te,d),se){case"!":se=i[B];break;case so:se=l[B];break;default:se=e.normalizeStyleValue(B,te,se,d)}R[te]=se}),F||f.push(R),D=R,y=M}),d.length){const b="\n - ";throw new Error(`Unable to animate due to the following errors:${b}${d.join(b)}`)}return f}function bx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&Sx(t,"start",n)));break;case"done":n.onDone(()=>r(t&&Sx(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&Sx(t,"destroy",n)))}}function Sx(n,e,t){const r=t.totalTime,l=Ix(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),d=n._data;return null!=d&&(l._data=d),l}function Ix(n,e,t,r,i="",l=0,d){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:l,disabled:!!d}}function Wo(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function uP(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Ax=(n,e)=>!1,cP=(n,e,t)=>[];(Tx()||"undefined"!=typeof Element)&&(Ax=aP()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),cP=(n,e,t)=>{let r=[];if(t){const i=n.querySelectorAll(e);for(let l=0;l<i.length;l++)r.push(i[l])}else{const i=n.querySelector(e);i&&r.push(i)}return r});let lg=null,dP=!1;function Mx(n){lg||(lg=function mj(){return"undefined"!=typeof document?document.body:null}()||{},dP=!!lg.style&&"WebkitAppearance"in lg.style);let e=!0;return lg.style&&!function gj(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in lg.style,!e&&dP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in lg.style)),e}const xx=Ax,kx=cP;function hP(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let fP=(()=>{class n{validateStyleProperty(t){return Mx(t)}matchesElement(t,r){return!1}containsElement(t,r){return xx(t,r)}query(t,r,i){return kx(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,l,d,f=[],y){return new cc(i,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})(),Ox=(()=>{class n{}return n.NOOP=new fP,n})();const Rx="ng-enter",LT="ng-leave",VT="ng-trigger",UT=".ng-trigger",gP="ng-animating",Nx=".ng-animating";function ug(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Px(parseFloat(e[1]),e[2])}function Px(n,e){return"s"===e?1e3*n:n}function BT(n,e,t){return n.hasOwnProperty("duration")?n:function _j(n,e,t){let i,l=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=Px(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(l=Px(parseFloat(y),f[4]));const D=f[5];D&&(d=D)}else i=n;if(!t){let f=!1,y=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),f=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&e.splice(y,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:l,easing:d}}(n,e,t)}function Wy(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function zh(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Wy(n,t);return t}function yP(n,e,t){return t?e+":"+t+";":""}function vP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=yP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=yP(0,Dj(t),n.style[t]));n.setAttribute("style",e)}function Hu(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const i=Lx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[i]),n.style[i]=e[r]}),Tx()&&vP(n))}function cg(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=Lx(t);n.style[r]=""}),Tx()&&vP(n))}function O0(n){return Array.isArray(n)?1==n.length?n[0]:Og(n):n}const Fx=new RegExp("{{\\s*(.+?)\\s*}}","g");function _P(n){let e=[];if("string"==typeof n){let t;for(;t=Fx.exec(n);)e.push(t[1]);Fx.lastIndex=0}return e}function jT(n,e,t){const r=n.toString(),i=r.replace(Fx,(l,d)=>{let f=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),f=""),f.toString()});return i==r?n:i}function HT(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const Ej=/-+([a-z0-9])/g;function Lx(n){return n.replace(Ej,(...e)=>e[1].toUpperCase())}function Dj(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wP(n,e){return 0===n||0===e}function EP(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],d=[];if(r.forEach(f=>{l.hasOwnProperty(f)||d.push(f),l[f]=t[f]}),d.length)for(var i=1;i<e.length;i++){let f=e[i];d.forEach(function(y){f[y]=Vx(n,y)})}}return e}function Go(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Vx(n,e){return window.getComputedStyle(n)[e]}function Cj(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function Tj(n,e,t){if(":"==n[0]){const y=function bj(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof y)return void e.push(y);n=y}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const i=r[1],l=r[2],d=r[3];e.push(DP(i,d));"<"==l[0]&&!("*"==i&&"*"==d)&&e.push(DP(d,i))}(r,t,e)):t.push(n),t}const zT=new Set(["true","1"]),qT=new Set(["false","0"]);function DP(n,e){const t=zT.has(n)||qT.has(n),r=zT.has(e)||qT.has(e);return(i,l)=>{let d="*"==n||n==i,f="*"==e||e==l;return!d&&t&&"boolean"==typeof i&&(d=i?zT.has(n):qT.has(n)),!f&&r&&"boolean"==typeof l&&(f=l?zT.has(e):qT.has(e)),d&&f}}const Sj=new RegExp("s*:selfs*,?","g");function Ux(n,e,t){return new Ij(n).build(e,t)}class Ij{constructor(e){this._driver=e}build(e,t){const r=new xj(t);return this._resetContextStyleTimingState(r),Go(this,O0(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const l=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const y=f,D=y.name;D.toString().split(/\s*,\s*/).forEach(b=>{y.name=b,l.push(this.visitState(y,t))}),y.name=D}else if(1==f.type){const y=this.visitTransition(f,t);r+=y.queryCount,i+=y.depCount,d.push(y)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:d,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,d=i||{};if(r.styles.forEach(f=>{if(ZT(f)){const y=f;Object.keys(y).forEach(D=>{_P(y[D]).forEach(b=>{d.hasOwnProperty(b)||l.add(b)})})}}),l.size){const f=HT(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Go(this,O0(e.animation),t);return{type:1,matchers:Cj(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:dg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Go(this,r,t)),options:dg(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const l=e.steps.map(d=>{t.currentTime=r;const f=Go(this,d,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:l,options:dg(e.options)}}visitAnimate(e,t){const r=function Oj(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Bx(BT(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Bx(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||BT(r,e),Bx(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,l=e.styles?e.styles:uc({});if(5==l.type)i=this.visitKeyframes(l,t);else{let d=e.styles,f=!1;if(!d){f=!0;const D={};r.easing&&(D.easing=r.easing),d=uc(D)}t.currentTime+=r.duration+r.delay;const y=this.visitStyle(d,t);y.isEmptyStep=f,i=y}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==so?r.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):r.push(d)}):r.push(e.styles);let i=!1,l=null;return r.forEach(d=>{if(ZT(d)){const f=d,y=f.easing;if(y&&(l=y,delete f.easing),!i)for(let D in f)if(f[D].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void t.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const y=t.collectedStyles[t.currentQuerySelector],D=y[f];let b=!0;D&&(l!=i&&l>=D.startTime&&i<=D.endTime&&(t.errors.push(`The CSS property "${f}" that exists between the times of "${D.startTime}ms" and "${D.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${i}ms"`),b=!1),l=D.startTime),b&&(y[f]={startTime:l,endTime:i}),t.options&&function wj(n,e,t){const r=e.params||{},i=_P(n);i.length&&i.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(d[f],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const d=[];let f=!1,y=!1,D=0;const b=e.steps.map(De=>{const Re=this._makeStyleAst(De,t);let Be=null!=Re.offset?Re.offset:function kj(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(ZT(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(ZT(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Re.styles),Pe=0;return null!=Be&&(l++,Pe=Re.offset=Be),y=y||Pe<0||Pe>1,f=f||Pe<D,D=Pe,d.push(Pe),Re});y&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&t.errors.push("Please ensure that all keyframe offsets are in order");const M=e.steps.length;let F=0;l>0&&l<M?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&(F=1/(M-1));const R=M-1,B=t.currentTime,te=t.currentAnimateTimings,se=te.duration;return b.forEach((De,Re)=>{const Be=F>0?Re==R?1:F*Re:d[Re],Pe=Be*se;t.currentTime=B+te.delay+Pe,te.duration=Pe,this._validateStyleAst(De,t),De.offset=Be,r.styles.push(De)}),r}visitReference(e,t){return{type:8,animation:Go(this,O0(e.animation),t),options:dg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:dg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:dg(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[l,d]=function Aj(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(Sj,"")),n=n.replace(/@\*/g,UT).replace(/@\w+/g,t=>UT+"-"+t.substr(1)).replace(/:animating/g,Nx),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,Wo(t.collectedStyles,t.currentQuerySelector,{});const f=Go(this,O0(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:e.selector,options:dg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:BT(e.timings,t.errors,!0);return{type:12,animation:Go(this,O0(e.animation),t),timings:r,options:null}}}class xj{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ZT(n){return!Array.isArray(n)&&"object"==typeof n}function dg(n){return n?(n=Wy(n)).params&&(n.params=function Mj(n){return n?Wy(n):null}(n.params)):n={},n}function Bx(n,e,t){return{duration:n,delay:e,easing:t}}function jx(n,e,t,r,i,l,d=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:l,totalTime:i+l,easing:d,subTimeline:f}}class WT{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Pj=new RegExp(":enter","g"),Lj=new RegExp(":leave","g");function Hx(n,e,t,r,i,l={},d={},f,y,D=[]){return(new Vj).buildKeyframes(n,e,t,r,i,l,d,f,y,D)}class Vj{buildKeyframes(e,t,r,i,l,d,f,y,D,b=[]){D=D||new WT;const M=new $x(e,t,D,i,l,b,[]);M.options=y,M.currentTimeline.setStyles([d],null,M.errors,y),Go(this,r,M);const F=M.timelines.filter(R=>R.containsAnimation());if(F.length&&Object.keys(f).length){const R=F[F.length-1];R.allowOnlyTimelineStyles()||R.setStyles([f],null,M.errors,y)}return F.length?F.map(R=>R.buildKeyframes()):[jx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),l=t.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);l!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const d=null!=r.duration?ug(r.duration):null,f=null!=r.delay?ug(r.delay):null;return 0!==d&&e.forEach(y=>{const D=t.appendInstructionToTimeline(y,d,f);l=Math.max(l,D.duration+D.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),Go(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const l=e.options;if(l&&(l.params||l.delay)&&(i=t.createSubContext(l),i.transformIntoNewTimeline(),null!=l.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=GT);const d=ug(l.delay);i.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Go(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?ug(e.options.delay):0;e.steps.forEach(d=>{const f=t.createSubContext(e.options);l&&f.delayNextStep(l),Go(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return BT(t.params?jT(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,l=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*l),f.setStyles(y.styles,y.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},l=i.delay?ug(i.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=GT);let d=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let y=null;f.forEach((D,b)=>{t.currentQueryIndex=b;const M=t.createSubContext(e.options,D);l&&M.delayNextStep(l),D===t.element&&(y=M.currentTimeline),Go(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,l=e.timings,d=Math.abs(l.duration),f=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const b=t.currentTimeline;y&&b.delayNextStep(y);const M=b.currentTime;Go(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const GT={};class $x{constructor(e,t,r,i,l,d,f,y){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=l,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=GT,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new KT(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=ug(r.duration)),null!=r.delay&&(i.delay=ug(r.delay));const l=r.params;if(l){let d=i.params;d||(d=this.options.params={}),Object.keys(l).forEach(f=>{(!t||!d.hasOwnProperty(f))&&(d[f]=jT(l[f],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,l=new $x(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=GT,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new Uj(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(l),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,l,d){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(Pj,"."+this._enterClassName)).replace(Lj,"."+this._leaveClassName);let D=this._driver.query(this.element,e,1!=r);0!==r&&(D=r<0?D.slice(D.length+r,D.length):D.slice(0,r)),f.push(...D)}return!l&&0==f.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),f}}class KT{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new KT(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||so,this._currentKeyframe[t]=so}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&(this._previousKeyframe.easing=t);const l=i&&i.params||{},d=function Bj(n,e){const t={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(e),r.forEach(l=>{t[l]=so})):zh(i,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const y=jT(d[f],l,r);this._pendingStyles[f]=y,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:so),this._updateStyle(f,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],i=e._styleSummary[t];(!r||i.time>r.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const D=zh(f,!0);Object.keys(D).forEach(b=>{const M=D[b];"!"==M?e.add(b):M==so&&t.add(b)}),r||(D.offset=y/this.duration),i.push(D)});const l=e.size?HT(e.values()):[],d=t.size?HT(t.values()):[];if(r){const f=i[0],y=Wy(f);f.offset=0,y.offset=1,i=[f,y]}return jx(this.element,i,l,d,this.duration,this.startTime,this.easing,!1)}}class Uj extends KT{constructor(e,t,r,i,l,d,f=!1){super(e,t,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=l,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],d=r+t,f=t/d,y=zh(e[0],!1);y.offset=0,l.push(y);const D=zh(e[0],!1);D.offset=bP(f),l.push(D);const b=e.length-1;for(let M=1;M<=b;M++){let F=zh(e[M],!1);F.offset=bP((t+F.offset*r)/d),l.push(F)}r=d,t=0,i="",e=l}return jx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function bP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class zx{}class jj extends zx{normalizePropertyName(e,t){return Lx(e)}normalizeStyleValue(e,t,r,i){let l="";const d=r.toString().trim();if(Hj[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(`Please provide a CSS unit value for ${e}:${r}`)}return d+l}}const Hj=(()=>function $j(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function SP(n,e,t,r,i,l,d,f,y,D,b,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:l,toState:r,toStyles:d,timelines:f,queriedElements:y,preStyleProps:D,postStyleProps:b,totalTime:M,errors:F}}const qx={};class IP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function zj(n,e,t,r,i){return n.some(l=>l(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){const i=this._stateStyles["*"],l=this._stateStyles[e],d=i?i.buildStyles(t,r):{};return l?l.buildStyles(t,r):d}build(e,t,r,i,l,d,f,y,D,b){const M=[],F=this.ast.options&&this.ast.options.params||qx,B=this.buildStyles(r,f&&f.params||qx,M),te=y&&y.params||qx,se=this.buildStyles(i,te,M),De=new Set,Re=new Map,Be=new Map,Pe="void"===i,ct={params:Object.assign(Object.assign({},F),te)},Ft=b?[]:Hx(e,t,this.ast.animation,l,d,B,se,ct,D,M);let Yt=0;if(Ft.forEach(Ot=>{Yt=Math.max(Ot.duration+Ot.delay,Yt)}),M.length)return SP(t,this._triggerName,r,i,Pe,B,se,[],[],Re,Be,Yt,M);Ft.forEach(Ot=>{const It=Ot.element,dt=Wo(Re,It,{});Ot.preStyleProps.forEach(fn=>dt[fn]=!0);const We=Wo(Be,It,{});Ot.postStyleProps.forEach(fn=>We[fn]=!0),It!==t&&De.add(It)});const qt=HT(De.values());return SP(t,this._triggerName,r,i,Pe,B,se,Ft,qt,Re,Be,Yt)}}class qj{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},i=Wy(this.defaultParams);return Object.keys(e).forEach(l=>{const d=e[l];null!=d&&(i[l]=d)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const d=l;Object.keys(d).forEach(f=>{let y=d[f];y.length>1&&(y=jT(y,i,t));const D=this.normalizer.normalizePropertyName(f,t);y=this.normalizer.normalizeStyleValue(f,D,y,t),r[D]=y})}}),r}}class Wj{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(i=>{this.states[i.name]=new qj(i.style,i.options&&i.options.params||{},r)}),AP(this.states,"true","1"),AP(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new IP(e,i,this.states))}),this.fallbackTransition=function Gj(n,e,t){return new IP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(d=>d.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function AP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const Kj=new WT;class Yj{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],i=Ux(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=i}_buildPlayer(e,t,r){const i=e.element,l=lP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],l=this._animations[e];let d;const f=new Map;if(l?(d=Hx(this._driver,t,l,Rx,LT,{},{},r,Kj,i),d.forEach(b=>{const M=Wo(f,b.element,{});b.postStyleProps.forEach(F=>M[F]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),d=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);f.forEach((b,M)=>{Object.keys(b).forEach(F=>{b[F]=this._driver.computeStyle(M,F,so)})});const D=$h(d.map(b=>{const M=f.get(b.element);return this._buildPlayer(b,{},M)}));return this._playersById[e]=D,D.onDestroy(()=>this.destroy(e)),this.players.push(D),D}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,i){const l=Ix(t,"","","");return bx(this._getPlayer(e),r,l,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const MP="ng-animate-queued",Zx="ng-animate-disabled",tH=[],xP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},nH={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wa="__ng_removed";class Wx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function oH(n){return null!=n?n:null}(r?e.value:e),r){const l=Wy(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const R0="void",Gx=new Wx(R0);class rH{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ga(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function aH(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=Wo(this._elementListeners,e,[]),d={name:t,phase:r,callback:i};l.push(d);const f=Wo(this._engine.statesByElement,e,{});return f.hasOwnProperty(t)||(Ga(e,VT),Ga(e,VT+"-"+t),f[t]=Gx),()=>{this._engine.afterFlush(()=>{const y=l.indexOf(d);y>=0&&l.splice(y,1),this._triggers[t]||delete f[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,i=!0){const l=this._getTrigger(t),d=new Kx(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ga(e,VT),Ga(e,VT+"-"+t),this._engine.statesByElement.set(e,f={}));let y=f[t];const D=new Wx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&D.absorbOptions(y.options),f[t]=D,y||(y=Gx),D.value!==R0&&y.value===D.value){if(!function cH(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const l=t[i];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(y.params,D.params)){const te=[],se=l.matchStyles(y.value,y.params,te),De=l.matchStyles(D.value,D.params,te);te.length?this._engine.reportError(te):this._engine.afterFlush(()=>{cg(e,se),Hu(e,De)})}return}const F=Wo(this._engine.playersByElement,e,[]);F.forEach(te=>{te.namespaceId==this.id&&te.triggerName==t&&te.queued&&te.destroy()});let R=l.matchTransition(y.value,D.value,e,D.params),B=!1;if(!R){if(!i)return;R=l.fallbackTransition,B=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:R,fromState:y,toState:D,player:d,isFallbackTransition:B}),B||(Ga(e,MP),d.onStart(()=>{Gy(e,MP)})),d.onDone(()=>{let te=this.players.indexOf(d);te>=0&&this.players.splice(te,1);const se=this._engine.playersByElement.get(e);if(se){let De=se.indexOf(d);De>=0&&se.splice(De,1)}}),this.players.push(d),F.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,UT,!0);r.forEach(i=>{if(i[Wa])return;const l=this._engine.fetchNamespacesByElement(i);l.size?l.forEach(d=>d.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const l=this._engine.statesByElement.get(e),d=new Map;if(l){const f=[];if(Object.keys(l).forEach(y=>{if(d.set(y,l[y].value),this._triggers[y]){const D=this.trigger(e,y,R0,i);D&&f.push(D)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,d),r&&$h(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(l=>{const d=l.name;if(i.has(d))return;i.add(d);const y=this._triggers[d].fallbackTransition,D=r[d]||Gx,b=new Wx(R0),M=new Kx(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:D,toState:b,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)i=!0;else{let d=e;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[Wa];(!l||l===xP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ga(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const l=r.element,d=this._elementListeners.get(l);d&&d.forEach(f=>{if(f.name==r.triggerName){const y=Ix(l,r.triggerName,r.fromState.value,r.toState.value);y._data=e,bx(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const l=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==l||0==d?l-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class iH{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new rH(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const i=Object.keys(r);for(let l=0;l<i.length;l++){const d=r[i[l]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&t.add(f)}}}return t}trigger(e,t,r,i){if(YT(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!YT(t))return;const l=t[Wa];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ga(e,Zx)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Gy(e,Zx))}removeNode(e,t,r,i){if(YT(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,l){this.collectedLeaveElements.push(t),t[Wa]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:l}}listen(e,t,r,i,l){return YT(t)?this._fetchNamespace(e).listen(t,r,i,l):()=>{}}_buildInstruction(e,t,r,i,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,UT,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Nx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return $h(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Wa];if(r&&r.setForRemoval){if(e[Wa]=xP,r.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(r.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(Zx))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ga(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?$h(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new WT,i=[],l=new Map,d=[],f=new Map,y=new Map,D=new Map,b=new Set;this.disabledNodes.forEach(ot=>{b.add(ot);const wt=this.driver.query(ot,".ng-animate-queued",!0);for(let Tt=0;Tt<wt.length;Tt++)b.add(wt[Tt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),R=RP(F,this.collectedEnterElements),B=new Map;let te=0;R.forEach((ot,wt)=>{const Tt=Rx+te++;B.set(wt,Tt),ot.forEach(en=>Ga(en,Tt))});const se=[],De=new Set,Re=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const wt=this.collectedLeaveElements[ot],Tt=wt[Wa];Tt&&Tt.setForRemoval&&(se.push(wt),De.add(wt),Tt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(en=>De.add(en)):Re.add(wt))}const Be=new Map,Pe=RP(F,Array.from(De));Pe.forEach((ot,wt)=>{const Tt=LT+te++;Be.set(wt,Tt),ot.forEach(en=>Ga(en,Tt))}),e.push(()=>{R.forEach((ot,wt)=>{const Tt=B.get(wt);ot.forEach(en=>Gy(en,Tt))}),Pe.forEach((ot,wt)=>{const Tt=Be.get(wt);ot.forEach(en=>Gy(en,Tt))}),se.forEach(ot=>{this.processLeaveNode(ot)})});const ct=[],Ft=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Tt=>{const en=Tt.player,pn=Tt.element;if(ct.push(en),this.collectedEnterElements.length){const Hs=pn[Wa];if(Hs&&Hs.setForMove){if(Hs.previousTriggersValues&&Hs.previousTriggersValues.has(Tt.triggerName)){const fg=Hs.previousTriggersValues.get(Tt.triggerName),qh=this.statesByElement.get(Tt.element);qh&&qh[Tt.triggerName]&&(qh[Tt.triggerName].value=fg)}return void en.destroy()}}const hr=!M||!this.driver.containsElement(M,pn),Li=Be.get(pn),Ka=B.get(pn),zn=this._buildInstruction(Tt,r,Ka,Li,hr);if(zn.errors&&zn.errors.length)return void Ft.push(zn);if(hr)return en.onStart(()=>cg(pn,zn.fromStyles)),en.onDestroy(()=>Hu(pn,zn.toStyles)),void i.push(en);if(Tt.isFallbackTransition)return en.onStart(()=>cg(pn,zn.fromStyles)),en.onDestroy(()=>Hu(pn,zn.toStyles)),void i.push(en);const N0=[];zn.timelines.forEach(Hs=>{Hs.stretchStartingKeyframe=!0,this.disabledNodes.has(Hs.element)||N0.push(Hs)}),zn.timelines=N0,r.append(pn,zn.timelines),d.push({instruction:zn,player:en,element:pn}),zn.queriedElements.forEach(Hs=>Wo(f,Hs,[]).push(en)),zn.preStyleProps.forEach((Hs,fg)=>{const qh=Object.keys(Hs);if(qh.length){let pg=y.get(fg);pg||y.set(fg,pg=new Set),qh.forEach(nk=>pg.add(nk))}}),zn.postStyleProps.forEach((Hs,fg)=>{const qh=Object.keys(Hs);let pg=D.get(fg);pg||D.set(fg,pg=new Set),qh.forEach(nk=>pg.add(nk))})});if(Ft.length){const ot=[];Ft.forEach(wt=>{ot.push(`@${wt.triggerName} has failed due to:\n`),wt.errors.forEach(Tt=>ot.push(`- ${Tt}\n`))}),ct.forEach(wt=>wt.destroy()),this.reportError(ot)}const Yt=new Map,qt=new Map;d.forEach(ot=>{const wt=ot.element;r.has(wt)&&(qt.set(wt,wt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,Yt))}),i.forEach(ot=>{const wt=ot.element;this._getPreviousPlayers(wt,!1,ot.namespaceId,ot.triggerName,null).forEach(en=>{Wo(Yt,wt,[]).push(en),en.destroy()})});const Ot=se.filter(ot=>PP(ot,y,D)),It=new Map;OP(It,this.driver,Re,D,so).forEach(ot=>{PP(ot,y,D)&&Ot.push(ot)});const We=new Map;R.forEach((ot,wt)=>{OP(We,this.driver,new Set(ot),y,"!")}),Ot.forEach(ot=>{const wt=It.get(ot),Tt=We.get(ot);It.set(ot,Object.assign(Object.assign({},wt),Tt))});const fn=[],yn=[],hg={};d.forEach(ot=>{const{element:wt,player:Tt,instruction:en}=ot;if(r.has(wt)){if(b.has(wt))return Tt.onDestroy(()=>Hu(wt,en.toStyles)),Tt.disabled=!0,Tt.overrideTotalTime(en.totalTime),void i.push(Tt);let pn=hg;if(qt.size>1){let Li=wt;const Ka=[];for(;Li=Li.parentNode;){const zn=qt.get(Li);if(zn){pn=zn;break}Ka.push(Li)}Ka.forEach(zn=>qt.set(zn,pn))}const hr=this._buildAnimation(Tt.namespaceId,en,Yt,l,We,It);if(Tt.setRealPlayer(hr),pn===hg)fn.push(Tt);else{const Li=this.playersByElement.get(pn);Li&&Li.length&&(Tt.parentPlayer=$h(Li)),i.push(Tt)}}else cg(wt,en.fromStyles),Tt.onDestroy(()=>Hu(wt,en.toStyles)),yn.push(Tt),b.has(wt)&&i.push(Tt)}),yn.forEach(ot=>{const wt=l.get(ot.element);if(wt&&wt.length){const Tt=$h(wt);ot.setRealPlayer(Tt)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<se.length;ot++){const wt=se[ot],Tt=wt[Wa];if(Gy(wt,LT),Tt&&Tt.hasAnimation)continue;let en=[];if(f.size){let hr=f.get(wt);hr&&hr.length&&en.push(...hr);let Li=this.driver.query(wt,Nx,!0);for(let Ka=0;Ka<Li.length;Ka++){let zn=f.get(Li[Ka]);zn&&zn.length&&en.push(...zn)}}const pn=en.filter(hr=>!hr.destroyed);pn.length?lH(this,wt,pn):this.processLeaveNode(wt)}return se.length=0,fn.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const wt=this.players.indexOf(ot);this.players.splice(wt,1)}),ot.play()}),fn}elementContainsData(e,t){let r=!1;const i=t[Wa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,l){let d=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(d=f)}else{const f=this.playersByElement.get(e);if(f){const y=!l||l==R0;f.forEach(D=>{D.queued||!y&&D.triggerName!=i||d.push(D)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(e,t,r){const l=t.element,d=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const D=y.element,b=D!==l,M=Wo(r,D,[]);this._getPreviousPlayers(D,b,d,f,t.toState).forEach(R=>{const B=R.getRealPlayer();B.beforeDestroy&&B.beforeDestroy(),R.destroy(),M.push(R)})}cg(l,t.fromStyles)}_buildAnimation(e,t,r,i,l,d){const f=t.triggerName,y=t.element,D=[],b=new Set,M=new Set,F=t.timelines.map(B=>{const te=B.element;b.add(te);const se=te[Wa];if(se&&se.removedBeforeQueried)return new cc(B.duration,B.delay);const De=te!==y,Re=function uH(n){const e=[];return NP(n,e),e}((r.get(te)||tH).map(Yt=>Yt.getRealPlayer())).filter(Yt=>!!Yt.element&&Yt.element===te),Be=l.get(te),Pe=d.get(te),ct=lP(0,this._normalizer,0,B.keyframes,Be,Pe),Ft=this._buildPlayer(B,ct,Re);if(B.subTimeline&&i&&M.add(te),De){const Yt=new Kx(e,f,te);Yt.setRealPlayer(Ft),D.push(Yt)}return Ft});D.forEach(B=>{Wo(this.playersByQueriedElement,B.element,[]).push(B),B.onDone(()=>function sH(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,B.element,B))}),b.forEach(B=>Ga(B,gP));const R=$h(F);return R.onDestroy(()=>{b.forEach(B=>Gy(B,gP)),Hu(y,t.toStyles)}),M.forEach(B=>{Wo(i,B,[]).push(R)}),R}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new cc(e.duration,e.delay)}}class Kx{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new cc,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>bx(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Wo(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function YT(n){return n&&1===n.nodeType}function kP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function OP(n,e,t,r,i){const l=[];t.forEach(y=>l.push(kP(y)));const d=[];r.forEach((y,D)=>{const b={};y.forEach(M=>{const F=b[M]=e.computeStyle(D,M,i);(!F||0==F.length)&&(D[Wa]=nH,d.push(D))}),n.set(D,b)});let f=0;return t.forEach(y=>kP(y,l[f++])),d}function RP(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const i=new Set(e),l=new Map;function d(f){if(!f)return 1;let y=l.get(f);if(y)return y;const D=f.parentNode;return y=t.has(D)?D:i.has(D)?1:d(D),l.set(f,y),y}return e.forEach(f=>{const y=d(f);1!==y&&t.get(y).push(f)}),t}function Ga(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Gy(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function lH(n,e,t){$h(t).onDone(()=>n.processLeaveNode(e))}function NP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof df?NP(r.players,e):e.push(r)}}function PP(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(l=>i.add(l)):e.set(n,r),t.delete(n),!0}class QT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,l)=>{},this._transitionEngine=new iH(e,t,r),this._timelineEngine=new Yj(e,t,r),this._transitionEngine.onRemovalComplete=(i,l)=>this.onRemovalComplete(i,l)}registerTrigger(e,t,r,i,l){const d=e+"-"+i;let f=this._triggerCache[d];if(!f){const y=[],D=Ux(this._driver,l,y);if(y.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);f=function Zj(n,e,t){return new Wj(n,e,t)}(i,D,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[l,d]=uP(r);this._timelineEngine.command(l,t,d,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,l){if("@"==r.charAt(0)){const[d,f]=uP(r);return this._timelineEngine.listen(d,t,f,l)}return this._transitionEngine.listen(e,t,r,i,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function FP(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Yx(e[0]),e.length>1&&(r=Yx(e[e.length-1]))):e&&(t=Yx(e)),t||r?new dH(n,t,r):null}let dH=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Hu(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hu(this._element,this._initialStyles),this._endStyles&&(Hu(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(cg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(cg(this._element,this._endStyles),this._endStyles=null),Hu(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Yx(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=t[r];hH(i)&&(e=e||{},e[i]=n[i])}return e}function hH(n){return"display"===n||"position"===n}const LP="animation",VP="animationend";class gH{constructor(e,t,r,i,l,d,f){this._element=e,this._name=t,this._duration=r,this._delay=i,this._easing=l,this._fillMode=d,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function mH(n,e){const t=Jx(n,"").trim();let r=0;t.length&&(r=function vH(n,e){let t=0;for(let r=0;r<n.length;r++)n.charAt(r)===e&&t++;return t}(t,",")+1,e=`${t}, ${e}`),JT(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),jP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){UP(this._element,this._name,"paused")}resume(){UP(this._element,this._name,"running")}setPosition(e){const t=BP(this._element,this._name);this._position=e*this._duration,JT(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),jP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function yH(n,e){const r=Jx(n,"").split(","),i=Qx(r,e);i>=0&&(r.splice(i,1),JT(n,"",r.join(",")))}(this._element,this._name))}}function UP(n,e,t){JT(n,"PlayState",t,BP(n,e))}function BP(n,e){const t=Jx(n,"");return t.indexOf(",")>0?Qx(t.split(","),e):Qx([t],e)}function Qx(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function jP(n,e,t){t?n.removeEventListener(VP,e):n.addEventListener(VP,e)}function JT(n,e,t,r){const i=LP+e;if(null!=r){const l=n.style[i];if(l.length){const d=l.split(",");d[r]=t,t=d.join(",")}}n.style[i]=t}function Jx(n,e){return n.style[LP+e]||""}class HP{constructor(e,t,r,i,l,d,f,y){this.element=e,this.keyframes=t,this.animationName=r,this._duration=i,this._delay=l,this._finalStyles=f,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=i+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new gH(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Vx(this.element,r))})}this.currentSnapshot=e}}class EH extends cc{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=hP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class zP{constructor(){this._count=0}validateStyleProperty(e){return Mx(e)}matchesElement(e,t){return!1}containsElement(e,t){return xx(e,t)}query(e,t,r){return kx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(f=>hP(f));let i=`@keyframes ${t} {\n`,l="";r.forEach(f=>{l=" ";const y=parseFloat(f.offset);i+=`${l}${100*y}% {\n`,l+=" ",Object.keys(f).forEach(D=>{const b=f[D];switch(D){case"offset":return;case"easing":return void(b&&(i+=`${l}animation-timing-function: ${b};\n`));default:return void(i+=`${l}${D}: ${b};\n`)}}),i+=`${l}}\n`}),i+="}\n";const d=document.createElement("style");return d.textContent=i,d}animate(e,t,r,i,l,d=[],f){const y=d.filter(se=>se instanceof HP),D={};wP(r,i)&&y.forEach(se=>{let De=se.currentSnapshot;Object.keys(De).forEach(Re=>D[Re]=De[Re])});const b=function TH(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(e[i]=r[i])})}),e}(t=EP(e,t,D));if(0==r)return new EH(e,b);const M="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(e,M,t);(function CH(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild(F);const B=FP(e,t),te=new HP(e,t,M,r,i,l,b,B);return te.onDestroy(()=>function bH(n){n.parentNode.removeChild(n)}(F)),te}}class ZP{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:Vx(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class SH{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(WP().toString()),this._cssKeyframesDriver=new zP}validateStyleProperty(e){return Mx(e)}matchesElement(e,t){return!1}containsElement(e,t){return xx(e,t)}query(e,t,r){return kx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,i,l,d=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,i,l,d);const b={duration:r,delay:i,fill:0==i?"both":"forwards"};l&&(b.easing=l);const M={},F=d.filter(B=>B instanceof ZP);wP(r,i)&&F.forEach(B=>{let te=B.currentSnapshot;Object.keys(te).forEach(se=>M[se]=te[se])});const R=FP(e,t=EP(e,t=t.map(B=>zh(B,!1)),M));return new ZP(e,t,b,R)}}function WP(){return aP()&&Element.prototype.animate||{}}let AH=(()=>{class n extends ac{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:a.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?Og(t):t;return GP(this._renderer,null,r,"register",[i]),new MH(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(ce))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class MH extends class lc{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xH(this._id,e,t||{},this._renderer)}}class xH{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return GP(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function GP(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const KP="@.disabled";let kH=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,d)=>{const f=null==d?void 0:d.parentNode(l);f&&d.removeChild(f,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let b=this._rendererCache.get(l);return b||(b=new YP("",l,this.engine),this._rendererCache.set(l,b)),b}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const y=b=>{Array.isArray(b)?b.forEach(y):this.engine.registerTrigger(d,f,t,b.name,b)};return r.data.animation.forEach(y),new OH(this,f,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[d,f]=l;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(a.FYo),a.LFG(QT),a.LFG(a.R0b))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();class YP{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==KP?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class OH extends YP{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==KP?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function RH(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),d="";return"@"!=l.charAt(0)&&([l,d]=function NH(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,i,l,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let PH=(()=>{class n extends QT{constructor(t,r,i){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(ce),a.LFG(Ox),a.LFG(zx))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac}),n})();const QP=new a.OlP("AnimationModuleType"),JP=[{provide:ac,useClass:AH},{provide:zx,useFactory:function LH(){return new jj}},{provide:QT,useClass:PH},{provide:a.FYo,useFactory:function VH(n,e,t){return new kH(n,e,t)},deps:[si,QT,a.R0b]}],XP=[{provide:Ox,useFactory:function FH(){return function IH(){return"function"==typeof WP()}()?new SH:new zP}},{provide:QP,useValue:"BrowserAnimations"},...JP],UH=[{provide:Ox,useClass:fP},{provide:QP,useValue:"NoopAnimations"},...JP];let BH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?UH:XP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:XP,imports:[ad]}),n})();function eF(n,e){return function jH(n,e=Cs.z){return new wn.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Xx(n,e){return eF(n,e).pipe((0,Qe.U)(t=>({payload:t,type:"query"})))}function eb(n,e){return Xx(n,e).pipe(Di(void 0),S(),(0,Qe.U)(([t,r])=>{const i=r.payload.docChanges(),l=i.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const y=i.find(b=>b.doc.ref.isEqual(d.ref)),D=null==t?void 0:t.payload.docs.find(b=>b.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&D&&JSON.stringify(D.metadata)===JSON.stringify(d.metadata)||l.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),l}))}function tF(n,e,t){return eb(n,t).pipe(Ld((r,i)=>function $H(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function zH(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ek(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ek(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ek(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(l=>l.payload),e),[]),k(),(0,Qe.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function ek(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function nF(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class rF{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=eb(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Qe.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Di(void 0),S(),Jt(([r,i])=>i.length>0||!r),(0,Qe.U)(([r,i])=>i),Pi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ld((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nF(e);return tF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pi.iC)}valueChanges(e={}){return Xx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Pi.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(Pi.iC)}add(e){return this.ref.add(e)}doc(e){return new iF(this.ref.doc(e),this.afs)}}class iF{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:l}=aF(r,t);return new rF(i,l,this.afs)}snapshotChanges(){return function HH(n,e){return eF(n,e).pipe(Di(void 0),S(),(0,Qe.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Pi.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,nn.D)(this.ref.get(e)).pipe(Pi.iC)}}class qH{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?eb(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Jt(t=>t.length>0),Pi.iC):eb(this.query,this.afs.schedulers.outsideAngular).pipe(Pi.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ld((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=nF(e);return tF(this.query,t,this.afs.schedulers.outsideAngular).pipe(Pi.iC)}valueChanges(e={}){return Xx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Qe.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Pi.iC)}get(e){return(0,nn.D)(this.query.get(e)).pipe(Pi.iC)}}const sF=new a.OlP("angularfire2.enableFirestorePersistence"),oF=new a.OlP("angularfire2.firestore.persistenceSettings"),ZH=new a.OlP("angularfire2.firestore.settings"),WH=new a.OlP("angularfire2.firestore.use-emulator");function aF(n,e=(t=>t)){return{query:e(n),ref:n}}let GH=(()=>{class n{constructor(t,r,i,l,d,f,y,D,b,M,F,R,B,te,se,De,Re){this.schedulers=y;const Be=(0,Zl.on)(t,f,r),Pe=b;M&&GR(Be,f,F,B,te,se,R,De),[this.firestore,this.persistenceEnabled$]=(0,Zl.cc)(`${Be.name}.firestore`,"AngularFirestore",Be.name,()=>{const ct=f.runOutsideAngular(()=>Be.firestore());if(l&&ct.settings(l),Pe&&ct.useEmulator(...Pe),i&&!qr(d)){const Ft=()=>{try{return(0,nn.D)(ct.enablePersistence(D||void 0).then(()=>!0,()=>!1))}catch(Yt){return"undefined"!=typeof console&&console.warn(Yt),_t(!1)}};return[ct,f.runOutsideAngular(Ft)]}return[ct,_t(!1)]},[l,Pe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:d}=aF(i,r),f=this.schedulers.ngZone.run(()=>l);return new rF(f,d,this)}collectionGroup(t,r){const i=r||(d=>d),l=this.firestore.collectionGroup(t);return new qH(i(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new iF(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(a.LFG(Zl.Dh),a.LFG(Zl.xv,8),a.LFG(sF,8),a.LFG(ZH,8),a.LFG(a.Lbi),a.LFG(a.R0b),a.LFG(Pi.HU),a.LFG(oF,8),a.LFG(WH,8),a.LFG(S0,8),a.LFG(HR,8),a.LFG($R,8),a.LFG(zR,8),a.LFG(qR,8),a.LFG(ZR,8),a.LFG(WR,8),a.LFG(XM,8))},n.\u0275prov=a.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),KH=(()=>{class n{constructor(){Fl.Z.registerVersion("angularfire",Pi.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:sF,useValue:!0},{provide:oF,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n}),n.\u0275inj=a.cJS({providers:[GH]}),n})();function YH(n){return()=>new Promise((e,t)=>{n.getUser().subscribe(r=>e(r))})}let QH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=a.oAB({type:n,bootstrap:[pj]}),n.\u0275inj=a.cJS({providers:[{provide:a.ip1,useFactory:YH,multi:!0,deps:[Fh]}],imports:[[BH,JN,ad,ZS,fj,db.forRoot({provide:co,useFactory:Hv}),Zl.hO.initializeApp(NS),KH,pU]]}),n})();(0,a.G48)(),Gu().bootstrapModule(QH).catch(n=>console.error(n))},5867:(at,Ce,N)=>{"use strict";N.d(Ce,{Mq:()=>a.getApp,C6:()=>a.getApps});var a=N(9681);(0,a.registerVersion)("firebase","9.6.3","app")},127:(at,Ce,N)=>{"use strict";N.d(Ce,{Z:()=>a.Z});var a=N(3942);a.Z.registerVersion("firebase","9.6.3","app-compat")},7264:(at,Ce,N)=>{"use strict";N.r(Ce);var a=N(5861),re=N(3942),P=N(2090),ue=N(9681),ae=N(655),me=N(1877),ce=N(4859);const Fe=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},nt=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ee=new P.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),we=new me.Yd("@firebase/auth");function xe(v,...p){we.logLevel<=me.in.ERROR&&we.error(`Auth (${ue.SDK_VERSION}): ${v}`,...p)}function ye(v,...p){throw Ge(v,...p)}function Ne(v,...p){return Ge(v,...p)}function be(v,p,m){const w=Object.assign(Object.assign({},nt()),{[p]:m});return new P.LL("auth","Firebase",w).create(p,{appName:v.name})}function et(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&ye(v,"argument-error"),be(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ge(v,...p){if("string"!=typeof v){const m=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=v.name),v._errorFactory.create(m,...w)}return ee.create(v,...p)}function he(v,p,...m){if(!v)throw Ge(p,...m)}function V(v){const p="INTERNAL ASSERTION FAILED: "+v;throw xe(p),new Error(p)}function H(v,p){v||V(p)}const Z=new Map;function W(v){H(v instanceof Function,"Expected a class definition");let p=Z.get(v);return p?(H(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,Z.set(v,p),p)}function ze(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function gt(){return"http:"===rn()||"https:"===rn()}function rn(){var v;return"undefined"!=typeof self&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Tn{constructor(p,m){this.shortDelay=p,this.longDelay=m,H(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,P.uI)()||(0,P.b$)()}get(){return function Le(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(gt()||(0,P.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function At(v,p){H(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class On{static initialize(p,m,w){this.fetchImpl=p,m&&(this.headersImpl=m),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void V("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void V("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void V("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fi=new Tn(3e4,6e4);function ln(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function $t(v,p,m,w){return cs.apply(this,arguments)}function cs(){return(cs=(0,a.Z)(function*(v,p,m,w,A={}){return Dr(v,A,(0,a.Z)(function*(){let O={},J={};w&&("GET"===p?J=w:O={body:JSON.stringify(w)});const ve=(0,P.xO)(Object.assign({key:v.config.apiKey},J)).slice(1),qe=yield v._getAdditionalHeaders();return qe["Content-Type"]="application/json",v.languageCode&&(qe["X-Firebase-Locale"]=v.languageCode),On.fetch()(zs(v,v.config.apiHost,m,ve),Object.assign({method:p,headers:qe,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function Dr(v,p,m){return $s.apply(this,arguments)}function $s(){return($s=(0,a.Z)(function*(v,p,m){v._canInitEmulator=!1;const w=Object.assign(Object.assign({},Qt),p);try{const A=new pi(v),O=yield Promise.race([m(),A.promise]);A.clearNetworkTimeout();const J=yield O.json();if("needConfirmation"in J)throw Qi(v,"account-exists-with-different-credential",J);if(O.ok&&!("errorMessage"in J))return J;{const ve=O.ok?J.errorMessage:J.error.message,[qe,lt]=ve.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===qe)throw Qi(v,"credential-already-in-use",J);if("EMAIL_EXISTS"===qe)throw Qi(v,"email-already-in-use",J);const Ct=w[qe]||qe.toLowerCase().replace(/[_\s]+/g,"-");if(lt)throw be(v,Ct,lt);ye(v,Ct)}}catch(A){if(A instanceof P.ZR)throw A;ye(v,"network-request-failed")}})).apply(this,arguments)}function jr(v,p,m,w){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,a.Z)(function*(v,p,m,w,A={}){const O=yield $t(v,p,m,w,A);return"mfaPendingCredential"in O&&ye(v,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function zs(v,p,m,w){const A=`${p}${m}?${w}`;return v.config.emulator?At(v.config,A):`${v.config.apiScheme}://${A}`}class pi{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,w)=>{this.timer=setTimeout(()=>w(Ne(this.auth,"timeout")),fi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Qi(v,p,m){const w={appName:v.name};m.email&&(w.email=m.email),m.phoneNumber&&(w.phoneNumber=m.phoneNumber);const A=Ne(v,p,w);return A.customData._tokenResponse=m,A}function Jr(){return(Jr=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function sr(v,p){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function _o(v,p){return bt.apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function it(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch(p){}}function kr(){return(kr=(0,a.Z)(function*(v,p=!1){const m=(0,P.m9)(v),w=yield m.getIdToken(p),A=st(w);he(A&&A.exp&&A.auth_time&&A.iat,m.auth,"internal-error");const O="object"==typeof A.firebase?A.firebase:void 0,J=null==O?void 0:O.sign_in_provider;return{claims:A,token:w,authTime:it(jt(A.auth_time)),issuedAtTime:it(jt(A.iat)),expirationTime:it(jt(A.exp)),signInProvider:J||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function jt(v){return 1e3*Number(v)}function st(v){const[p,m,w]=v.split(".");if(void 0===p||void 0===m||void 0===w)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const A=(0,P.tV)(m);return A?JSON.parse(A):(xe("Failed to decode base64 JWT payload"),null)}catch(A){return xe("Caught error parsing JWT payload as JSON",A),null}}function sn(v,p){return ds.apply(this,arguments)}function ds(){return(ds=(0,a.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(w){throw w instanceof P.ZR&&Gt(w)&&v.auth.currentUser===v&&(yield v.auth.signOut()),w}})).apply(this,arguments)}function Gt({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class Ya{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const A=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,A)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,a.Z)(function*(){yield m.iteration()}),w)}iteration(){var p=this;return(0,a.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m.code&&p.schedule(!0))}p.schedule()})()}}class Xr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=it(this.lastLoginAt),this.creationTime=it(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function gi(v){return j.apply(this,arguments)}function j(){return(j=(0,a.Z)(function*(v){var p;const m=v.auth,w=yield v.getIdToken(),A=yield sn(v,_o(m,{idToken:w}));he(null==A?void 0:A.users.length,m,"internal-error");const O=A.users[0];v._notifyReloadListener(O);const J=(null===(p=O.providerUserInfo)||void 0===p?void 0:p.length)?oe(O.providerUserInfo):[],ve=Te(v.providerData,J),Ct=!!v.isAnonymous&&!(v.email&&O.passwordHash||(null==ve?void 0:ve.length)),ft={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ve,metadata:new Xr(O.createdAt,O.lastLoginAt),isAnonymous:Ct};Object.assign(v,ft)})).apply(this,arguments)}function Y(){return(Y=(0,a.Z)(function*(v){const p=(0,P.m9)(v);yield gi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Te(v,p){return[...v.filter(w=>!p.some(A=>A.providerId===w.providerId)),...p]}function oe(v){return v.map(p=>{var{providerId:m}=p,w=(0,ae._T)(p,["providerId"]);return{providerId:m,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Dt(){return(Dt=(0,a.Z)(function*(v,p){const m=yield Dr(v,{},(0,a.Z)(function*(){const w=(0,P.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:A,apiKey:O}=v.config,J=zs(v,A,"/v1/token",`key=${O}`),ve=yield v._getAdditionalHeaders();return ve["Content-Type"]="application/x-www-form-urlencoded",On.fetch()(J,{method:"POST",headers:ve,body:w})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){he(p.idToken,"internal-error"),he(void 0!==p.idToken,"internal-error"),he(void 0!==p.refreshToken,"internal-error");const m="expiresIn"in p&&void 0!==p.expiresIn?Number(p.expiresIn):function mt(v){const p=st(v);return he(p,"internal-error"),he(void 0!==p.exp,"internal-error"),he(void 0!==p.iat,"internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var w=this;return(0,a.Z)(function*(){return he(!w.accessToken||w.refreshToken,p,"user-token-expired"),m||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var w=this;return(0,a.Z)(function*(){const{accessToken:A,refreshToken:O,expiresIn:J}=yield function Ye(v,p){return Dt.apply(this,arguments)}(p,m);w.updateTokensAndExpiration(A,O,Number(J))})()}updateTokensAndExpiration(p,m,w){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,m){const{refreshToken:w,accessToken:A,expirationTime:O}=m,J=new gn;return w&&(he("string"==typeof w,"internal-error",{appName:p}),J.refreshToken=w),A&&(he("string"==typeof A,"internal-error",{appName:p}),J.accessToken=A),O&&(he("number"==typeof O,"internal-error",{appName:p}),J.expirationTime=O),J}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return V("not implemented")}}function bn(v,p){he("string"==typeof v||void 0===v,"internal-error",{appName:p})}class An{constructor(p){var{uid:m,auth:w,stsTokenManager:A}=p,O=(0,ae._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ya(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=w,this.stsTokenManager=A,this.accessToken=A.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.metadata=new Xr(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,a.Z)(function*(){const w=yield sn(m,m.stsTokenManager.getToken(m.auth,p));return he(w,m.auth,"internal-error"),m.accessToken!==w&&(m.accessToken=w,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),w})()}getIdTokenResult(p){return function In(v){return kr.apply(this,arguments)}(this,p)}reload(){return function K(v){return Y.apply(this,arguments)}(this)}_assign(p){this!==p&&(he(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new An(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var w=this;return(0,a.Z)(function*(){let A=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),A=!0),m&&(yield gi(w)),yield w.auth._persistUserIfCurrent(w),A&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,a.Z)(function*(){const m=yield p.getIdToken();return yield sn(p,function Et(v,p){return Jr.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var w,A,O,J,ve,qe,lt,Ct;const ft=null!==(w=m.displayName)&&void 0!==w?w:void 0,cr=null!==(A=m.email)&&void 0!==A?A:void 0,zi=null!==(O=m.phoneNumber)&&void 0!==O?O:void 0,mu=null!==(J=m.photoURL)&&void 0!==J?J:void 0,Mf=null!==(ve=m.tenantId)&&void 0!==ve?ve:void 0,Gg=null!==(qe=m._redirectEventId)&&void 0!==qe?qe:void 0,qi=null!==(lt=m.createdAt)&&void 0!==lt?lt:void 0,bl=null!==(Ct=m.lastLoginAt)&&void 0!==Ct?Ct:void 0,{uid:Sl,emailVerified:ka,isAnonymous:mc,providerData:yc,stsTokenManager:Md}=m;he(Sl&&Md,p,"internal-error");const Kg=gn.fromJSON(this.name,Md);he("string"==typeof Sl,p,"internal-error"),bn(ft,p.name),bn(cr,p.name),he("boolean"==typeof ka,p,"internal-error"),he("boolean"==typeof mc,p,"internal-error"),bn(zi,p.name),bn(mu,p.name),bn(Mf,p.name),bn(Gg,p.name),bn(qi,p.name),bn(bl,p.name);const xf=new An({uid:Sl,auth:p,email:cr,emailVerified:ka,displayName:ft,isAnonymous:mc,photoURL:mu,phoneNumber:zi,tenantId:Mf,stsTokenManager:Kg,createdAt:qi,lastLoginAt:bl});return yc&&Array.isArray(yc)&&(xf.providerData=yc.map(Yg=>Object.assign({},Yg))),Gg&&(xf._redirectEventId=Gg),xf}static _fromIdTokenResponse(p,m,w=!1){return(0,a.Z)(function*(){const A=new gn;A.updateFromServerResponse(m);const O=new An({uid:m.localId,auth:p,stsTokenManager:A,isAnonymous:w});return yield gi(O),O})()}}const Vt=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(m,w){var A=this;return(0,a.Z)(function*(){A.storage[m]=w})()}_get(m){var w=this;return(0,a.Z)(function*(){const A=w.storage[m];return void 0===A?null:A})()}_remove(m){var w=this;return(0,a.Z)(function*(){delete w.storage[m]})()}_addListener(m,w){}_removeListener(m,w){}}return v.type="NONE",v})();function or(v,p,m){return`firebase:${v}:${p}:${m}`}class Hr{constructor(p,m,w){this.persistence=p,this.auth=m,this.userKey=w;const{config:A,name:O}=this.auth;this.fullUserKey=or(this.userKey,A.apiKey,O),this.fullPersistenceKey=or("persistence",A.apiKey,O),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,a.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?An._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,a.Z)(function*(){if(m.persistence===p)return;const w=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,w?m.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,w="authUser"){return(0,a.Z)(function*(){if(!m.length)return new Hr(W(Vt),p,w);const A=(yield Promise.all(m.map(function(){var lt=(0,a.Z)(function*(Ct){if(yield Ct._isAvailable())return Ct});return function(Ct){return lt.apply(this,arguments)}}()))).filter(lt=>lt);let O=A[0]||W(Vt);const J=or(w,p.config.apiKey,p.name);let ve=null;for(const lt of m)try{const Ct=yield lt._get(J);if(Ct){const ft=An._fromJSON(p,Ct);lt!==O&&(ve=ft),O=lt;break}}catch(Ct){}const qe=A.filter(lt=>lt._shouldAllowMigration);return O._shouldAllowMigration&&qe.length?(O=qe[0],ve&&(yield O._set(J,ve.toJSON())),yield Promise.all(m.map(function(){var lt=(0,a.Z)(function*(Ct){if(Ct!==O)try{yield Ct._remove(J)}catch(ft){}});return function(Ct){return lt.apply(this,arguments)}}())),new Hr(O,p,w)):new Hr(O,p,w)})()}}function Gl(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ar(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Qa(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(hs(p))return"Blackberry";if(lr(p))return"Webos";if(Kl(p))return"Safari";if((p.includes("chrome/")||Ja(p))&&!p.includes("edge/"))return"Chrome";if($r(p))return"Android";{const w=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Qa(v=(0,P.z$)()){return/firefox\//i.test(v)}function Kl(v=(0,P.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Ja(v=(0,P.z$)()){return/crios\//i.test(v)}function ar(v=(0,P.z$)()){return/iemobile/i.test(v)}function $r(v=(0,P.z$)()){return/android/i.test(v)}function hs(v=(0,P.z$)()){return/blackberry/i.test(v)}function lr(v=(0,P.z$)()){return/webos/i.test(v)}function ti(v=(0,P.z$)()){return/iphone|ipad|ipod/i.test(v)}function qs(v=(0,P.z$)()){return ti(v)||$r(v)||lr(v)||hs(v)||/windows phone/i.test(v)||ar(v)}function Ko(v,p=[]){let m;switch(v){case"Browser":m=Gl((0,P.z$)());break;case"Worker":m=`${Gl((0,P.z$)())}-${v}`;break;default:m=v}const w=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${ue.SDK_VERSION}/${w}`}class ni{constructor(p,m){this.app=p,this.config=m,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lt(this),this.idTokenSubscription=new Lt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ee,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=m.sdkClientVersion}_initializeWithPersistence(p,m){var w=this;return m&&(this._popupRedirectResolver=W(m)),this._initializationPromise=this.queue((0,a.Z)(function*(){var A,O;if(!w._deleted&&(w.persistenceManager=yield Hr.create(w,p),!w._deleted)){if(null===(A=w._popupRedirectResolver)||void 0===A?void 0:A._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(J){}yield w.initializeCurrentUser(m),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,a.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m)}})()}initializeCurrentUser(p){var m=this;return(0,a.Z)(function*(){var w;let A=yield m.assertedPersistence.getCurrentUser();if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const O=null===(w=m.redirectUser)||void 0===w?void 0:w._redirectEventId,J=null==A?void 0:A._redirectEventId,ve=yield m.tryRedirectSignIn(p);(!O||O===J)&&(null==ve?void 0:ve.user)&&(A=ve.user)}return A?A._redirectEventId?(he(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===A._redirectEventId?m.directlySetCurrentUser(A):m.reloadAndSetCurrentUserOrClear(A)):m.reloadAndSetCurrentUserOrClear(A):m.directlySetCurrentUser(null)})()}tryRedirectSignIn(p){var m=this;return(0,a.Z)(function*(){let w=null;try{w=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch(A){yield m._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,a.Z)(function*(){try{yield gi(p)}catch(w){if("auth/network-request-failed"!==w.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Je(){if("undefined"==typeof navigator)return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,a.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,a.Z)(function*(){const w=p?(0,P.m9)(p):null;return w&&he(w.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(w&&w._clone(m))})()}_updateCurrentUser(p){var m=this;return(0,a.Z)(function*(){if(!m._deleted)return p&&he(m.tenantId===p.tenantId,m,"tenant-id-mismatch"),m.queue((0,a.Z)(function*(){yield m.directlySetCurrentUser(p),m.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,a.Z)(function*(){return(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null)})()}setPersistence(p){var m=this;return this.queue((0,a.Z)(function*(){yield m.assertedPersistence.setPersistence(W(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new P.LL("auth","Firebase",p())}onAuthStateChanged(p,m,w){return this.registerStateListener(this.authStateSubscription,p,m,w)}onIdTokenChanged(p,m,w){return this.registerStateListener(this.idTokenSubscription,p,m,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var w=this;return(0,a.Z)(function*(){const A=yield w.getOrInitRedirectPersistenceManager(m);return null===p?A.removeCurrentUser():A.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,a.Z)(function*(){if(!m.redirectPersistenceManager){const w=p&&W(p)||m._popupRedirectResolver;he(w,m,"argument-error"),m.redirectPersistenceManager=yield Hr.create(m,[W(w._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,a.Z)(function*(){var w,A;return m._isInitialized&&(yield m.queue((0,a.Z)(function*(){}))),(null===(w=m._currentUser)||void 0===w?void 0:w._redirectEventId)===p?m._currentUser:(null===(A=m.redirectUser)||void 0===A?void 0:A._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,a.Z)(function*(){if(p===m.currentUser)return m.queue((0,a.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,w,A){if(this._deleted)return()=>{};const O="function"==typeof m?m:m.next.bind(m),J=this._isInitialized?Promise.resolve():this._initializationPromise;return he(J,this,"internal-error"),J.then(()=>O(this.currentUser)),"function"==typeof m?p.addObserver(m,w,A):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,a.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Ko(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,a.Z)(function*(){const m={"X-Client-Version":p.clientVersion};return p.app.options.appId&&(m["X-Firebase-gmpid"]=p.app.options.appId),m})()}}function Ue(v){return(0,P.m9)(v)}class Lt{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,P.ne)(m=>this.observer=m)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function zr(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Zn(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class tn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return V("not implemented")}_getIdTokenResponse(p){return V("not implemented")}_linkToIdToken(p,m){return V("not implemented")}_getReauthenticationResolver(p){return V("not implemented")}}function Eo(v,p){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:resetPassword",ln(v,p))})).apply(this,arguments)}function Rt(v,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Or(v,p){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:update",ln(v,p))})).apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signInWithPassword",ln(v,p))})).apply(this,arguments)}function Zs(v,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:sendOobCode",ln(v,p))})).apply(this,arguments)}function un(v,p){return cn.apply(this,arguments)}function cn(){return(cn=(0,a.Z)(function*(v,p){return Zs(v,p)})).apply(this,arguments)}function Yc(v,p){return To.apply(this,arguments)}function To(){return(To=(0,a.Z)(function*(v,p){return Zs(v,p)})).apply(this,arguments)}function mi(v,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,a.Z)(function*(v,p){return Zs(v,p)})).apply(this,arguments)}function Qc(v,p){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,a.Z)(function*(v,p){return Zs(v,p)})).apply(this,arguments)}function yi(){return(yi=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signInWithEmailLink",ln(v,p))})).apply(this,arguments)}function ii(){return(ii=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signInWithEmailLink",ln(v,p))})).apply(this,arguments)}class Ql extends tn{constructor(p,m,w,A=null){super("password",w),this._email=p,this._password=m,this._tenantId=A}static _fromEmailAndPassword(p,m){return new Ql(p,m,"password")}static _fromEmailAndCode(p,m,w=null){return new Ql(p,m,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if((null==m?void 0:m.email)&&(null==m?void 0:m.password)){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,a.Z)(function*(){switch(m.signInMethod){case"password":return function Qo(v,p){return on.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ws(v,p){return yi.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:ye(p,"internal-error")}})()}_linkToIdToken(p,m){var w=this;return(0,a.Z)(function*(){switch(w.signInMethod){case"password":return Rt(p,{idToken:m,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function el(v,p){return ii.apply(this,arguments)}(p,{idToken:m,email:w._email,oobCode:w._password});default:ye(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function er(v,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signInWithIdp",ln(v,p))})).apply(this,arguments)}class gs extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new gs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):ye("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A}=m,O=(0,ae._T)(m,["providerId","signInMethod"]);if(!w||!A)return null;const J=new gs(w,A);return J.idToken=O.idToken||void 0,J.accessToken=O.accessToken||void 0,J.secret=O.secret,J.nonce=O.nonce,J.pendingToken=O.pendingToken||null,J}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,er(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,er(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,P.xO)(m)}return p}}function mg(v,p){return $u.apply(this,arguments)}function $u(){return($u=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:sendVerificationCode",ln(v,p))})).apply(this,arguments)}function tl(){return(tl=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signInWithPhoneNumber",ln(v,p))})).apply(this,arguments)}function Xc(){return(Xc=(0,a.Z)(function*(v,p){const m=yield jr(v,"POST","/v1/accounts:signInWithPhoneNumber",ln(v,p));if(m.temporaryProof)throw Qi(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const vg={USER_NOT_FOUND:"user-not-found"};function ed(){return(ed=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signInWithPhoneNumber",ln(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),vg)})).apply(this,arguments)}class Gs extends tn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Gs({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Gs({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function yg(v,p){return tl.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Jo(v,p){return Xc.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function _g(v,p){return ed.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:w,verificationCode:A}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:w,code:A}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:O}=p;return w||m||A||O?new Gs({verificationId:m,verificationCode:w,phoneNumber:A,temporaryProof:O}):null}}class ms{constructor(p){var m,w,A,O,J,ve;const qe=(0,P.zd)((0,P.pd)(p)),lt=null!==(m=qe.apiKey)&&void 0!==m?m:null,Ct=null!==(w=qe.oobCode)&&void 0!==w?w:null,ft=function wg(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(A=qe.mode)&&void 0!==A?A:null);he(lt&&Ct&&ft,"argument-error"),this.apiKey=lt,this.operation=ft,this.code=Ct,this.continueUrl=null!==(O=qe.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(J=qe.languageCode)&&void 0!==J?J:null,this.tenantId=null!==(ve=qe.tenantId)&&void 0!==ve?ve:null}static parseLink(p){const m=function Zh(v){const p=(0,P.zd)((0,P.pd)(v)).link,m=p?(0,P.zd)((0,P.pd)(p)).deep_link_id:null,w=(0,P.zd)((0,P.pd)(v)).deep_link_id;return(w?(0,P.zd)((0,P.pd)(w)).link:null)||w||m||p||v}(p);try{return new ms(m)}catch(w){return null}}}let nl=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,w){return Ql._fromEmailAndPassword(m,w)}static credentialWithLink(m,w){const A=ms.parseLink(w);return he(A,"argument-error"),Ql._fromEmailAndCode(m,A.code,A.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ks{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class vi extends Ks{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class bo extends vi{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return he("providerId"in m&&"signInMethod"in m,"argument-error"),gs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return he(p.idToken||p.accessToken,"argument-error"),gs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return bo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return bo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:w,oauthTokenSecret:A,pendingToken:O,nonce:J,providerId:ve}=p;if(!w&&!A&&!m&&!O||!ve)return null;try{return new bo(ve)._credential({idToken:m,accessToken:w,nonce:J,pendingToken:O})}catch(qe){return null}}}let Xo=(()=>{class v extends vi{constructor(){super("facebook.com")}static credential(m){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),ea=(()=>{class v extends vi{constructor(){super("google.com"),this.addScope("profile")}static credential(m,w){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:w,oauthAccessToken:A}=m;if(!w&&!A)return null;try{return v.credential(w,A)}catch(O){return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),zu=(()=>{class v extends vi{constructor(){super("github.com")}static credential(m){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch(w){return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Vi extends tn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,m){const w=this.buildRequest();return w.idToken=m,er(p,w)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,er(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:A,pendingToken:O}=m;return w&&A&&O&&w===A?new Vi(w,O):null}static _create(p,m){return new Vi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ys extends Ks{constructor(p){he(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return ys.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return ys.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Vi.fromJSON(p);return he(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:w}=p;if(!m||!w)return null;try{return Vi._create(w,m)}catch(A){return null}}}let _i=(()=>{class v extends vi{constructor(){super("twitter.com")}static credential(m,w){return gs._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:w})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:w,oauthTokenSecret:A}=m;if(!w||!A)return null;try{return v.credential(w,A)}catch(O){return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function nd(v,p){return fr.apply(this,arguments)}function fr(){return(fr=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signUp",ln(v,p))})).apply(this,arguments)}class qr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,w,A=!1){return(0,a.Z)(function*(){const O=yield An._fromIdTokenResponse(p,w,A),J=qu(w);return new qr({user:O,providerId:J,_tokenResponse:w,operationType:m})})()}static _forOperation(p,m,w){return(0,a.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const A=qu(w);return new qr({user:p,providerId:A,_tokenResponse:w,operationType:m})})()}}function qu(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Jl(){return(Jl=(0,a.Z)(function*(v){var p;const m=Ue(v);if(yield m._initializationPromise,null===(p=m.currentUser)||void 0===p?void 0:p.isAnonymous)return new qr({user:m.currentUser,providerId:null,operationType:"signIn"});const w=yield nd(m,{returnSecureToken:!0}),A=yield qr._fromIdTokenResponse(m,"signIn",w,!0);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class ta extends P.ZR{constructor(p,m,w,A){var O;super(m.code,m.message),this.operationType=w,this.user=A,Object.setPrototypeOf(this,ta.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:m.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,m,w,A){return new ta(p,m,w,A)}}function Wh(v,p,m,w){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?ta._fromErrorAndOperation(v,O,p,w):O})}function Mn(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Xl(){return(Xl=(0,a.Z)(function*(v,p){const m=(0,P.m9)(v);yield So(!0,m,p);const{providerUserInfo:w}=yield sr(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),A=Mn(w||[]);return m.providerData=m.providerData.filter(O=>A.has(O.providerId)),A.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Sn(v,p){return eu.apply(this,arguments)}function eu(){return(eu=(0,a.Z)(function*(v,p,m=!1){const w=yield sn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return qr._forOperation(v,"link",w)})).apply(this,arguments)}function So(v,p,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,a.Z)(function*(v,p,m){yield gi(p);const A=!1===v?"provider-already-linked":"no-such-provider";he(Mn(p.providerData).has(m)===v,p.auth,A)})).apply(this,arguments)}function Rr(v,p){return na.apply(this,arguments)}function na(){return(na=(0,a.Z)(function*(v,p,m=!1){const{auth:w}=v,A="reauthenticate";try{const O=yield sn(v,Wh(w,A,p,v),m);he(O.idToken,w,"internal-error");const J=st(O.idToken);he(J,w,"internal-error");const{sub:ve}=J;return he(v.uid===ve,w,"user-mismatch"),qr._forOperation(v,A,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&ye(w,"user-mismatch"),O}})).apply(this,arguments)}function ra(v,p){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,a.Z)(function*(v,p,m=!1){const w="signIn",A=yield Wh(v,w,p),O=yield qr._fromIdTokenResponse(v,w,A);return m||(yield v._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Tr(v,p){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(v,p){return ra(Ue(v),p)})).apply(this,arguments)}function ia(v,p){return rl.apply(this,arguments)}function rl(){return(rl=(0,a.Z)(function*(v,p){const m=(0,P.m9)(v);return yield So(!1,m,p.providerId),Sn(m,p)})).apply(this,arguments)}function Ei(v,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,a.Z)(function*(v,p){return Rr((0,P.m9)(v),p)})).apply(this,arguments)}function il(v,p){return vt.apply(this,arguments)}function vt(){return(vt=(0,a.Z)(function*(v,p){return jr(v,"POST","/v1/accounts:signInWithCustomToken",ln(v,p))})).apply(this,arguments)}function oa(){return(oa=(0,a.Z)(function*(v,p){const m=Ue(v),w=yield il(m,{token:p,returnSecureToken:!0}),A=yield qr._fromIdTokenResponse(m,"signIn",w);return yield m._updateCurrentUser(A.user),A})).apply(this,arguments)}class Qs{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?aa._fromServerResponse(p,m):ye(p,"internal-error")}}class aa extends Qs{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new aa(m)}}function la(v,p,m){var w;he((null===(w=m.url)||void 0===w?void 0:w.length)>0,v,"invalid-continue-uri"),he(void 0===m.dynamicLinkDomain||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(he(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(he(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function sl(){return(sl=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v),A={requestType:"PASSWORD_RESET",email:p};m&&la(w,A,m),yield Yc(w,A)})).apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(v,p,m){yield Eo((0,P.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(v,p){yield Or((0,P.m9)(v),{oobCode:p})})).apply(this,arguments)}function ol(v,p){return Js.apply(this,arguments)}function Js(){return(Js=(0,a.Z)(function*(v,p){const m=(0,P.m9)(v),w=yield Eo(m,{oobCode:p}),A=w.requestType;switch(he(A,m,"internal-error"),A){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(w.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(w.mfaInfo,m,"internal-error");default:he(w.email,m,"internal-error")}let O=null;return w.mfaInfo&&(O=Qs._fromServerResponse(Ue(m),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:A}})).apply(this,arguments)}function _s(){return(_s=(0,a.Z)(function*(v,p){const{data:m}=yield ol((0,P.m9)(v),p);return m.email})).apply(this,arguments)}function tu(){return(tu=(0,a.Z)(function*(v,p,m){const w=Ue(v),A=yield nd(w,{returnSecureToken:!0,email:p,password:m}),O=yield qr._fromIdTokenResponse(w,"signIn",A);return yield w._updateCurrentUser(O.user),O})).apply(this,arguments)}function ua(){return(ua=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v),A={requestType:"EMAIL_SIGNIN",email:p};he(m.handleCodeInApp,w,"argument-error"),m&&la(w,A,m),yield mi(w,A)})).apply(this,arguments)}function ru(){return(ru=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v),A=nl.credentialWithLink(p,m||ze());return he(A._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Tr(w,A)})).apply(this,arguments)}function ws(v,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:createAuthUri",ln(v,p))})).apply(this,arguments)}function ca(){return(ca=(0,a.Z)(function*(v,p){const w={identifier:p,continueUri:gt()?ze():"http://localhost"},{signinMethods:A}=yield ws((0,P.m9)(v),w);return A||[]})).apply(this,arguments)}function al(){return(al=(0,a.Z)(function*(v,p){const m=(0,P.m9)(v),A={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&la(m.auth,A,p);const{email:O}=yield un(m.auth,A);O!==v.email&&(yield v.reload())})).apply(this,arguments)}function Io(){return(Io=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&la(w.auth,O,m);const{email:J}=yield Qc(w.auth,O);J!==v.email&&(yield v.reload())})).apply(this,arguments)}function Gu(v,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,a.Z)(function*(v,p){return $t(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ll(){return(ll=(0,a.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const w=(0,P.m9)(v),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},J=yield sn(w,Gu(w.auth,O));w.displayName=J.displayName||null,w.photoURL=J.photoUrl||null;const ve=w.providerData.find(({providerId:qe})=>"password"===qe);ve&&(ve.displayName=w.displayName,ve.photoURL=w.photoURL),yield w._updateTokensIfNecessary(J)})).apply(this,arguments)}function su(v,p,m){return ul.apply(this,arguments)}function ul(){return(ul=(0,a.Z)(function*(v,p,m){const{auth:w}=v,O={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(O.email=p),m&&(O.password=m);const J=yield sn(v,Rt(w,O));yield v._updateTokensIfNecessary(J,!0)})).apply(this,arguments)}class Es{constructor(p,m,w={}){this.isNewUser=p,this.providerId=m,this.profile=w}}class Qh extends Es{constructor(p,m,w,A){super(p,m,w),this.username=A}}class Dg extends Es{constructor(p,m){super(p,"facebook.com",m)}}class pr extends Qh{constructor(p,m){super(p,"github.com",m,"string"==typeof(null==m?void 0:m.login)?null==m?void 0:m.login:null)}}class gr extends Es{constructor(p,m){super(p,"google.com",m)}}class Rn extends Qh{constructor(p,m,w){super(p,"twitter.com",m,w)}}function Yu(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ku(v){var p,m;if(!v)return null;const{providerId:w}=v,A=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},O=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!w&&(null==v?void 0:v.idToken)){const J=null===(m=null===(p=st(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(J)return new Es(O,"anonymous"!==J&&"custom"!==J?J:null)}if(!w)return null;switch(w){case"facebook.com":return new Dg(O,A);case"github.com":return new pr(O,A);case"google.com":return new gr(O,A);case"twitter.com":return new Rn(O,A,v.screenName||null);case"custom":case"anonymous":return new Es(O,null);default:return new Es(O,w,A)}}(m)}class Xs{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new Xs("enroll",p)}static _fromMfaPendingCredential(p){return new Xs("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,w;if(null==p?void 0:p.multiFactorSession){if(null===(m=p.multiFactorSession)||void 0===m?void 0:m.pendingCredential)return Xs._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null===(w=p.multiFactorSession)||void 0===w?void 0:w.idToken)return Xs._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Qu{constructor(p,m,w){this.session=p,this.hints=m,this.signInResolver=w}static _fromError(p,m){const w=Ue(p),A=m.customData._serverResponse,O=(A.mfaInfo||[]).map(ve=>Qs._fromServerResponse(w,ve));he(A.mfaPendingCredential,w,"internal-error");const J=Xs._fromMfaPendingCredential(A.mfaPendingCredential);return new Qu(J,O,function(){var ve=(0,a.Z)(function*(qe){const lt=yield qe._process(w,J);delete A.mfaInfo,delete A.mfaPendingCredential;const Ct=Object.assign(Object.assign({},A),{idToken:lt.idToken,refreshToken:lt.refreshToken});switch(m.operationType){case"signIn":const ft=yield qr._fromIdTokenResponse(w,m.operationType,Ct);return yield w._updateCurrentUser(ft.user),ft;case"reauthenticate":return he(m.user,w,"internal-error"),qr._forOperation(m.user,m.operationType,Ct);default:ye(w,"internal-error")}});return function(qe){return ve.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,a.Z)(function*(){return m.signInResolver(p)})()}}function Ds(v,p){return $t(v,"POST","/v2/accounts/mfaEnrollment:start",ln(v,p))}class cd{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(w=>Qs._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new cd(p)}getSession(){var p=this;return(0,a.Z)(function*(){return Xs._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var w=this;return(0,a.Z)(function*(){const A=p,O=yield w.getSession(),J=yield sn(w.user,A._process(w.user.auth,O,m));return yield w.user._updateTokensIfNecessary(J),w.user.reload()})()}unenroll(p){var m=this;return(0,a.Z)(function*(){const w="string"==typeof p?p:p.uid,A=yield m.user.getIdToken(),O=yield sn(m.user,function Xh(v,p){return $t(v,"POST","/v2/accounts/mfaEnrollment:withdraw",ln(v,p))}(m.user.auth,{idToken:A,mfaEnrollmentId:w}));m.enrolledFactors=m.enrolledFactors.filter(({uid:J})=>J!==w),yield m.user._updateTokensIfNecessary(O);try{yield m.user.reload()}catch(J){if("auth/user-token-expired"!==J.code)throw J}})()}}const ha=new WeakMap,dl="__sak";class ef{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(dl,"1"),this.storage.removeItem(dl),Promise.resolve(!0)):Promise.resolve(!1)}catch(p){return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const wn=(()=>{class v extends ef{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,w)=>this.onStorageEvent(m,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function tf(){const v=(0,P.z$)();return Kl(v)||ti(v)}()&&function Cr(){try{return!(!window||window===window.top)}catch(v){return!1}}(),this.fallbackToPolling=qs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const w of Object.keys(this.listeners)){const A=this.storage.getItem(w),O=this.localCache[w];A!==O&&m(w,O,A)}}onStorageEvent(m,w=!1){if(!m.key)return void this.forAllChangedKeys((ve,qe,lt)=>{this.notifyListeners(ve,lt)});const A=m.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ve=this.storage.getItem(A);if(m.newValue!==ve)null!==m.newValue?this.storage.setItem(A,m.newValue):this.storage.removeItem(A);else if(this.localCache[A]===m.newValue&&!w)return}const O=()=>{const ve=this.storage.getItem(A);!w&&this.localCache[A]===ve||this.notifyListeners(A,ve)},J=this.storage.getItem(A);!function Xa(){return(0,P.w1)()&&10===document.documentMode}()||J===m.newValue||m.newValue===m.oldValue?O():setTimeout(O,10)}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,w,A)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:w,newValue:A}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,w){var A=()=>super._set,O=this;return(0,a.Z)(function*(){yield A().call(O,m,w),O.localCache[m]=JSON.stringify(w)})()}_get(m){var w=()=>super._get,A=this;return(0,a.Z)(function*(){const O=yield w().call(A,m);return A.localCache[m]=JSON.stringify(O),O})()}_remove(m){var w=()=>super._remove,A=this;return(0,a.Z)(function*(){yield w().call(A,m),delete A.localCache[m]})()}}return v.type="LOCAL",v})(),nn=(()=>{class v extends ef{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,w){}_removeListener(m,w){}}return v.type="SESSION",v})();let Cs=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const w=this.receivers.find(O=>O.isListeningto(m));if(w)return w;const A=new v(m);return this.receivers.push(A),A}isListeningto(m){return this.eventTarget===m}handleEvent(m){var w=this;return(0,a.Z)(function*(){const A=m,{eventId:O,eventType:J,data:ve}=A.data,qe=w.handlersMap[J];if(!(null==qe?void 0:qe.size))return;A.ports[0].postMessage({status:"ack",eventId:O,eventType:J});const lt=Array.from(qe).map(function(){var ft=(0,a.Z)(function*(cr){return cr(A.origin,ve)});return function(cr){return ft.apply(this,arguments)}}()),Ct=yield function _t(v){return Promise.all(v.map(function(){var p=(0,a.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(w){return{fulfilled:!1,reason:w}}});return function(m){return p.apply(this,arguments)}}()))}(lt);A.ports[0].postMessage({status:"done",eventId:O,eventType:J,response:Ct})})()}_subscribe(m,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(w)}_unsubscribe(m,w){this.handlersMap[m]&&w&&this.handlersMap[m].delete(w),(!w||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function fa(v="",p=10){let m="";for(let w=0;w<p;w++)m+=Math.floor(10*Math.random());return v+m}class pa{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,w=50){var A=this;return(0,a.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let J,ve;return new Promise((qe,lt)=>{const Ct=fa("",20);O.port1.start();const ft=setTimeout(()=>{lt(new Error("unsupported_event"))},w);ve={messageChannel:O,onMessage(cr){const zi=cr;if(zi.data.eventId===Ct)switch(zi.data.status){case"ack":clearTimeout(ft),J=setTimeout(()=>{lt(new Error("timeout"))},3e3);break;case"done":clearTimeout(J),qe(zi.data.response);break;default:clearTimeout(ft),clearTimeout(J),lt(new Error("invalid_response"))}}},A.handlers.add(ve),O.port1.addEventListener("message",ve.onMessage),A.target.postMessage({eventType:p,eventId:Ct,data:m},[O.port2])}).finally(()=>{ve&&A.removeMessageHandler(ve)})})()}}function Nn(){return window}function hd(){return void 0!==Nn().WorkerGlobalScope&&"function"==typeof Nn().importScripts}function Fn(){return(Fn=(0,a.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(v){return null}})).apply(this,arguments)}const Nr="firebaseLocalStorageDb",Ts="firebaseLocalStorage",Mo="fbase_key";class ji{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Di(v,p){return v.transaction([Ts],p?"readwrite":"readonly").objectStore(Ts)}function Zr(){const v=indexedDB.open(Nr,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const w=v.result;try{w.createObjectStore(Ts,{keyPath:Mo})}catch(A){m(A)}}),v.addEventListener("success",(0,a.Z)(function*(){const w=v.result;w.objectStoreNames.contains(Ts)?p(w):(w.close(),yield function es(){const v=indexedDB.deleteDatabase(Nr);return new ji(v).toPromise()}(),p(yield Zr()))}))})}function Qe(v,p,m){return hl.apply(this,arguments)}function hl(){return(hl=(0,a.Z)(function*(v,p,m){const w=Di(v,!0).put({[Mo]:p,value:m});return new ji(w).toPromise()})).apply(this,arguments)}function fl(){return(fl=(0,a.Z)(function*(v,p){const m=Di(v,!1).get(p),w=yield new ji(m).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ga(v,p){const m=Di(v,!0).delete(p);return new ji(m).toPromise()}const xo=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,a.Z)(function*(){return m.db||(m.db=yield Zr()),m.db})()}_withRetries(m){var w=this;return(0,a.Z)(function*(){let A=0;for(;;)try{const O=yield w._openDb();return yield m(O)}catch(O){if(A++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,a.Z)(function*(){return hd()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,a.Z)(function*(){m.receiver=Cs._getInstance(function nf(){return hd()?self:null}()),m.receiver._subscribe("keyChanged",function(){var w=(0,a.Z)(function*(A,O){return{keyProcessed:(yield m._poll()).includes(O.key)}});return function(A,O){return w.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var w=(0,a.Z)(function*(A,O){return["keyChanged"]});return function(A,O){return w.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,a.Z)(function*(){var w,A;if(m.activeServiceWorker=yield function Yn(){return Fn.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new pa(m.activeServiceWorker);const O=yield m.sender._send("ping",{},800);!O||(null===(w=O[0])||void 0===w?void 0:w.fulfilled)&&(null===(A=O[0])||void 0===A?void 0:A.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var w=this;return(0,a.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Xi(){var v;return(null===(v=null==navigator?void 0:navigator.serviceWorker)||void 0===v?void 0:v.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:m},w.serviceWorkerReceiverAvailable?800:50)}catch(A){}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Zr();return yield Qe(m,dl,"1"),yield ga(m,dl),!0}catch(m){}return!1})()}_withPendingWrite(m){var w=this;return(0,a.Z)(function*(){w.pendingWrites++;try{yield m()}finally{w.pendingWrites--}})()}_set(m,w){var A=this;return(0,a.Z)(function*(){return A._withPendingWrite((0,a.Z)(function*(){return yield A._withRetries(O=>Qe(O,m,w)),A.localCache[m]=w,A.notifyServiceWorker(m)}))})()}_get(m){var w=this;return(0,a.Z)(function*(){const A=yield w._withRetries(O=>function ou(v,p){return fl.apply(this,arguments)}(O,m));return w.localCache[m]=A,A})()}_remove(m){var w=this;return(0,a.Z)(function*(){return w._withPendingWrite((0,a.Z)(function*(){return yield w._withRetries(A=>ga(A,m)),delete w.localCache[m],w.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,a.Z)(function*(){const w=yield m._withRetries(J=>{const ve=Di(J,!1).getAll();return new ji(ve).toPromise()});if(!w)return[];if(0!==m.pendingWrites)return[];const A=[],O=new Set;for(const{fbase_key:J,value:ve}of w)O.add(J),JSON.stringify(m.localCache[J])!==JSON.stringify(ve)&&(m.notifyListeners(J,ve),A.push(J));for(const J of Object.keys(m.localCache))m.localCache[J]&&!O.has(J)&&(m.notifyListeners(J,null),A.push(J));return A})()}notifyListeners(m,w){this.localCache[m]=w;const A=this.listeners[m];if(A)for(const O of Array.from(A))O(w)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(w)}_removeListener(m,w){this.listeners[m]&&(this.listeners[m].delete(w),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function eo(v,p){return $t(v,"POST","/v2/accounts/mfaSignIn:start",ln(v,p))}function Ci(){return(Ci=(0,a.Z)(function*(v){return(yield $t(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function ko(v){return new Promise((p,m)=>{const w=document.createElement("script");w.setAttribute("src",v),w.onload=p,w.onerror=A=>{const O=Ne("internal-error");O.customData=A,m(O)},w.type="text/javascript",w.charset="UTF-8",function bs(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(w)})}function Ss(v){return`__${v}${Math.floor(1e6*Math.random())}`}const oi=1e12;class Xu{constructor(p){this.auth=p,this.counter=oi,this._widgets=new Map}render(p,m){const w=this.counter;return this._widgets.set(w,new pd(p,this.auth.name,m||{})),this.counter++,w}reset(p){var m;const w=p||oi;null===(m=this._widgets.get(w))||void 0===m||m.delete(),this._widgets.delete(w)}getResponse(p){var m;return(null===(m=this._widgets.get(p||oi))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,a.Z)(function*(){var w;return null===(w=m._widgets.get(p||oi))||void 0===w||w.execute(),""})()}}class pd{constructor(p,m,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const A="string"==typeof p?document.getElementById(p):p;he(A,"argument-error",{appName:m}),this.container=A,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Ln(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<v;w++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ec=Ss("rcb"),gd=new Tn(3e4,6e4);class Qy{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nn().grecaptcha}load(p,m=""){return he(function md(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Nn().grecaptcha):new Promise((w,A)=>{const O=Nn().setTimeout(()=>{A(Ne(p,"network-request-failed"))},gd.get());Nn()[ec]=()=>{Nn().clearTimeout(O),delete Nn()[ec];const ve=Nn().grecaptcha;if(!ve)return void A(Ne(p,"internal-error"));const qe=ve.render;ve.render=(lt,Ct)=>{const ft=qe(lt,Ct);return this.counter++,ft},this.hostLanguage=m,w(ve)},ko(`https://www.google.com/recaptcha/api.js??${(0,P.xO)({onload:ec,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(O),A(Ne(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){return!!Nn().grecaptcha&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Jy{load(p){return(0,a.Z)(function*(){return new Xu(p)})()}clearedOneInstance(){}}const cu="recaptcha",Is={theme:"light",type:"image"};class rf{constructor(p,m=Object.assign({},Is),w){this.parameters=m,this.type=cu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ue(w),this.isInvisible="invisible"===this.parameters.size,he("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const A="string"==typeof p?document.getElementById(p):p;he(A,this.auth,"argument-error"),this.container=A,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jy:new Qy,this.validateStartingState()}verify(){var p=this;return(0,a.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(m)||new Promise(O=>{const J=ve=>{!ve||(p.tokenChangeListeners.delete(J),O(ve))};p.tokenChangeListeners.add(J),p.isInvisible&&w.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(w=>w(m)),"function"==typeof p)p(m);else if("string"==typeof p){const w=Nn()[p];"function"==typeof w&&w(m)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,a.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const w=document.createElement("div");m.appendChild(w),m=w}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,a.Z)(function*(){he(gt()&&!hd(),p.auth,"internal-error"),yield function En(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function to(v){return Ci.apply(this,arguments)}(p.auth);he(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class gl{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Gs._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function tc(){return(tc=(0,a.Z)(function*(v,p,m){const w=Ue(v),A=yield Oo(w,p,(0,P.m9)(m));return new gl(A,O=>Tr(w,O))})).apply(this,arguments)}function Wr(){return(Wr=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v);yield So(!1,w,"phone");const A=yield Oo(w.auth,p,(0,P.m9)(m));return new gl(A,O=>ia(w,O))})).apply(this,arguments)}function du(){return(du=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v),A=yield Oo(w.auth,p,(0,P.m9)(m));return new gl(A,O=>Ei(w,O))})).apply(this,arguments)}function Oo(v,p,m){return no.apply(this,arguments)}function no(){return(no=(0,a.Z)(function*(v,p,m){var w;const A=yield m.verify();try{let O;if(he("string"==typeof A,v,"argument-error"),he(m.type===cu,v,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const J=O.session;if("phoneNumber"in O)return he("enroll"===J.type,v,"internal-error"),(yield Ds(v,{idToken:J.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:A}})).phoneSessionInfo.sessionInfo;{he("signin"===J.type,v,"internal-error");const ve=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return he(ve,v,"missing-multi-factor-info"),(yield eo(v,{mfaPendingCredential:J.credential,mfaEnrollmentId:ve,phoneSignInInfo:{recaptchaToken:A}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:J}=yield mg(v,{phoneNumber:O.phoneNumber,recaptchaToken:A});return J}}finally{m._reset()}})).apply(this,arguments)}function Ro(){return(Ro=(0,a.Z)(function*(v,p){yield Sn((0,P.m9)(v),p)})).apply(this,arguments)}let ma=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Ue(m)}verifyPhoneNumber(m,w){return Oo(this.auth,m,(0,P.m9)(w))}static credential(m,w){return Gs._fromVerification(m,w)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:w,temporaryProof:A}=m;return w&&A?Gs._fromTokenResponse(w,A):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ro(v,p){return p?W(p):(he(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class yl extends tn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return er(p,this._buildIdpRequest())}_linkToIdToken(p,m){return er(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return er(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function vl(v){return ra(v.auth,new yl(v),v.bypassAuthState)}function Gr(v){const{auth:p,user:m}=v;return he(m,p,"internal-error"),Rr(m,new yl(v),v.bypassAuthState)}function No(v){return ns.apply(this,arguments)}function ns(){return(ns=(0,a.Z)(function*(v){const{auth:p,user:m}=v;return he(m,p,"internal-error"),Sn(m,new yl(v),v.bypassAuthState)})).apply(this,arguments)}class sf{constructor(p,m,w,A,O=!1){this.auth=p,this.resolver=w,this.user=A,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,a.Z)(function*(w,A){p.pendingPromise={resolve:w,reject:A};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,A){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,a.Z)(function*(){const{urlResponse:w,sessionId:A,postBody:O,tenantId:J,error:ve,type:qe}=p;if(ve)return void m.reject(ve);const lt={auth:m.auth,requestUri:w,sessionId:A,tenantId:J||void 0,postBody:O||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(qe)(lt))}catch(Ct){m.reject(Ct)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return vl;case"linkViaPopup":case"linkViaRedirect":return No;case"reauthViaPopup":case"reauthViaRedirect":return Gr;default:ye(this.auth,"internal-error")}}resolve(p){H(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){H(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qn=new Tn(2e3,1e4);function nc(){return(nc=(0,a.Z)(function*(v,p,m){const w=Ue(v);et(v,p,Ks);const A=ro(w,m);return new wl(w,"signInViaPopup",p,A).executeNotNull()})).apply(this,arguments)}function io(){return(io=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v);et(w.auth,p,Ks);const A=ro(w.auth,m);return new wl(w.auth,"reauthViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}function _l(){return(_l=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v);et(w.auth,p,Ks);const A=ro(w.auth,m);return new wl(w.auth,"linkViaPopup",p,A,w).executeNotNull()})).apply(this,arguments)}let wl=(()=>{class v extends sf{constructor(m,w,A,O,J){super(m,w,O,J),this.provider=A,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,a.Z)(function*(){const w=yield m.execute();return he(w,m.auth,"internal-error"),w})()}onExecution(){var m=this;return(0,a.Z)(function*(){H(1===m.filter.length,"Popup operations only handle one event");const w=fa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],w),m.authWindow.associatedEvent=w,m.resolver._originValidation(m.auth).catch(A=>{m.reject(A)}),m.resolver._isIframeWebStorageSupported(m.auth,A=>{A||m.reject(Ne(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Ne(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var w,A;this.pollId=(null===(A=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===A?void 0:A.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ne(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Qn.get())};m()}}return v.currentPopupAction=null,v})();const rc=new Map;class Jt extends sf{constructor(p,m,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,a.Z)(function*(){let w=rc.get(m.auth._key());if(!w){try{const O=(yield function Hi(v,p){return Pr.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;w=()=>Promise.resolve(O)}catch(A){w=()=>Promise.reject(A)}rc.set(m.auth._key(),w)}return m.bypassAuthState||rc.set(m.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,w=this;return(0,a.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(w,p);if("unknown"!==p.type){if(p.eventId){const A=yield w.auth._redirectUserForId(p.eventId);if(A)return w.user=A,m().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Pr(){return(Pr=(0,a.Z)(function*(v,p){const m=T(p),w=_d(v);if(!(yield w._isAvailable()))return!1;const A="true"===(yield w._get(m));return yield w._remove(m),A})).apply(this,arguments)}function Ms(v,p){return va.apply(this,arguments)}function va(){return(va=(0,a.Z)(function*(v,p){return _d(v)._set(T(p),"true")})).apply(this,arguments)}function _d(v){return W(v._redirectPersistence)}function T(v){return or("pendingRedirect",v.config.apiKey,v.name)}function U(){return(U=(0,a.Z)(function*(v,p,m){const w=Ue(v);et(v,p,Ks);const A=ro(w,m);return yield Ms(A,w),A._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function ke(){return(ke=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v);et(w.auth,p,Ks);const A=ro(w.auth,m);yield Ms(A,w.auth);const O=yield _a(w);return A._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(v,p,m){const w=(0,P.m9)(v);et(w.auth,p,Ks);const A=ro(w.auth,m);yield So(!1,w,p.providerId),yield Ms(A,w.auth);const O=yield _a(w);return A._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function Fr(){return(Fr=(0,a.Z)(function*(v,p){return yield Ue(v)._initializationPromise,nr(v,p,!1)})).apply(this,arguments)}function nr(v,p){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(v,p,m=!1){const w=Ue(v),A=ro(w,p),J=yield new Jt(w,A,m).execute();return J&&!m&&(delete J.user._redirectEventId,yield w._persistUserIfCurrent(J.user),yield w._setRedirectUser(null,p)),J})).apply(this,arguments)}function _a(v){return is.apply(this,arguments)}function is(){return(is=(0,a.Z)(function*(v){const p=fa(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class xs{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(m=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Da(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ea(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var w;if(p.error&&!Ea(p)){const A=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";m.onError(Ne(this.auth,A))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const w=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($i(p))}saveEventToCache(p){this.cachedEventUids.add($i(p)),this.lastProcessedEventTime=Date.now()}}function $i(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function Ea({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===(null==p?void 0:p.code)}function Ig(v){return ic.apply(this,arguments)}function ic(){return(ic=(0,a.Z)(function*(v,p={}){return $t(v,"GET","/v1/projects",p)})).apply(this,arguments)}const Ca=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Po=/^https?/;function El(){return(El=(0,a.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield Ig(v);for(const m of p)try{if(Ag(m))return}catch(w){}ye(v,"unauthorized-domain")})).apply(this,arguments)}function Ag(v){const p=ze(),{protocol:m,hostname:w}=new URL(p);if(v.startsWith("chrome-extension://")){const J=new URL(v);return""===J.hostname&&""===w?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&J.hostname===w}if(!Po.test(m))return!1;if(Ca.test(v))return w===v;const A=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+A+"|"+A+")$","i").test(w)}const Xy=new Tn(3e4,6e4);function Mg(){const v=Nn().___jsl;if(null==v?void 0:v.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let hu=null;function wd(v){return hu=hu||function ev(v){return new Promise((p,m)=>{var w,A,O;function J(){Mg(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Mg(),m(Ne(v,"network-request-failed"))},timeout:Xy.get()})}if(null===(A=null===(w=Nn().gapi)||void 0===w?void 0:w.iframes)||void 0===A?void 0:A.Iframe)p(gapi.iframes.getContext());else{if(!(null===(O=Nn().gapi)||void 0===O?void 0:O.load)){const ve=Ss("iframefcb");return Nn()[ve]=()=>{gapi.load?J():m(Ne(v,"network-request-failed"))},ko(`https://apis.google.com/js/api.js?onload=${ve}`).catch(qe=>m(qe))}J()}}).catch(p=>{throw hu=null,p})}(v),hu}const oc=new Tn(5e3,15e3),xg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uf(v){const p=v.config;he(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?At(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:v.name,v:ue.SDK_VERSION},A=lf.get(v.config.apiHost);A&&(w.eid=A);const O=v._getFrameworks();return O.length&&(w.fw=O.join(",")),`${m}?${(0,P.xO)(w).slice(1)}`}function lc(){return lc=(0,a.Z)(function*(v){const p=yield wd(v),m=Nn().gapi;return he(m,v,"internal-error"),p.open({where:document.body,url:uf(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xg,dontclear:!0},w=>new Promise(function(){var A=(0,a.Z)(function*(O,J){yield w.restyle({setHideOnLeave:!1});const ve=Ne(v,"network-request-failed"),qe=Nn().setTimeout(()=>{J(ve)},oc.get());function lt(){Nn().clearTimeout(qe),O(w)}w.ping(lt).then(lt,()=>{J(ve)})});return function(O,J){return A.apply(this,arguments)}}()))}),lc.apply(this,arguments)}const so={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uc{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(p){}}}function fu(v,p,m,w,A,O){he(v.config.authDomain,v,"auth-domain-config-required"),he(v.config.apiKey,v,"invalid-api-key");const J={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:w,v:ue.SDK_VERSION,eventId:A};if(p instanceof Ks){p.setDefaultLanguage(v.languageCode),J.providerId=p.providerId||"",(0,P.xb)(p.getCustomParameters())||(J.customParameters=JSON.stringify(p.getCustomParameters()));for(const[qe,lt]of Object.entries(O||{}))J[qe]=lt}if(p instanceof vi){const qe=p.getScopes().filter(lt=>""!==lt);qe.length>0&&(J.scopes=qe.join(","))}v.tenantId&&(J.tid=v.tenantId);const ve=J;for(const qe of Object.keys(ve))void 0===ve[qe]&&delete ve[qe];return`${function V0({config:v}){return v.emulator?At(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,P.xO)(ve).slice(1)}`}const nv="webStorageSupport";class df extends class cc{constructor(p){this.factorId=p}_process(p,m,w){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,w);case"signin":return this._finalizeSignIn(p,m.credential);default:return V("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new df(p)}_finalizeEnroll(p,m,w){return function Gn(v,p){return $t(v,"POST","/v2/accounts/mfaEnrollment:finalize",ln(v,p))}(p,{idToken:m,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function uu(v,p){return $t(v,"POST","/v2/accounts/mfaSignIn:finalize",ln(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Dd=(()=>{class v{constructor(){}static assertion(m){return df._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var ai="@firebase/auth";class rv{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,a.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(w=>{var A;p((null===(A=w)||void 0===A?void 0:A.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ks(){return window}function Sa(){return(Sa=(0,a.Z)(function*(v,p,m){var w;const{BuildInfo:A}=ks();H(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Ia(p.sessionId),J={};return ti()?J.ibi=A.packageName:$r()?J.apn=A.packageName:ye(v,"operation-not-supported-in-this-environment"),A.displayName&&(J.appDisplayName=A.displayName),J.sessionId=O,fu(v,m,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,J)})).apply(this,arguments)}function Cl(){return(Cl=(0,a.Z)(function*(v){const{BuildInfo:p}=ks(),m={};ti()?m.iosBundleId=p.packageName:$r()?m.androidPackageName=p.packageName:ye(v,"operation-not-supported-in-this-environment"),yield Ig(v,m)})).apply(this,arguments)}function Lg(){return(Lg=(0,a.Z)(function*(v,p,m){const{cordova:w}=ks();let A=()=>{};try{yield new Promise((O,J)=>{let ve=null;function qe(){var ft;O();const cr=null===(ft=w.plugins.browsertab)||void 0===ft?void 0:ft.close;"function"==typeof cr&&cr(),"function"==typeof(null==m?void 0:m.close)&&m.close()}function lt(){ve||(ve=window.setTimeout(()=>{J(Ne(v,"redirect-cancelled-by-user"))},2e3))}function Ct(){"visible"===(null==document?void 0:document.visibilityState)&&lt()}p.addPassiveListener(qe),document.addEventListener("resume",lt,!1),$r()&&document.addEventListener("visibilitychange",Ct,!1),A=()=>{p.removePassiveListener(qe),document.removeEventListener("resume",lt,!1),document.removeEventListener("visibilitychange",Ct,!1),ve&&window.clearTimeout(ve)}})}finally{A()}})).apply(this,arguments)}function Ia(v){return dc.apply(this,arguments)}function dc(){return(dc=(0,a.Z)(function*(v){const p=Cd(v),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(A=>A.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Cd(v){if(H(/[0-9a-zA-Z]+/.test(v),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(v);const p=new ArrayBuffer(v.length),m=new Uint8Array(p);for(let w=0;w<v.length;w++)m[w]=v.charCodeAt(w);return m}!function U0(v){(0,ue._registerComponent)(new ce.wA("auth",(p,{options:m})=>{const w=p.getProvider("app").getImmediate(),{apiKey:A,authDomain:O}=w.options;return(J=>{he(A&&!A.includes(":"),"invalid-api-key",{appName:J.name}),he(!(null==O?void 0:O.includes(":")),"argument-error",{appName:J.name});const ve={apiKey:A,authDomain:O,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ko(v)},qe=new ni(J,ve);return function G(v,p){const m=(null==p?void 0:p.persistence)||[],w=(Array.isArray(m)?m:[m]).map(W);(null==p?void 0:p.errorMap)&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(w,null==p?void 0:p.popupRedirectResolver)}(qe,m),qe})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,w)=>{p.getProvider("auth-internal").initialize()})),(0,ue._registerComponent)(new ce.wA("auth-internal",p=>{const m=Ue(p.getProvider("auth").getImmediate());return new rv(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ue.registerVersion)(ai,"0.19.5",function Fg(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,ue.registerVersion)(ai,"0.19.5","esm2017")}("Browser");class j0 extends xs{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,a.Z)(function*(){yield p.initPromise})()}}function Bg(v){return gf.apply(this,arguments)}function gf(){return(gf=(0,a.Z)(function*(v){const p=yield pu()._get(mf(v));return p&&(yield pu()._remove(mf(v))),p})).apply(this,arguments)}function Tl(){const v=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const w=Math.floor(Math.random()*p.length);v.push(p.charAt(w))}return v.join("")}function pu(){return W(wn)}function mf(v){return or("authEvent",v.config.apiKey,v.name)}function jn(v){if(!(null==v?void 0:v.includes("?")))return{};const[p,...m]=v.split("?");return(0,P.zd)(m.join("?"))}function _f(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ne("no-auth-event")}}function Aa(){var v;return(null===(v=null==self?void 0:self.location)||void 0===v?void 0:v.protocol)||null}function fv(v=(0,P.z$)()){return!("file:"!==Aa()&&"ionic:"!==Aa()||!v.toLowerCase().match(/iphone|ipad|ipod|android/))}function Cf(){try{const v=self.localStorage,p=fa();if(v)return v.setItem(p,"1"),v.removeItem(p),!function Hg(v=(0,P.z$)()){return function li(){return(0,P.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Df(v=(0,P.z$)()){return/Edge\/\d+/.test(v)}(v)}()||(0,P.hl)()}catch(v){return Sr()&&(0,P.hl)()}return!1}function Sr(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ma(){return(function Ef(){return"http:"===Aa()||"https:"===Aa()}()||(0,P.ru)()||fv())&&!function hc(){return(0,P.b$)()||(0,P.UG)()}()&&Cf()&&!Sr()}function Td(){return fv()&&"undefined"!=typeof document}function Tf(){return(Tf=(0,a.Z)(function*(){return!!Td()&&new Promise(v=>{const p=setTimeout(()=>{v(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),v(!0)})})})).apply(this,arguments)}const Ti={LOCAL:"local",NONE:"none",SESSION:"session"},fc=he,bf="persistence";function bd(v){return Sf.apply(this,arguments)}function Sf(){return(Sf=(0,a.Z)(function*(v){yield v._initializationPromise;const p=Sd(),m=or(bf,v.config.apiKey,v.name);(null==p?void 0:p.sessionStorage)&&p.sessionStorage.setItem(m,v._getPersistence())})).apply(this,arguments)}function Sd(){return"undefined"!=typeof window?window:null}const mv=he;class xa{constructor(){this.browserResolver=W(class tb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nn,this._completeRedirectFn=nr}_openPopup(p,m,w,A){var O=this;return(0,a.Z)(function*(){var J;H(null===(J=O.eventManagers[p._key()])||void 0===J?void 0:J.manager,"_initialize() not called before _openPopup()");const ve=fu(p,m,w,ze(),A);return function Rg(v,p,m,w=500,A=600){const O=Math.max((window.screen.availHeight-A)/2,0).toString(),J=Math.max((window.screen.availWidth-w)/2,0).toString();let ve="";const qe=Object.assign(Object.assign({},so),{width:w.toString(),height:A.toString(),top:O,left:J}),lt=(0,P.z$)().toLowerCase();m&&(ve=Ja(lt)?"_blank":m),Qa(lt)&&(p=p||"http://localhost",qe.scrollbars="yes");const Ct=Object.entries(qe).reduce((cr,[zi,mu])=>`${cr}${zi}=${mu},`,"");if(function wo(v=(0,P.z$)()){var p;return ti(v)&&!!(null===(p=window.navigator)||void 0===p?void 0:p.standalone)}(lt)&&"_self"!==ve)return function L0(v,p){const m=document.createElement("a");m.href=v,m.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(w)}(p||"",ve),new uc(null);const ft=window.open(p||"",ve,Ct);he(ft,v,"popup-blocked");try{ft.focus()}catch(cr){}return new uc(ft)}(p,ve,fa())})()}_openRedirect(p,m,w,A){var O=this;return(0,a.Z)(function*(){return yield O._originValidation(p),function Pn(v){Nn().location.href=v}(fu(p,m,w,ze(),A)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:A,promise:O}=this.eventManagers[m];return A?Promise.resolve(A):(H(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[m]={promise:w},w.catch(()=>{delete this.eventManagers[m]}),w}initAndGetManager(p){var m=this;return(0,a.Z)(function*(){const w=yield function ac(v){return lc.apply(this,arguments)}(p),A=new xs(p);return w.register("authEvent",O=>(he(null==O?void 0:O.authEvent,p,"invalid-auth-event"),{status:A.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:A},m.iframes[p._key()]=w,A})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(nv,{type:nv},A=>{var O;const J=null===(O=null==A?void 0:A[0])||void 0===O?void 0:O[nv];void 0!==J&&m(!!J),ye(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function sc(v){return El.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return qs()||Kl()||ti()}}),this.cordovaResolver=W(class uv{constructor(){this._redirectPersistence=nn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=nr}_initialize(p){var m=this;return(0,a.Z)(function*(){const w=p._key();let A=m.eventManagers.get(w);return A||(A=new j0(p),m.eventManagers.set(w,A),m.attachCallbackListeners(p,A)),A})()}_openPopup(p){ye(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,w,A){var O=this;return(0,a.Z)(function*(){!function sv(v){var p,m,w,A,O,J,ve,qe,lt,Ct;const ft=ks();he("function"==typeof(null===(p=null==ft?void 0:ft.universalLinks)||void 0===p?void 0:p.subscribe),v,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(void 0!==(null===(m=null==ft?void 0:ft.BuildInfo)||void 0===m?void 0:m.packageName),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he("function"==typeof(null===(O=null===(A=null===(w=null==ft?void 0:ft.cordova)||void 0===w?void 0:w.plugins)||void 0===A?void 0:A.browsertab)||void 0===O?void 0:O.openUrl),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(qe=null===(ve=null===(J=null==ft?void 0:ft.cordova)||void 0===J?void 0:J.plugins)||void 0===ve?void 0:ve.browsertab)||void 0===qe?void 0:qe.isAvailable),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he("function"==typeof(null===(Ct=null===(lt=null==ft?void 0:ft.cordova)||void 0===lt?void 0:lt.InAppBrowser)||void 0===Ct?void 0:Ct.open),v,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const J=yield O._initialize(p);yield J.initialized(),J.resetRedirect(),function vd(){rc.clear()}(),yield O._originValidation(p);const ve=function Ug(v,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Tl(),postBody:null,tenantId:v.tenantId,error:Ne(v,"no-auth-event")}}(p,w,A);yield function ov(v,p){return pu()._set(mf(v),p)}(p,ve);const qe=yield function oo(v,p,m){return Sa.apply(this,arguments)}(p,ve,m),lt=yield function pf(v){const{cordova:p}=ks();return new Promise(m=>{p.plugins.browsertab.isAvailable(w=>{let A=null;w?p.plugins.browsertab.openUrl(v):A=p.InAppBrowser.open(v,function Kc(v=(0,P.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}()?"_blank":"_system","location=yes"),m(A)})})}(qe);return function B0(v,p,m){return Lg.apply(this,arguments)}(p,J,lt)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function ff(v){return Cl.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:w,handleOpenURL:A,BuildInfo:O}=ks(),J=setTimeout((0,a.Z)(function*(){yield Bg(p),m.onEvent(_f())}),500),ve=function(){var Ct=(0,a.Z)(function*(ft){clearTimeout(J);const cr=yield Bg(p);let zi=null;cr&&(null==ft?void 0:ft.url)&&(zi=function av(v,p){var m,w;const A=function lv(v){const p=jn(v),m=p.link?decodeURIComponent(p.link):void 0,w=jn(m).link,A=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return jn(A).link||A||w||m||v}(p);if(A.includes("/__/auth/callback")){const O=jn(A),J=O.firebaseError?function yf(v){try{return JSON.parse(v)}catch(p){return null}}(decodeURIComponent(O.firebaseError)):null,ve=null===(w=null===(m=null==J?void 0:J.code)||void 0===m?void 0:m.split("auth/"))||void 0===w?void 0:w[1],qe=ve?Ne(ve):null;return qe?{type:v.type,eventId:v.eventId,tenantId:v.tenantId,error:qe,urlResponse:null,sessionId:null,postBody:null}:{type:v.type,eventId:v.eventId,tenantId:v.tenantId,sessionId:v.sessionId,urlResponse:A,postBody:null}}return null}(cr,ft.url)),m.onEvent(zi||_f())});return function(cr){return Ct.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ve);const qe=A,lt=`${O.packageName.toLowerCase()}://`;ks().handleOpenURL=function(){var Ct=(0,a.Z)(function*(ft){if(ft.toLowerCase().startsWith(lt)&&ve({url:ft}),"function"==typeof qe)try{qe(ft)}catch(cr){console.error(cr)}});return function(ft){return Ct.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=nn,this._completeRedirectFn=nr}_initialize(p){var m=this;return(0,a.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,w,A){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,m,w,A)})()}_openRedirect(p,m,w,A){var O=this;return(0,a.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,m,w,A)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Td()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return mv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,a.Z)(function*(){if(p.underlyingResolver)return;const m=yield function $g(){return Tf.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Id(v){return v.unwrap()}function vv(v){return zg(v)}function zg(v){const{_tokenResponse:p}=v instanceof P.ZR?v.customData:v;if(!p)return null;if(!(v instanceof P.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ma.credentialFromResult(v);const m=p.providerId;if(!m||"password"===m)return null;let w;switch(m){case"google.com":w=ea;break;case"facebook.com":w=Xo;break;case"github.com":w=zu;break;case"twitter.com":w=_i;break;default:const{oauthIdToken:A,oauthAccessToken:O,oauthTokenSecret:J,pendingToken:ve,nonce:qe}=p;return O||J||A||ve?ve?m.startsWith("saml.")?Vi._create(m,ve):gs._fromParams({providerId:m,signInMethod:m,pendingToken:ve,idToken:A,accessToken:O}):new bo(m).credential({idToken:A,accessToken:O,rawNonce:qe}):null}return v instanceof P.ZR?w.credentialFromError(v):w.credentialFromResult(v)}function bi(v,p){return p.catch(m=>{throw m instanceof P.ZR&&function pc(v,p){var m;const w=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===p.code)p.resolver=new _v(v,function Tg(v,p){var m;const w=(0,P.m9)(v),A=p;return he(p.customData.operationType,w,"argument-error"),he(null===(m=A.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,w,"argument-error"),Qu._fromError(w,A)}(v,p));else if(w){const A=zg(p),O=p;A&&(O.credential=A,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(v,m),m}).then(m=>{const A=m.user;return{operationType:m.operationType,credential:vv(m),additionalUserInfo:Yu(m),user:ao.getOrCreate(A)}})}function If(v,p){return Af.apply(this,arguments)}function Af(){return(Af=(0,a.Z)(function*(v,p){const m=yield p;return{verificationId:m.verificationId,confirm:w=>bi(v,m.confirm(w))}})).apply(this,arguments)}class _v{constructor(p,m){this.resolver=m,this.auth=function yv(v){return v.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return bi(Id(this.auth),this.resolver.resolveSignIn(p))}}class ao{constructor(p){this._delegate=p,this.multiFactor=function dd(v){const p=(0,P.m9)(v);return ha.has(p)||ha.set(p,cd._fromUser(p)),ha.get(p)}(p)}static getOrCreate(p){return ao.USER_MAP.has(p)||ao.USER_MAP.set(p,new ao(p)),ao.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,a.Z)(function*(){return bi(m.auth,ia(m._delegate,p))})()}linkWithPhoneNumber(p,m){var w=this;return(0,a.Z)(function*(){return If(w.auth,function ts(v,p,m){return Wr.apply(this,arguments)}(w._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,a.Z)(function*(){return bi(m.auth,function ya(v,p,m){return _l.apply(this,arguments)}(m._delegate,p,xa))})()}linkWithRedirect(p){var m=this;return(0,a.Z)(function*(){return yield bd(Ue(m.auth)),function Xe(v,p,m){return function Ke(v,p,m){return zt.apply(this,arguments)}(v,p,m)}(m._delegate,p,xa)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,a.Z)(function*(){return bi(m.auth,Ei(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return If(this.auth,function As(v,p,m){return du.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return bi(this.auth,function af(v,p,m){return io.apply(this,arguments)}(this._delegate,p,xa))}reauthenticateWithRedirect(p){var m=this;return(0,a.Z)(function*(){return yield bd(Ue(m.auth)),function Q(v,p,m){return function pe(v,p,m){return ke.apply(this,arguments)}(v,p,m)}(m._delegate,p,xa)})()}sendEmailVerification(p){return function Kh(v,p){return al.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,a.Z)(function*(){return yield function Ys(v,p){return Xl.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function iu(v,p){return su((0,P.m9)(v),p,null)}(this._delegate,p)}updatePassword(p){return function Yh(v,p){return su((0,P.m9)(v),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function yd(v,p){return Ro.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ad(v,p){return ll.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function Wu(v,p,m){return Io.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ao.USER_MAP=new WeakMap;const gc=he;let qg=(()=>{class v{constructor(m,w){if(this.app=m,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:A}=m.options;gc(A,"invalid-api-key",{appName:m.name}),gc(A,"invalid-api-key",{appName:m.name});const O="undefined"!=typeof window?xa:void 0;this._delegate=w.initialize({options:{persistence:wv(A,m.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Fe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ao.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,w){!function vn(v,p,m){const w=Ue(v);he(w._canInitEmulator,w,"emulator-config-failed"),he(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const A=!!(null==m?void 0:m.disableWarnings),O=zr(p),{host:J,port:ve}=function fs(v){const p=zr(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const w=m[2].split("@").pop()||"",A=/^(\[[^\]]+\])(:|$)/.exec(w);if(A){const O=A[1];return{host:O,port:Zn(w.substr(O.length+1))}}{const[O,J]=w.split(":");return{host:O,port:Zn(J)}}}(p);w.config.emulator={url:`${O}//${J}${null===ve?"":`:${ve}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:J,port:ve,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:A})}),A||function ps(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}(this._delegate,m,w)}applyActionCode(m){return function sd(v,p){return _n.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return ol(this._delegate,m)}confirmPasswordReset(m,w){return function Ae(v,p,m){return Ut.apply(this,arguments)}(this._delegate,m,w)}createUserWithEmailAndPassword(m,w){var A=this;return(0,a.Z)(function*(){return bi(A._delegate,function Zu(v,p,m){return tu.apply(this,arguments)}(A._delegate,m,w))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function od(v,p){return ca.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function br(v,p){const m=ms.parseLink(p);return"EMAIL_SIGNIN"===(null==m?void 0:m.operation)}(0,m)}getRedirectResult(){var m=this;return(0,a.Z)(function*(){gc(Ma(),m._delegate,"operation-not-supported-in-this-environment");const w=yield function Dn(v,p){return Fr.apply(this,arguments)}(m._delegate,xa);return w?bi(m._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function cv(v,p){Ue(v)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,w,A){const{next:O,error:J,complete:ve}=Zg(m,w,A);return this._delegate.onAuthStateChanged(O,J,ve)}onIdTokenChanged(m,w,A){const{next:O,error:J,complete:ve}=Zg(m,w,A);return this._delegate.onIdTokenChanged(O,J,ve)}sendSignInLinkToEmail(m,w){return function nu(v,p,m){return ua.apply(this,arguments)}(this._delegate,m,w)}sendPasswordResetEmail(m,w){return function id(v,p,m){return sl.apply(this,arguments)}(this._delegate,m,w||void 0)}setPersistence(m){var w=this;return(0,a.Z)(function*(){let A;switch(function pv(v,p){fc(Object.values(Ti).includes(p),v,"invalid-persistence-type"),(0,P.b$)()?fc(p!==Ti.SESSION,v,"unsupported-persistence-type"):(0,P.UG)()?fc(p===Ti.NONE,v,"unsupported-persistence-type"):Sr()?fc(p===Ti.NONE||p===Ti.LOCAL&&(0,P.hl)(),v,"unsupported-persistence-type"):fc(p===Ti.NONE||Cf(),v,"unsupported-persistence-type")}(w._delegate,m),m){case Ti.SESSION:A=nn;break;case Ti.LOCAL:A=(yield W(xo)._isAvailable())?xo:wn;break;case Ti.NONE:A=Vt;break;default:return ye("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(A)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return bi(this._delegate,function rd(v){return Jl.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return bi(this._delegate,Tr(this._delegate,m))}signInWithCustomToken(m){return bi(this._delegate,function sa(v,p){return oa.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,w){return bi(this._delegate,function Gh(v,p,m){return Tr((0,P.m9)(v),nl.credential(p,m))}(this._delegate,m,w))}signInWithEmailLink(m,w){return bi(this._delegate,function Ji(v,p,m){return ru.apply(this,arguments)}(this._delegate,m,w))}signInWithPhoneNumber(m,w){return If(this._delegate,function ml(v,p,m){return tc.apply(this,arguments)}(this._delegate,m,w))}signInWithPopup(m){var w=this;return(0,a.Z)(function*(){return gc(Ma(),w._delegate,"operation-not-supported-in-this-environment"),bi(w._delegate,function Sg(v,p,m){return nc.apply(this,arguments)}(w._delegate,m,xa))})()}signInWithRedirect(m){var w=this;return(0,a.Z)(function*(){return gc(Ma(),w._delegate,"operation-not-supported-in-this-environment"),yield bd(w._delegate),function S(v,p,m){return function k(v,p,m){return U.apply(this,arguments)}(v,p,m)}(w._delegate,m,xa)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function si(v,p){return _s.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return v.Persistence=Ti,v})();function Zg(v,p,m){let w=v;"function"!=typeof v&&({next:w,error:p,complete:m}=v);const A=w;return{next:J=>A(J&&ao.getOrCreate(J)),error:p,complete:m}}function wv(v,p){const m=function gv(v,p){const m=Sd();if(!(null==m?void 0:m.sessionStorage))return[];const w=or(bf,v,p);switch(m.sessionStorage.getItem(w)){case Ti.NONE:return[Vt];case Ti.LOCAL:return[xo,nn];case Ti.SESSION:return[nn];default:return[]}}(v,p);if("undefined"!=typeof self&&!m.includes(xo)&&m.push(xo),"undefined"!=typeof window)for(const w of[wn,nn])m.includes(w)||m.push(w);return m.includes(Vt)||m.push(Vt),m}class Ad{constructor(){this.providerId="phone",this._delegate=new ma(Id(re.Z.auth()))}static credential(p,m){return ma.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}Ad.PHONE_SIGN_IN_METHOD=ma.PHONE_SIGN_IN_METHOD,Ad.PROVIDER_ID=ma.PROVIDER_ID;const Ev=he;class Dv{constructor(p,m,w=re.Z.app()){var A;Ev(null===(A=w.options)||void 0===A?void 0:A.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new rf(p,m,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function gu(v){v.INTERNAL.registerComponent(new ce.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new qg(m,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:nl,FacebookAuthProvider:Xo,GithubAuthProvider:zu,GoogleAuthProvider:ea,OAuthProvider:bo,SAMLAuthProvider:ys,PhoneAuthProvider:Ad,PhoneMultiFactorGenerator:Dd,RecaptchaVerifier:Dv,TwitterAuthProvider:_i,Auth:qg,AuthCredential:tn,Error:P.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),v.registerVersion("@firebase/auth-compat","0.2.5")}(re.Z)},2940:function(at,Ce){!function(N){"use strict";function a(ee){return Array.prototype.slice.call(ee)}function re(ee){return new Promise(function(ie,we){ee.onsuccess=function(){ie(ee.result)},ee.onerror=function(){we(ee.error)}})}function P(ee,ie,we){var xe,ye=new Promise(function(Ne,be){re(xe=ee[ie].apply(ee,we)).then(Ne,be)});return ye.request=xe,ye}function ue(ee,ie,we){var xe=P(ee,ie,we);return xe.then(function(ye){if(ye)return new $(ye,xe.request)})}function ae(ee,ie,we){we.forEach(function(xe){Object.defineProperty(ee.prototype,xe,{get:function(){return this[ie][xe]},set:function(ye){this[ie][xe]=ye}})})}function me(ee,ie,we,xe){xe.forEach(function(ye){ye in we.prototype&&(ee.prototype[ye]=function(){return P(this[ie],ye,arguments)})})}function ce(ee,ie,we,xe){xe.forEach(function(ye){ye in we.prototype&&(ee.prototype[ye]=function(){return this[ie][ye].apply(this[ie],arguments)})})}function fe(ee,ie,we,xe){xe.forEach(function(ye){ye in we.prototype&&(ee.prototype[ye]=function(){return ue(this[ie],ye,arguments)})})}function de(ee){this._index=ee}function $(ee,ie){this._cursor=ee,this._request=ie}function z(ee){this._store=ee}function X(ee){this._tx=ee,this.complete=new Promise(function(ie,we){ee.oncomplete=function(){ie()},ee.onerror=function(){we(ee.error)},ee.onabort=function(){we(ee.error)}})}function je(ee,ie,we){this._db=ee,this.oldVersion=ie,this.transaction=new X(we)}function Me(ee){this._db=ee}ae(de,"_index",["name","keyPath","multiEntry","unique"]),me(de,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),fe(de,"_index",IDBIndex,["openCursor","openKeyCursor"]),ae($,"_cursor",["direction","key","primaryKey","value"]),me($,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(ee){ee in IDBCursor.prototype&&($.prototype[ee]=function(){var ie=this,we=arguments;return Promise.resolve().then(function(){return ie._cursor[ee].apply(ie._cursor,we),re(ie._request).then(function(xe){if(xe)return new $(xe,ie._request)})})})}),z.prototype.createIndex=function(){return new de(this._store.createIndex.apply(this._store,arguments))},z.prototype.index=function(){return new de(this._store.index.apply(this._store,arguments))},ae(z,"_store",["name","keyPath","indexNames","autoIncrement"]),me(z,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),fe(z,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),ce(z,"_store",IDBObjectStore,["deleteIndex"]),X.prototype.objectStore=function(){return new z(this._tx.objectStore.apply(this._tx,arguments))},ae(X,"_tx",["objectStoreNames","mode"]),ce(X,"_tx",IDBTransaction,["abort"]),je.prototype.createObjectStore=function(){return new z(this._db.createObjectStore.apply(this._db,arguments))},ae(je,"_db",["name","version","objectStoreNames"]),ce(je,"_db",IDBDatabase,["deleteObjectStore","close"]),Me.prototype.transaction=function(){return new X(this._db.transaction.apply(this._db,arguments))},ae(Me,"_db",["name","version","objectStoreNames"]),ce(Me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(ee){[z,de].forEach(function(ie){ee in ie.prototype&&(ie.prototype[ee.replace("open","iterate")]=function(){var we=a(arguments),xe=we[we.length-1],ye=this._store||this._index,Ne=ye[ee].apply(ye,we.slice(0,-1));Ne.onsuccess=function(){xe(Ne.result)}})})}),[de,z].forEach(function(ee){ee.prototype.getAll||(ee.prototype.getAll=function(ie,we){var xe=this,ye=[];return new Promise(function(Ne){xe.iterateCursor(ie,function(be){be?(ye.push(be.value),void 0===we||ye.length!=we?be.continue():Ne(ye)):Ne(ye)})})})}),N.openDb=function Fe(ee,ie,we){var xe=P(indexedDB,"open",[ee,ie]),ye=xe.request;return ye&&(ye.onupgradeneeded=function(Ne){we&&we(new je(ye.result,Ne.oldVersion,ye.transaction))}),xe.then(function(Ne){return new Me(Ne)})},N.deleteDb=function nt(ee){return P(indexedDB,"deleteDatabase",[ee])},Object.defineProperty(N,"__esModule",{value:!0})}(Ce)},9751:(at,Ce,N)=>{"use strict";N.d(Ce,{y:()=>fe});var a=N(930),re=N(727),P=N(8822),ue=N(9635),ae=N(2416),me=N(576),ce=N(2806);let fe=(()=>{class X{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Fe=new X;return Fe.source=this,Fe.operator=Me,Fe}subscribe(Me,Fe,nt){const ee=function z(X){return X&&X instanceof a.Lv||function $(X){return X&&(0,me.m)(X.next)&&(0,me.m)(X.error)&&(0,me.m)(X.complete)}(X)&&(0,re.Nn)(X)}(Me)?Me:new a.Hp(Me,Fe,nt);return(0,ce.x)(()=>{const{operator:ie,source:we}=this;ee.add(ie?ie.call(ee,we):we?this._subscribe(ee):this._trySubscribe(ee))}),ee}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Fe){Me.error(Fe)}}forEach(Me,Fe){return new(Fe=de(Fe))((nt,ee)=>{let ie;ie=this.subscribe(we=>{try{Me(we)}catch(xe){ee(xe),null==ie||ie.unsubscribe()}},ee,nt)})}_subscribe(Me){var Fe;return null===(Fe=this.source)||void 0===Fe?void 0:Fe.subscribe(Me)}[P.L](){return this}pipe(...Me){return(0,ue.U)(Me)(this)}toPromise(Me){return new(Me=de(Me))((Fe,nt)=>{let ee;this.subscribe(ie=>ee=ie,ie=>nt(ie),()=>Fe(ee))})}}return X.create=je=>new X(je),X})();function de(X){var je;return null!==(je=null!=X?X:ae.v.Promise)&&void 0!==je?je:Promise}},7579:(at,Ce,N)=>{"use strict";N.d(Ce,{x:()=>ce});var a=N(9751),re=N(727);const ue=(0,N(3888).d)(de=>function(){de(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ae=N(8737),me=N(2806);let ce=(()=>{class de extends a.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const X=new fe(this,this);return X.operator=z,X}_throwIfClosed(){if(this.closed)throw new ue}next(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const X=this.observers.slice();for(const je of X)je.next(z)}})}error(z){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:X}=this;for(;X.length;)X.shift().error(z)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:X,isStopped:je,observers:Me}=this;return X||je?re.Lc:(Me.push(z),new re.w0(()=>(0,ae.P)(Me,z)))}_checkFinalizedStatuses(z){const{hasError:X,thrownError:je,isStopped:Me}=this;X?z.error(je):Me&&z.complete()}asObservable(){const z=new a.y;return z.source=this,z}}return de.create=($,z)=>new fe($,z),de})();class fe extends ce{constructor($,z){super(),this.destination=$,this.source=z}next($){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===X||X.call(z,$)}error($){var z,X;null===(X=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===X||X.call(z,$)}complete(){var $,z;null===(z=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===z||z.call($)}_subscribe($){var z,X;return null!==(X=null===(z=this.source)||void 0===z?void 0:z.subscribe($))&&void 0!==X?X:re.Lc}}},930:(at,Ce,N)=>{"use strict";N.d(Ce,{Hp:()=>je,Lv:()=>X});var a=N(576),re=N(727),P=N(2416),ue=N(7849),ae=N(5032);const me=de("C",void 0,void 0);function de(ie,we,xe){return{kind:ie,value:we,error:xe}}var $=N(3410),z=N(2806);class X extends re.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,re.Nn)(we)&&we.add(this)):this.destination=ee}static create(we,xe,ye){return new je(we,xe,ye)}next(we){this.isStopped?nt(function fe(ie){return de("N",ie,void 0)}(we),this):this._next(we)}error(we){this.isStopped?nt(function ce(ie){return de("E",void 0,ie)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?nt(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class je extends X{constructor(we,xe,ye){let Ne;if(super(),(0,a.m)(we))Ne=we;else if(we){let be;({next:Ne,error:xe,complete:ye}=we),this&&P.v.useDeprecatedNextContext?(be=Object.create(we),be.unsubscribe=()=>this.unsubscribe()):be=we,Ne=null==Ne?void 0:Ne.bind(be),xe=null==xe?void 0:xe.bind(be),ye=null==ye?void 0:ye.bind(be)}this.destination={next:Ne?Me(Ne):ae.Z,error:Me(null!=xe?xe:Fe),complete:ye?Me(ye):ae.Z}}}function Me(ie,we){return(...xe)=>{try{ie(...xe)}catch(ye){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(ye):(0,ue.h)(ye)}}}function Fe(ie){throw ie}function nt(ie,we){const{onStoppedNotification:xe}=P.v;xe&&$.z.setTimeout(()=>xe(ie,we))}const ee={closed:!0,next:ae.Z,error:Fe,complete:ae.Z}},727:(at,Ce,N)=>{"use strict";N.d(Ce,{Lc:()=>me,w0:()=>ae,Nn:()=>ce});var a=N(576);const P=(0,N(3888).d)(de=>function(z){de(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((X,je)=>`${je+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var ue=N(8737);class ae{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Me of z)Me.remove(this);else z.remove(this);const{initialTeardown:X}=this;if((0,a.m)(X))try{X()}catch(Me){$=Me instanceof P?Me.errors:[Me]}const{_teardowns:je}=this;if(je){this._teardowns=null;for(const Me of je)try{fe(Me)}catch(Fe){$=null!=$?$:[],Fe instanceof P?$=[...$,...Fe.errors]:$.push(Fe)}}if($)throw new P($)}}add($){var z;if($&&$!==this)if(this.closed)fe($);else{if($ instanceof ae){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._teardowns=null!==(z=this._teardowns)&&void 0!==z?z:[]).push($)}}_hasParent($){const{_parentage:z}=this;return z===$||Array.isArray(z)&&z.includes($)}_addParent($){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push($),z):z?[z,$]:$}_removeParent($){const{_parentage:z}=this;z===$?this._parentage=null:Array.isArray(z)&&(0,ue.P)(z,$)}remove($){const{_teardowns:z}=this;z&&(0,ue.P)(z,$),$ instanceof ae&&$._removeParent(this)}}ae.EMPTY=(()=>{const de=new ae;return de.closed=!0,de})();const me=ae.EMPTY;function ce(de){return de instanceof ae||de&&"closed"in de&&(0,a.m)(de.remove)&&(0,a.m)(de.add)&&(0,a.m)(de.unsubscribe)}function fe(de){(0,a.m)(de)?de():de.unsubscribe()}},2416:(at,Ce,N)=>{"use strict";N.d(Ce,{v:()=>a});const a={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(at,Ce,N)=>{"use strict";N.d(Ce,{E:()=>re});const re=new(N(9751).y)(ae=>ae.complete())},8996:(at,Ce,N)=>{"use strict";N.d(Ce,{D:()=>Ne});var a=N(8421),re=N(5363),P=N(9468),me=N(9751),fe=N(2202),de=N(576),$=N(9672);function X(be,et){if(!be)throw new Error("Iterable cannot be null");return new me.y(Ge=>{(0,$.f)(Ge,et,()=>{const he=be[Symbol.asyncIterator]();(0,$.f)(Ge,et,()=>{he.next().then(V=>{V.done?Ge.complete():Ge.next(V.value)})},0,!0)})})}var je=N(3670),Me=N(8239),Fe=N(1144),nt=N(6495),ee=N(2206),ie=N(4532),we=N(3260);function Ne(be,et){return et?function ye(be,et){if(null!=be){if((0,je.c)(be))return function ue(be,et){return(0,a.Xf)(be).pipe((0,P.R)(et),(0,re.Q)(et))}(be,et);if((0,Fe.z)(be))return function ce(be,et){return new me.y(Ge=>{let he=0;return et.schedule(function(){he===be.length?Ge.complete():(Ge.next(be[he++]),Ge.closed||this.schedule())})})}(be,et);if((0,Me.t)(be))return function ae(be,et){return(0,a.Xf)(be).pipe((0,P.R)(et),(0,re.Q)(et))}(be,et);if((0,ee.D)(be))return X(be,et);if((0,nt.T)(be))return function z(be,et){return new me.y(Ge=>{let he;return(0,$.f)(Ge,et,()=>{he=be[fe.h](),(0,$.f)(Ge,et,()=>{let V,H;try{({value:V,done:H}=he.next())}catch(Z){return void Ge.error(Z)}H?Ge.complete():Ge.next(V)},0,!0)}),()=>(0,de.m)(null==he?void 0:he.return)&&he.return()})}(be,et);if((0,we.L)(be))return function xe(be,et){return X((0,we.Q)(be),et)}(be,et)}throw(0,ie.z)(be)}(be,et):(0,a.Xf)(be)}},8421:(at,Ce,N)=>{"use strict";N.d(Ce,{Xf:()=>je});var a=N(5987),re=N(1144),P=N(8239),ue=N(9751),ae=N(3670),me=N(2206),ce=N(4532),fe=N(6495),de=N(3260),$=N(576),z=N(7849),X=N(8822);function je(ye){if(ye instanceof ue.y)return ye;if(null!=ye){if((0,ae.c)(ye))return function Me(ye){return new ue.y(Ne=>{const be=ye[X.L]();if((0,$.m)(be.subscribe))return be.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,re.z)(ye))return function Fe(ye){return new ue.y(Ne=>{for(let be=0;be<ye.length&&!Ne.closed;be++)Ne.next(ye[be]);Ne.complete()})}(ye);if((0,P.t)(ye))return function nt(ye){return new ue.y(Ne=>{ye.then(be=>{Ne.closed||(Ne.next(be),Ne.complete())},be=>Ne.error(be)).then(null,z.h)})}(ye);if((0,me.D)(ye))return ie(ye);if((0,fe.T)(ye))return function ee(ye){return new ue.y(Ne=>{for(const be of ye)if(Ne.next(be),Ne.closed)return;Ne.complete()})}(ye);if((0,de.L)(ye))return function we(ye){return ie((0,de.Q)(ye))}(ye)}throw(0,ce.z)(ye)}function ie(ye){return new ue.y(Ne=>{(function xe(ye,Ne){var be,et,Ge,he;return(0,a.mG)(this,void 0,void 0,function*(){try{for(be=(0,a.KL)(ye);!(et=yield be.next()).done;)if(Ne.next(et.value),Ne.closed)return}catch(V){Ge={error:V}}finally{try{et&&!et.done&&(he=be.return)&&(yield he.call(be))}finally{if(Ge)throw Ge.error}}Ne.complete()})})(ye,Ne).catch(be=>Ne.error(be))})}},6451:(at,Ce,N)=>{"use strict";N.d(Ce,{T:()=>me});var a=N(8189),re=N(8421),P=N(515),ue=N(3269),ae=N(8996);function me(...ce){const fe=(0,ue.yG)(ce),de=(0,ue._6)(ce,1/0),$=ce;return $.length?1===$.length?(0,re.Xf)($[0]):(0,a.J)(de)((0,ae.D)($,fe)):P.E}},5403:(at,Ce,N)=>{"use strict";N.d(Ce,{Q:()=>re});var a=N(930);class re extends a.Lv{constructor(ue,ae,me,ce,fe){super(ue),this.onFinalize=fe,this._next=ae?function(de){try{ae(de)}catch($){ue.error($)}}:super._next,this._error=ce?function(de){try{ce(de)}catch($){ue.error($)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(de){ue.error(de)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ue;const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(ue=this.onFinalize)||void 0===ue||ue.call(this))}}},4004:(at,Ce,N)=>{"use strict";N.d(Ce,{U:()=>P});var a=N(4482),re=N(5403);function P(ue,ae){return(0,a.e)((me,ce)=>{let fe=0;me.subscribe(new re.Q(ce,de=>{ce.next(ue.call(ae,de,fe++))}))})}},8189:(at,Ce,N)=>{"use strict";N.d(Ce,{J:()=>P});var a=N(5577),re=N(4671);function P(ue=1/0){return(0,a.z)(re.y,ue)}},5577:(at,Ce,N)=>{"use strict";N.d(Ce,{z:()=>fe});var a=N(4004),re=N(8421),P=N(4482),ue=N(9672),ae=N(5403),ce=N(576);function fe(de,$,z=1/0){return(0,ce.m)($)?fe((X,je)=>(0,a.U)((Me,Fe)=>$(X,Me,je,Fe))((0,re.Xf)(de(X,je))),z):("number"==typeof $&&(z=$),(0,P.e)((X,je)=>function me(de,$,z,X,je,Me,Fe,nt){const ee=[];let ie=0,we=0,xe=!1;const ye=()=>{xe&&!ee.length&&!ie&&$.complete()},Ne=et=>ie<X?be(et):ee.push(et),be=et=>{Me&&$.next(et),ie++;let Ge=!1;(0,re.Xf)(z(et,we++)).subscribe(new ae.Q($,he=>{null==je||je(he),Me?Ne(he):$.next(he)},()=>{Ge=!0},void 0,()=>{if(Ge)try{for(ie--;ee.length&&ie<X;){const he=ee.shift();Fe?(0,ue.f)($,Fe,()=>be(he)):be(he)}ye()}catch(he){$.error(he)}}))};return de.subscribe(new ae.Q($,Ne,()=>{xe=!0,ye()})),()=>{null==nt||nt()}}(X,je,de,z)))}},5363:(at,Ce,N)=>{"use strict";N.d(Ce,{Q:()=>ue});var a=N(9672),re=N(4482),P=N(5403);function ue(ae,me=0){return(0,re.e)((ce,fe)=>{ce.subscribe(new P.Q(fe,de=>(0,a.f)(fe,ae,()=>fe.next(de),me),()=>(0,a.f)(fe,ae,()=>fe.complete(),me),de=>(0,a.f)(fe,ae,()=>fe.error(de),me)))})}},3099:(at,Ce,N)=>{"use strict";N.d(Ce,{B:()=>me});var a=N(8996),re=N(5698),P=N(7579),ue=N(930),ae=N(4482);function me(fe={}){const{connector:de=(()=>new P.x),resetOnError:$=!0,resetOnComplete:z=!0,resetOnRefCountZero:X=!0}=fe;return je=>{let Me=null,Fe=null,nt=null,ee=0,ie=!1,we=!1;const xe=()=>{null==Fe||Fe.unsubscribe(),Fe=null},ye=()=>{xe(),Me=nt=null,ie=we=!1},Ne=()=>{const be=Me;ye(),null==be||be.unsubscribe()};return(0,ae.e)((be,et)=>{ee++,!we&&!ie&&xe();const Ge=nt=null!=nt?nt:de();et.add(()=>{ee--,0===ee&&!we&&!ie&&(Fe=ce(Ne,X))}),Ge.subscribe(et),Me||(Me=new ue.Hp({next:he=>Ge.next(he),error:he=>{we=!0,xe(),Fe=ce(ye,$,he),Ge.error(he)},complete:()=>{ie=!0,xe(),Fe=ce(ye,z),Ge.complete()}}),(0,a.D)(be).subscribe(Me))})(je)}}function ce(fe,de,...$){return!0===de?(fe(),null):!1===de?null:de(...$).pipe((0,re.q)(1)).subscribe(()=>fe())}},9468:(at,Ce,N)=>{"use strict";N.d(Ce,{R:()=>re});var a=N(4482);function re(P,ue=0){return(0,a.e)((ae,me)=>{me.add(P.schedule(()=>ae.subscribe(me),ue))})}},5698:(at,Ce,N)=>{"use strict";N.d(Ce,{q:()=>ue});var a=N(515),re=N(4482),P=N(5403);function ue(ae){return ae<=0?()=>a.E:(0,re.e)((me,ce)=>{let fe=0;me.subscribe(new P.Q(ce,de=>{++fe<=ae&&(ce.next(de),ae<=fe&&ce.complete())}))})}},8505:(at,Ce,N)=>{"use strict";N.d(Ce,{b:()=>ae});var a=N(576),re=N(4482),P=N(5403),ue=N(4671);function ae(me,ce,fe){const de=(0,a.m)(me)||ce||fe?{next:me,error:ce,complete:fe}:me;return de?(0,re.e)(($,z)=>{var X;null===(X=de.subscribe)||void 0===X||X.call(de);let je=!0;$.subscribe(new P.Q(z,Me=>{var Fe;null===(Fe=de.next)||void 0===Fe||Fe.call(de,Me),z.next(Me)},()=>{var Me;je=!1,null===(Me=de.complete)||void 0===Me||Me.call(de),z.complete()},Me=>{var Fe;je=!1,null===(Fe=de.error)||void 0===Fe||Fe.call(de,Me),z.error(Me)},()=>{var Me,Fe;je&&(null===(Me=de.unsubscribe)||void 0===Me||Me.call(de)),null===(Fe=de.finalize)||void 0===Fe||Fe.call(de)}))}):ue.y}},4408:(at,Ce,N)=>{"use strict";N.d(Ce,{o:()=>ae});var a=N(727);class re extends a.w0{constructor(ce,fe){super()}schedule(ce,fe=0){return this}}const P={setInterval(...me){const{delegate:ce}=P;return((null==ce?void 0:ce.setInterval)||setInterval)(...me)},clearInterval(me){const{delegate:ce}=P;return((null==ce?void 0:ce.clearInterval)||clearInterval)(me)},delegate:void 0};var ue=N(8737);class ae extends re{constructor(ce,fe){super(ce,fe),this.scheduler=ce,this.work=fe,this.pending=!1}schedule(ce,fe=0){if(this.closed)return this;this.state=ce;const de=this.id,$=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId($,de,fe)),this.pending=!0,this.delay=fe,this.id=this.id||this.requestAsyncId($,this.id,fe),this}requestAsyncId(ce,fe,de=0){return P.setInterval(ce.flush.bind(ce,this),de)}recycleAsyncId(ce,fe,de=0){if(null!=de&&this.delay===de&&!1===this.pending)return fe;P.clearInterval(fe)}execute(ce,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ce,fe);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ce,fe){let $,de=!1;try{this.work(ce)}catch(z){de=!0,$=z||new Error("Scheduled action threw falsy error")}if(de)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:ce,scheduler:fe}=this,{actions:de}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ue.P)(de,this),null!=ce&&(this.id=this.recycleAsyncId(fe,ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(at,Ce,N)=>{"use strict";N.d(Ce,{v:()=>P});var a=N(6063);class re{constructor(ae,me=re.now){this.schedulerActionCtor=ae,this.now=me}schedule(ae,me=0,ce){return new this.schedulerActionCtor(this,ae).schedule(ce,me)}}re.now=a.l.now;class P extends re{constructor(ae,me=re.now){super(ae,me),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ae){const{actions:me}=this;if(this._active)return void me.push(ae);let ce;this._active=!0;do{if(ce=ae.execute(ae.state,ae.delay))break}while(ae=me.shift());if(this._active=!1,ce){for(;ae=me.shift();)ae.unsubscribe();throw ce}}}},4986:(at,Ce,N)=>{"use strict";N.d(Ce,{z:()=>P,P:()=>ue});var a=N(4408);const P=new(N(7565).v)(a.o),ue=P},6063:(at,Ce,N)=>{"use strict";N.d(Ce,{l:()=>a});const a={now:()=>(a.delegate||Date).now(),delegate:void 0}},3410:(at,Ce,N)=>{"use strict";N.d(Ce,{z:()=>a});const a={setTimeout(...re){const{delegate:P}=a;return((null==P?void 0:P.setTimeout)||setTimeout)(...re)},clearTimeout(re){const{delegate:P}=a;return((null==P?void 0:P.clearTimeout)||clearTimeout)(re)},delegate:void 0}},2202:(at,Ce,N)=>{"use strict";N.d(Ce,{h:()=>re});const re=function a(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(at,Ce,N)=>{"use strict";N.d(Ce,{L:()=>a});const a="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(at,Ce,N)=>{"use strict";N.d(Ce,{jO:()=>ue,yG:()=>ae,_6:()=>me});var a=N(576),re=N(3532);function P(ce){return ce[ce.length-1]}function ue(ce){return(0,a.m)(P(ce))?ce.pop():void 0}function ae(ce){return(0,re.K)(P(ce))?ce.pop():void 0}function me(ce,fe){return"number"==typeof P(ce)?ce.pop():fe}},8737:(at,Ce,N)=>{"use strict";function a(re,P){if(re){const ue=re.indexOf(P);0<=ue&&re.splice(ue,1)}}N.d(Ce,{P:()=>a})},3888:(at,Ce,N)=>{"use strict";function a(re){const ue=re(ae=>{Error.call(ae),ae.stack=(new Error).stack});return ue.prototype=Object.create(Error.prototype),ue.prototype.constructor=ue,ue}N.d(Ce,{d:()=>a})},2806:(at,Ce,N)=>{"use strict";N.d(Ce,{x:()=>P,O:()=>ue});var a=N(2416);let re=null;function P(ae){if(a.v.useDeprecatedSynchronousErrorHandling){const me=!re;if(me&&(re={errorThrown:!1,error:null}),ae(),me){const{errorThrown:ce,error:fe}=re;if(re=null,ce)throw fe}}else ae()}function ue(ae){a.v.useDeprecatedSynchronousErrorHandling&&re&&(re.errorThrown=!0,re.error=ae)}},9672:(at,Ce,N)=>{"use strict";function a(re,P,ue,ae=0,me=!1){const ce=P.schedule(function(){ue(),me?re.add(this.schedule(null,ae)):this.unsubscribe()},ae);if(re.add(ce),!me)return ce}N.d(Ce,{f:()=>a})},4671:(at,Ce,N)=>{"use strict";function a(re){return re}N.d(Ce,{y:()=>a})},1144:(at,Ce,N)=>{"use strict";N.d(Ce,{z:()=>a});const a=re=>re&&"number"==typeof re.length&&"function"!=typeof re},2206:(at,Ce,N)=>{"use strict";N.d(Ce,{D:()=>re});var a=N(576);function re(P){return Symbol.asyncIterator&&(0,a.m)(null==P?void 0:P[Symbol.asyncIterator])}},576:(at,Ce,N)=>{"use strict";function a(re){return"function"==typeof re}N.d(Ce,{m:()=>a})},3670:(at,Ce,N)=>{"use strict";N.d(Ce,{c:()=>P});var a=N(8822),re=N(576);function P(ue){return(0,re.m)(ue[a.L])}},6495:(at,Ce,N)=>{"use strict";N.d(Ce,{T:()=>P});var a=N(2202),re=N(576);function P(ue){return(0,re.m)(null==ue?void 0:ue[a.h])}},8239:(at,Ce,N)=>{"use strict";N.d(Ce,{t:()=>re});var a=N(576);function re(P){return(0,a.m)(null==P?void 0:P.then)}},3260:(at,Ce,N)=>{"use strict";N.d(Ce,{Q:()=>P,L:()=>ue});var a=N(5987),re=N(576);function P(ae){return(0,a.FC)(this,arguments,function*(){const ce=ae.getReader();try{for(;;){const{value:fe,done:de}=yield(0,a.qq)(ce.read());if(de)return yield(0,a.qq)(void 0);yield yield(0,a.qq)(fe)}}finally{ce.releaseLock()}})}function ue(ae){return(0,re.m)(null==ae?void 0:ae.getReader)}},3532:(at,Ce,N)=>{"use strict";N.d(Ce,{K:()=>re});var a=N(576);function re(P){return P&&(0,a.m)(P.schedule)}},4482:(at,Ce,N)=>{"use strict";N.d(Ce,{A:()=>re,e:()=>P});var a=N(576);function re(ue){return(0,a.m)(null==ue?void 0:ue.lift)}function P(ue){return ae=>{if(re(ae))return ae.lift(function(me){try{return ue(me,this)}catch(ce){this.error(ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(at,Ce,N)=>{"use strict";function a(){}N.d(Ce,{Z:()=>a})},9635:(at,Ce,N)=>{"use strict";N.d(Ce,{z:()=>re,U:()=>P});var a=N(4671);function re(...ue){return P(ue)}function P(ue){return 0===ue.length?a.y:1===ue.length?ue[0]:function(me){return ue.reduce((ce,fe)=>fe(ce),me)}}},7849:(at,Ce,N)=>{"use strict";N.d(Ce,{h:()=>P});var a=N(2416),re=N(3410);function P(ue){re.z.setTimeout(()=>{const{onUnhandledError:ae}=a.v;if(!ae)throw ue;ae(ue)})}},4532:(at,Ce,N)=>{"use strict";function a(re){return new TypeError(`You provided ${null!==re&&"object"==typeof re?"an invalid object":`'${re}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ce,{z:()=>a})},5987:(at,Ce,N)=>{"use strict";function fe(V,H,Z,W){return new(Z||(Z=Promise))(function(G,ze){function gt(Je){try{Le(W.next(Je))}catch(Tn){ze(Tn)}}function rn(Je){try{Le(W.throw(Je))}catch(Tn){ze(Tn)}}function Le(Je){Je.done?G(Je.value):function le(G){return G instanceof Z?G:new Z(function(ze){ze(G)})}(Je.value).then(gt,rn)}Le((W=W.apply(V,H||[])).next())})}function ee(V){return this instanceof ee?(this.v=V,this):new ee(V)}function ie(V,H,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,W=Z.apply(V,H||[]),G=[];return le={},ze("next"),ze("throw"),ze("return"),le[Symbol.asyncIterator]=function(){return this},le;function ze(At){W[At]&&(le[At]=function(On){return new Promise(function(Qt,fi){G.push([At,On,Qt,fi])>1||gt(At,On)})})}function gt(At,On){try{!function rn(At){At.value instanceof ee?Promise.resolve(At.value.v).then(Le,Je):Tn(G[0][2],At)}(W[At](On))}catch(Qt){Tn(G[0][3],Qt)}}function Le(At){gt("next",At)}function Je(At){gt("throw",At)}function Tn(At,On){At(On),G.shift(),G.length&&gt(G[0][0],G[0][1])}}function xe(V){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,H=V[Symbol.asyncIterator];return H?H.call(V):(V=function X(V){var H="function"==typeof Symbol&&Symbol.iterator,Z=H&&V[H],W=0;if(Z)return Z.call(V);if(V&&"number"==typeof V.length)return{next:function(){return V&&W>=V.length&&(V=void 0),{value:V&&V[W++],done:!V}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(V),Z={},W("next"),W("throw"),W("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function W(G){Z[G]=V[G]&&function(ze){return new Promise(function(gt,rn){!function le(G,ze,gt,rn){Promise.resolve(rn).then(function(Le){G({value:Le,done:gt})},ze)}(gt,rn,(ze=V[G](ze)).done,ze.value)})}}}N.d(Ce,{mG:()=>fe,qq:()=>ee,FC:()=>ie,KL:()=>xe})},655:(at,Ce,N)=>{"use strict";N.d(Ce,{pi:()=>P,_T:()=>ue});var P=function(){return P=Object.assign||function(H){for(var Z,W=1,le=arguments.length;W<le;W++)for(var G in Z=arguments[W])Object.prototype.hasOwnProperty.call(Z,G)&&(H[G]=Z[G]);return H},P.apply(this,arguments)};function ue(V,H){var Z={};for(var W in V)Object.prototype.hasOwnProperty.call(V,W)&&H.indexOf(W)<0&&(Z[W]=V[W]);if(null!=V&&"function"==typeof Object.getOwnPropertySymbols){var le=0;for(W=Object.getOwnPropertySymbols(V);le<W.length;le++)H.indexOf(W[le])<0&&Object.prototype.propertyIsEnumerable.call(V,W[le])&&(Z[W[le]]=V[W[le]])}return Z}},5e3:(at,Ce,N)=>{"use strict";N.d(Ce,{deG:()=>ec,tb:()=>$w,AFp:()=>CC,ip1:()=>jw,CZH:()=>Ru,hGG:()=>zC,z2F:()=>Np,sBO:()=>Uc,Sil:()=>Op,_Vd:()=>Mc,EJc:()=>py,SBq:()=>oh,qLn:()=>pc,vpe:()=>Gi,tBr:()=>nr,XFs:()=>Et,OlP:()=>Ln,zs3:()=>Rs,ZZ4:()=>Hp,aQg:()=>Hc,soG:()=>jo,YKP:()=>dw,h0i:()=>po,PXZ:()=>xC,R0b:()=>Se,FiY:()=>mn,Lbi:()=>bC,g9A:()=>xp,Qsj:()=>aw,FYo:()=>Wm,JOm:()=>O,tp0:()=>is,Rgc:()=>fh,dDg:()=>MC,q4F:()=>cp,GfV:()=>nC,s_b:()=>Nc,ifc:()=>jt,eFA:()=>qw,G48:()=>Vc,Gpc:()=>z,X6Q:()=>Pp,_c5:()=>jC,VLi:()=>kI,c2e:()=>Fc,zSh:()=>dm,wAp:()=>St,vHH:()=>Fe,cg1:()=>Nm,kL8:()=>xD,dqk:()=>Gt,sIi:()=>$f,CqO:()=>nD,QGY:()=>Uo,F4k:()=>bc,RDi:()=>Jl,AaK:()=>fe,qOj:()=>l_,TTD:()=>Xo,_Bn:()=>eC,xp6:()=>xt,uIk:()=>c_,ekj:()=>R_,Suo:()=>Sw,Xpm:()=>bn,lG2:()=>Kl,Yz7:()=>Qt,cJS:()=>ln,oAB:()=>Hr,Yjl:()=>Ja,Y36:()=>Qf,_UZ:()=>b_,qZA:()=>T_,TgZ:()=>C_,EpF:()=>Sm,n5z:()=>uu,LFG:()=>Q,$8M:()=>Ci,$Z:()=>Cm,NdJ:()=>S_,CRH:()=>hC,oxw:()=>cS,ALo:()=>vw,lcZ:()=>hh,xi3:()=>_w,Dn7:()=>vp,Q6J:()=>Tm,DdM:()=>Qm,VKq:()=>fw,WLB:()=>pw,kEZ:()=>dh,l5B:()=>Jm,qbA:()=>Xm,HTZ:()=>ey,Hh0:()=>pp,rFY:()=>gw,iGM:()=>dC,MAs:()=>$E,CHM:()=>sd,oJD:()=>jg,LSH:()=>vf,Udp:()=>O_,YNc:()=>HE,W1O:()=>xw,_uU:()=>Iu,Oqu:()=>_D,hij:()=>P_});var a=N(7579),re=N(727),P=N(9751),ue=N(6451),ae=N(3099);function me(s){for(let o in s)if(s[o]===me)return o;throw Error("Could not find renamed property on target object.")}function ce(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function de(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=me({__forward_ref__:me});function z(s){return s.__forward_ref__=z,s.toString=function(){return fe(this())},s}function X(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===z}class Fe extends Error{constructor(o,u){super(function nt(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function ee(s){return"string"==typeof s?s:null==s?"":String(s)}function ie(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ee(s)}function Ne(s,o){const u=o?` in ${o}`:"";throw new Fe(-201,`No provider for ${ie(s)} found${u}`)}function Le(s,o){null==s&&function Je(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function Qt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ln(s){return{providers:s.providers||[],imports:s.imports||[]}}function $t(s){return cs(s,Yi)||cs(s,pi)}function cs(s,o){return s.hasOwnProperty(o)?s[o]:null}function jr(s){return s&&(s.hasOwnProperty(zs)||s.hasOwnProperty(Qi))?s[zs]:null}const Yi=me({\u0275prov:me}),zs=me({\u0275inj:me}),pi=me({ngInjectableDef:me}),Qi=me({ngInjectorDef:me});var Et=(()=>((Et=Et||{})[Et.Default=0]="Default",Et[Et.Host=1]="Host",Et[Et.Self=2]="Self",Et[Et.SkipSelf=4]="SkipSelf",Et[Et.Optional=8]="Optional",Et))();let Jr;function qn(s){const o=Jr;return Jr=s,o}function _o(s,o,u){const c=$t(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&Et.Optional?null:void 0!==o?o:void Ne(fe(s),"Injector")}function it(s){return{toString:s}.toString()}var Bt=(()=>((Bt=Bt||{})[Bt.OnPush=0]="OnPush",Bt[Bt.Default=1]="Default",Bt))(),jt=(()=>{return(s=jt||(jt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",jt;var s})();const st="undefined"!=typeof globalThis&&globalThis,mt="undefined"!=typeof window&&window,sn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=st||"undefined"!=typeof global&&global||mt||sn,gi={},j=[],K=me({\u0275cmp:me}),Y=me({\u0275dir:me}),Te=me({\u0275pipe:me}),oe=me({\u0275mod:me}),Ye=me({\u0275fac:me}),Dt=me({__NG_ELEMENT_ID__:me});let gn=0;function bn(s){return it(()=>{const u={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Bt.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||j,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||jt.Emulated,id:"c",styles:s.styles||j,_:null,setInput:null,schemas:s.schemas||null,tView:null},h=s.directives,g=s.features,_=s.pipes;return c.id+=gn++,c.inputs=Qa(s.inputs,u),c.outputs=Qa(s.outputs),g&&g.forEach(E=>E(c)),c.directiveDefs=h?()=>("function"==typeof h?h():h).map(ei):null,c.pipeDefs=_?()=>("function"==typeof _?_():_).map(Vt):null,c})}function ei(s){return ar(s)||function $r(s){return s[Y]||null}(s)}function Vt(s){return function hs(s){return s[Te]||null}(s)}const or={};function Hr(s){return it(()=>{const o={type:s.type,bootstrap:s.bootstrap||j,declarations:s.declarations||j,imports:s.imports||j,exports:s.exports||j,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(or[s.id]=s.type),o})}function Qa(s,o){if(null==s)return gi;const u={};for(const c in s)if(s.hasOwnProperty(c)){let h=s[c],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),u[h]=c,o&&(o[h]=g)}return u}const Kl=bn;function Ja(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function ar(s){return s[K]||null}function lr(s,o){const u=s[oe]||null;if(!u&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return u}function mi(s){return Array.isArray(s)&&"object"==typeof s[1]}function ri(s){return Array.isArray(s)&&!0===s[1]}function Qc(s){return 0!=(8&s.flags)}function Yl(s){return 2==(2&s.flags)}function Ws(s){return 1==(1&s.flags)}function yi(s){return null!==s.template}function el(s){return 0!=(512&s[2])}function vi(s,o){return s.hasOwnProperty(Ye)?s[Ye]:null}class bo{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Xo(){return ea}function ea(s){return s.type.prototype.ngOnChanges&&(s.setInput=Eg),zu}function zu(){const s=td(this),o=null==s?void 0:s.current;if(o){const u=s.previous;if(u===gi)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function Eg(s,o,u,c){const h=td(s)||function ys(s,o){return s[Vi]=o}(s,{previous:gi,current:null}),g=h.current||(h.current={}),_=h.previous,E=this.declaredInputs[u],C=_[E];g[E]=new bo(C&&C.currentValue,o,_===gi),s[c]=o}Xo.ngInherit=!0;const Vi="__ngSimpleChanges__";function td(s){return s[Vi]||null}let rd;function Jl(s){rd=s}function ta(){return void 0!==rd?rd:"undefined"!=typeof document?document:void 0}function Mn(s){return!!s.listen}const Ys={createRenderer:(s,o)=>ta()};function Sn(s){for(;Array.isArray(s);)s=s[0];return s}function wi(s,o){return Sn(o[s])}function Rr(s,o){return Sn(o[s.index])}function ra(s,o){return s.data[o]}function Ui(s,o){return s[o]}function Tr(s,o){const u=o[s];return mi(u)?u:u[0]}function Wn(s){return 4==(4&s[2])}function ia(s){return 128==(128&s[2])}function Ei(s,o){return null==o?null:s[o]}function vs(s){s[18]=0}function il(s,o){s[5]+=o;let u=s,c=s[3];for(;null!==c&&(1===o&&1===u[5]||-1===o&&0===u[5]);)c[5]+=o,u=c,c=c[3]}const vt={lFrame:su(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function la(){return vt.bindingsEnabled}function Ae(){return vt.lFrame.lView}function Ut(){return vt.lFrame.tView}function sd(s){return vt.lFrame.contextLView=s,s[8]}function _n(){let s=ol();for(;null!==s&&64===s.type;)s=s.parent;return s}function ol(){return vt.lFrame.currentTNode}function si(s,o){const u=vt.lFrame;u.currentTNode=s,u.isParent=o}function _s(){return vt.lFrame.isParent}function nu(){return vt.isInCheckNoChangesMode}function ua(s){vt.isInCheckNoChangesMode=s}function br(){const s=vt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function ws(){return vt.lFrame.bindingIndex++}function Kh(s,o){const u=vt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Wu(o)}function Wu(s){vt.lFrame.currentDirectiveIndex=s}function Gu(){return vt.lFrame.currentQueryIndex}function Ao(s){vt.lFrame.currentQueryIndex=s}function ad(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function ll(s,o,u){if(u&Et.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||u&Et.Host||(h=ad(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const c=vt.lFrame=Yh();return c.currentTNode=o,c.lView=s,!0}function iu(s){const o=Yh(),u=s[1];vt.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Yh(){const s=vt.lFrame,o=null===s?null:s.child;return null===o?su(s):o}function su(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ul(){const s=vt.lFrame;return vt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ku=ul;function Es(){const s=ul();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function pr(){return vt.lFrame.selectedIndex}function gr(s){vt.lFrame.selectedIndex=s}function Rn(){const s=vt.lFrame;return ra(s.tView,s.selectedIndex)}function ud(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const g=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:C,ngAfterViewChecked:I,ngOnDestroy:x}=g;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),E&&((s.contentHooks||(s.contentHooks=[])).push(u,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,E)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),I&&((s.viewHooks||(s.viewHooks=[])).push(u,I),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,I)),null!=x&&(s.destroyHooks||(s.destroyHooks=[])).push(u,x)}}function cl(s,o,u){Qu(s,o,3,u)}function da(s,o,u,c){(3&s[2])===u&&Qu(s,o,u,c)}function Xs(s,o){let u=s[2];(3&u)===o&&(u&=2047,u+=1,s[2]=u)}function Qu(s,o,u,c){const g=null!=c?c:-1,_=o.length-1;let E=0;for(let C=void 0!==c?65535&s[18]:0;C<_;C++)if("number"==typeof o[C+1]){if(E=o[C],null!=c&&E>=c)break}else o[C]<0&&(s[18]+=65536),(E<g||-1==g)&&(Tg(s,u,o,C),s[18]=(4294901760&s[18])+C+2),C++}function Tg(s,o,u,c){const h=u[c]<0,g=u[c+1],E=s[h?-u[c]:u[c]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class Gn{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Ju(s,o,u){const c=Mn(s);let h=0;for(;h<u.length;){const g=u[h];if("number"==typeof g){if(0!==g)break;h++;const _=u[h++],E=u[h++],C=u[h++];c?s.setAttribute(o,E,C,_):o.setAttributeNS(_,E,C)}else{const _=g,E=u[++h];wn(_)?c&&s.setProperty(o,_,E):c?s.setAttribute(o,_,E):o.setAttribute(_,E),h++}}return h}function xn(s){return 3===s||4===s||6===s}function wn(s){return 64===s.charCodeAt(0)}function Kn(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const h=o[c];"number"==typeof h?u=h:0===u||nn(s,u,h,null,-1===u||2===u?o[++c]:null)}}return s}function nn(s,o,u,c,h){let g=0,_=s.length;if(-1===o)_=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===u){if(null===c)return void(null!==h&&(s[g+1]=h));if(c===s[g+1])return void(s[g+2]=h)}g++,null!==c&&g++,null!==h&&g++}-1!==_&&(s.splice(_,0,o),g=_+1),s.splice(g++,0,u),null!==c&&s.splice(g++,0,c),null!==h&&s.splice(g++,0,h)}function _t(s){return-1!==s}function Cs(s){return 32767&s}function pa(s,o){let u=function fa(s){return s>>16}(s),c=o;for(;u>0;)c=c[15],u--;return c}let Nn=!0;function Pn(s){const o=Nn;return Nn=s,o}let Xi=0;function Nr(s,o){const u=Ts(s,o);if(-1!==u)return u;const c=o[1];c.firstCreatePass&&(s.injectorIndex=o.length,ur(c.data,s),ur(o,null),ur(c.blueprint,null));const h=Mo(s,o),g=s.injectorIndex;if(_t(h)){const _=Cs(h),E=pa(h,o),C=E[1].data;for(let I=0;I<8;I++)o[g+I]=E[_+I]|C[_+I]}return o[g+8]=h,g}function ur(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Ts(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Mo(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,h=o;for(;null!==h;){const g=h[1],_=g.type;if(c=2===_?g.declTNode:1===_?h[6]:null,null===c)return-1;if(u++,h=h[15],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return-1}function ji(s,o,u){!function nf(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Dt)&&(c=u[Dt]),null==c&&(c=u[Dt]=Xi++);const h=255&c;o.data[s+(h>>5)]|=1<<h}(s,o,u)}function es(s,o,u){if(u&Et.Optional)return s;Ne(o,"NodeInjector")}function Zr(s,o,u,c){if(u&Et.Optional&&void 0===c&&(c=null),0==(u&(Et.Self|Et.Host))){const h=s[9],g=qn(void 0);try{return h?h.get(o,c,u&Et.Optional):_o(o,c,u&Et.Optional)}finally{qn(g)}}return es(c,o,u)}function Qe(s,o,u,c=Et.Default,h){if(null!==s){const g=function au(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Dt)?s[Dt]:void 0;return"number"==typeof o?o>=0?255&o:ou:o}(u);if("function"==typeof g){if(!ll(o,s,c))return c&Et.Host?es(h,u,c):Zr(o,u,c,h);try{const _=g(c);if(null!=_||c&Et.Optional)return _;Ne(u)}finally{Ku()}}else if("number"==typeof g){let _=null,E=Ts(s,o),C=-1,I=c&Et.Host?o[16][6]:null;for((-1===E||c&Et.SkipSelf)&&(C=-1===E?Mo(s,o):o[E+8],-1!==C&&xo(c,!1)?(_=o[1],E=Cs(C),o=pa(C,o)):E=-1);-1!==E;){const x=o[1];if(lu(g,E,x.data)){const L=fl(E,o,u,_,c,I);if(L!==hl)return L}C=o[E+8],-1!==C&&xo(c,o[1].data[E+8]===I)&&lu(g,E,o)?(_=x,E=Cs(C),o=pa(C,o)):E=-1}}}return Zr(o,u,c,h)}const hl={};function ou(){return new eo(_n(),Ae())}function fl(s,o,u,c,h,g){const _=o[1],E=_.data[s+8],x=ga(E,_,u,null==c?Yl(E)&&Nn:c!=_&&0!=(3&E.type),h&Et.Host&&g===E);return null!==x?tr(o,_,x,E):hl}function ga(s,o,u,c,h){const g=s.providerIndexes,_=o.data,E=1048575&g,C=s.directiveStart,x=g>>20,q=h?E+x:s.directiveEnd;for(let ne=c?E:E+x;ne<q;ne++){const _e=_[ne];if(ne<C&&u===_e||ne>=C&&_e.type===u)return ne}if(h){const ne=_[C];if(ne&&yi(ne)&&ne.type===u)return C}return null}function tr(s,o,u,c){let h=s[u];const g=o.data;if(function Xh(s){return s instanceof Gn}(h)){const _=h;_.resolving&&function we(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${s}${u}`)}(ie(g[u]));const E=Pn(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?qn(_.injectImpl):null;ll(s,c,Et.Default);try{h=s[u]=_.factory(void 0,g,s,c),o.firstCreatePass&&u>=c.directiveStart&&function F0(s,o,u){const{ngOnChanges:c,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(c){const _=ea(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}h&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,h),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,g))}(u,g[u],o)}finally{null!==C&&qn(C),Pn(E),_.resolving=!1,Ku()}}return h}function lu(s,o,u){return!!(u[o+(s>>5)]&1<<s)}function xo(s,o){return!(s&Et.Self||s&Et.Host&&o)}class eo{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return Qe(this._tNode,this._lView,o,c,u)}}function uu(s){return it(()=>{const o=s.prototype.constructor,u=o[Ye]||to(o),c=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==c;){const g=h[Ye]||to(h);if(g&&g!==u)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function to(s){return je(s)?()=>{const o=to(X(s));return o&&o()}:vi(s)}function Ci(s){return function Di(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let h=0;for(;h<c;){const g=u[h];if(xn(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<c&&"string"==typeof u[h];)h++;else{if(g===o)return u[h+1];h+=2}}}return null}(_n(),s)}const ko="__parameters__";function oi(s,o,u){return it(()=>{const c=function pl(s){return function(...u){if(s){const c=s(...u);for(const h in c)this[h]=c[h]}}}(o);function h(...g){if(this instanceof h)return c.apply(this,g),this;const _=new h(...g);return E.annotation=_,E;function E(C,I,x){const L=C.hasOwnProperty(ko)?C[ko]:Object.defineProperty(C,ko,{value:[]})[ko];for(;L.length<=x;)L.push(null);return(L[x]=L[x]||[]).push(_),C}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class Ln{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Qt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ec=new Ln("AnalyzeForEntryComponents");function Wr(s,o){void 0===o&&(o=s);for(let u=0;u<s.length;u++){let c=s[u];Array.isArray(c)?(o===s&&(o=s.slice(0,u)),Wr(c,o)):o!==s&&o.push(c)}return o}function As(s,o){s.forEach(u=>Array.isArray(u)?As(u,o):o(u))}function du(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Oo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Gr(s,o,u){let c=ns(s,o);return c>=0?s[1|c]=u:(c=~c,function ma(s,o,u,c){let h=s.length;if(h==o)s.push(u,c);else if(1===h)s.push(c,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function No(s,o){const u=ns(s,o);if(u>=0)return s[1|u]}function ns(s,o){return function Qn(s,o,u){let c=0,h=s.length>>u;for(;h!==c;){const g=c+(h-c>>1),_=s[g<<u];if(o===_)return g<<u;_>o?h=g:c=g+1}return~(h<<u)}(s,o,1)}const Jt={},Hi="__NG_DI_FLAG__",Pr="ngTempTokenPath",va=/\n/gm,_d="__source",T=me({provide:String,useValue:me});let S;function k(s){const o=S;return S=s,o}function U(s,o=Et.Default){if(void 0===S)throw new Error("inject() must be called from an injection context");return null===S?_o(s,void 0,o):S.get(s,o&Et.Optional?null:void 0,o)}function Q(s,o=Et.Default){return(function sr(){return Jr}()||U)(X(s),o)}function Xe(s){const o=[];for(let u=0;u<s.length;u++){const c=X(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let h,g=Et.Default;for(let _=0;_<c.length;_++){const E=c[_],C=zt(E);"number"==typeof C?-1===C?h=E.token:g|=C:h=E}o.push(Q(h,g))}else o.push(Q(c))}return o}function Ke(s,o){return s[Hi]=o,s.prototype[Hi]=o,s}function zt(s){return s[Hi]}const nr=Ke(oi("Inject",s=>({token:s})),-1),mn=Ke(oi("Optional"),8),is=Ke(oi("SkipSelf"),4);let oc,ac;function Ta(s){var o;return(null===(o=function Ed(){if(void 0===oc&&(oc=null,Gt.trustedTypes))try{oc=Gt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return oc}())||void 0===o?void 0:o.createHTML(s))||s}function so(s){var o;return(null===(o=function lc(){if(void 0===ac&&(ac=null,Gt.trustedTypes))try{ac=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ac}())||void 0===o?void 0:o.createHTML(s))||s}class tv{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Dl(s){return s instanceof tv?s.changingThisBreaksApplicationSecurity:s}function fu(s,o){const u=function V0(s){return s instanceof tv&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===o}class ai{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(Ta(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class ba{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const c=this.inertDocument.createElement("body");u.appendChild(c)}}getInertBodyElement(o){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ta(o),u;const c=this.inertDocument.createElement("body");return c.innerHTML=Ta(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(o){const u=o.attributes;for(let h=u.length-1;0<h;h--){const _=u.item(h).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&o.removeAttribute(_)}let c=o.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const Fg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,iv=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ks(s){return(s=String(s)).match(Fg)||s.match(iv)?s:"unsafe:"+s}function oo(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function Sa(...s){const o={};for(const u of s)for(const c in u)u.hasOwnProperty(c)&&(o[c]=!0);return o}const ff=oo("area,br,col,hr,img,wbr"),Cl=oo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),pf=oo("rp,rt"),Ia=Sa(ff,Sa(Cl,oo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Sa(pf,oo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Sa(pf,Cl)),dc=oo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Cd=oo("srcset"),Ug=Sa(dc,Cd,oo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),oo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ov=oo("script,style,template");class Bg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,c=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?c=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,c&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let h=this.checkClobberedElement(u,u.nextSibling);if(h){u=h;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!Ia.hasOwnProperty(u))return this.sanitizedSomething=!0,!ov.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const c=o.attributes;for(let h=0;h<c.length;h++){const g=c.item(h),_=g.name,E=_.toLowerCase();if(!Ug.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let C=g.value;dc[E]&&(C=ks(C)),Cd[E]&&(s=C,C=(s=String(s)).split(",").map(o=>ks(o.trim())).join(", ")),this.buf.push(" ",_,'="',Tl(C),'"')}var s;return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();Ia.hasOwnProperty(u)&&!ff.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Tl(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const gf=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,av=/([^\#-~ |!])/g;function Tl(s){return s.replace(/&/g,"&amp;").replace(gf,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(av,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pu;function yf(s){return"content"in s&&function lv(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function jg(s){const o=hc();return o?so(o.sanitize(jn.HTML,s)||""):fu(s,"HTML")?so(Dl(s)):function mf(s,o){let u=null;try{pu=pu||function Dd(s){const o=new ba(s);return function rv(){try{return!!(new window.DOMParser).parseFromString(Ta(""),"text/html")}catch(s){return!1}}()?new ai(o):o}(s);let c=o?String(o):"";u=pu.getInertBodyElement(c);let h=5,g=c;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,c=g,g=u.innerHTML,u=pu.getInertBodyElement(c)}while(c!==g);return Ta((new Bg).sanitizeChildren(yf(u)||u))}finally{if(u){const c=yf(u)||u;for(;c.firstChild;)c.removeChild(c.firstChild)}}}(ta(),ee(s))}function vf(s){const o=hc();return o?o.sanitize(jn.URL,s)||"":fu(s,"URL")?Dl(s):ks(ee(s))}function hc(){const s=Ae();return s&&s[12]}const Cf="__ngContext__";function Sr(s,o){s[Cf]=o}function Td(s){const o=function Ma(s){return s[Cf]||null}(s);return o?Array.isArray(o)?o:o.lView:null}function Id(s){return s.ngOriginalError}function vv(s,...o){s.error(...o)}class pc{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o),c=function yv(s){return s&&s.ngErrorLogger||vv}(o);c(this._console,"ERROR",o),u&&c(this._console,"ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Id(o);for(;u&&Id(u);)u=Id(u);return u||null}}const Ad=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function v(s){return s instanceof Function?s():s}var O=(()=>((O=O||{})[O.Important=1]="Important",O[O.DashCase=2]="DashCase",O))();function ve(s,o){return undefined(s,o)}function Ct(s){const o=s[3];return ri(o)?o[3]:o}function zi(s){return Mf(s[13])}function mu(s){return Mf(s[4])}function Mf(s){for(;null!==s&&!ri(s);)s=s[4];return s}function qi(s,o,u,c,h){if(null!=c){let g,_=!1;ri(c)?g=c:mi(c)&&(_=!0,c=c[0]);const E=Sn(c);0===s&&null!==u?null==h?Z0(o,u,E):vc(o,u,E,h||null,!0):1===s&&null!==u?vc(o,u,E,h||null,!0):2===s?function Y0(s,o,u){const c=Xg(s,o);c&&function nb(s,o,u,c){Mn(s)?s.removeChild(o,u,c):o.removeChild(u)}(s,c,o,u)}(o,E,_):3===s&&o.destroyNode(E),null!=g&&function rk(s,o,u,c,h){const g=u[7];g!==Sn(u)&&qi(o,s,c,g,h);for(let E=10;E<u.length;E++){const C=u[E];yu(C[1],C,s,o,c,g)}}(o,s,g,u,h)}}function mc(s,o,u){return Mn(s)?s.createElement(o,u):null===u?s.createElement(o):s.createElementNS(u,o)}function Cv(s,o){const u=s[9],c=u.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,il(h,-1)),u.splice(c,1)}function Qg(s,o){if(s.length<=10)return;const u=10+o,c=s[u];if(c){const h=c[17];null!==h&&h!==s&&Cv(h,c),o>0&&(s[u-1][4]=c[4]);const g=Oo(s,10+o);!function yc(s,o){yu(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const _=g[19];null!==_&&_.detachView(g[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function H0(s,o){if(!(256&o[2])){const u=o[11];Mn(u)&&u.destroyNode&&yu(s,o,u,3,null,null),function xf(s){let o=s[13];if(!o)return Tv(s[1],s);for(;o;){let u=null;if(mi(o))u=o[13];else{const c=o[10];c&&(u=c)}if(!u){for(;o&&!o[4]&&o!==s;)mi(o)&&Tv(o[1],o),o=o[3];null===o&&(o=s),mi(o)&&Tv(o[1],o),u=o&&o[4]}o=u}}(o)}}function Tv(s,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function z0(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const h=o[u[c]];if(!(h instanceof Gn)){const g=u[c+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const E=h[g[_]],C=g[_+1];try{C.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function $0(s,o){const u=s.cleanup,c=o[7];let h=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const _=u[g+1],E="function"==typeof _?_(o):Sn(o[_]),C=c[h=u[g+2]],I=u[g+3];"boolean"==typeof I?E.removeEventListener(u[g],C,I):I>=0?c[h=I]():c[h=-I].unsubscribe(),g+=2}else{const _=c[h=u[g+1]];u[g].call(_)}if(null!==c){for(let g=h+1;g<c.length;g++)c[g]();o[7]=null}}(s,o),1===o[1].type&&Mn(o[11])&&o[11].destroy();const u=o[17];if(null!==u&&ri(o[3])){u!==o[3]&&Cv(u,o);const c=o[19];null!==c&&c.detachView(s)}}}function Jg(s,o,u){return function q0(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[0];if(2&c.flags){const h=s.data[c.directiveStart].encapsulation;if(h===jt.None||h===jt.Emulated)return null}return Rr(c,u)}(s,o.parent,u)}function vc(s,o,u,c,h){Mn(s)?s.insertBefore(o,u,c,h):o.insertBefore(u,c,h)}function Z0(s,o,u){Mn(s)?s.appendChild(o,u):o.appendChild(u)}function W0(s,o,u,c,h){null!==c?vc(s,o,u,c,h):Z0(s,o,u)}function Xg(s,o){return Mn(s)?s.parentNode(o):o.parentNode}let G0=function uo(s,o,u){return 40&s.type?Rr(s,u):null};function xd(s,o,u,c){const h=Jg(s,c,o),g=o[11],E=function Sv(s,o,u){return G0(s,o,u)}(c.parent||o[6],c,o);if(null!=h)if(Array.isArray(u))for(let C=0;C<u.length;C++)W0(g,h,u[C],E,!1);else W0(g,h,u,E,!1)}function co(s,o){if(null!==o){const u=o.type;if(3&u)return Rr(o,s);if(4&u)return Av(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return co(s,c);{const h=s[o.index];return ri(h)?Av(-1,h):Sn(h)}}if(32&u)return ve(o,s)()||Sn(s[o.index]);{const c=K0(s,o);return null!==c?Array.isArray(c)?c[0]:co(Ct(s[16]),c):co(s,o.next)}}return null}function K0(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Av(s,o){const u=10+s+1;if(u<o.length){const c=o[u],h=c[1].firstChild;if(null!==h)return co(c,h)}return o[7]}function Mv(s,o,u,c,h,g,_){for(;null!=u;){const E=c[u.index],C=u.type;if(_&&0===o&&(E&&Sr(Sn(E),c),u.flags|=4),64!=(64&u.flags))if(8&C)Mv(s,o,u.child,c,h,g,!1),qi(o,s,h,E,g);else if(32&C){const I=ve(u,c);let x;for(;x=I();)qi(o,s,h,x,g);qi(o,s,h,E,g)}else 16&C?Of(s,o,c,u,h,g):qi(o,s,h,E,g);u=_?u.projectionNext:u.next}}function yu(s,o,u,c,h,g){Mv(u,c,s.firstChild,o,h,g,!1)}function Of(s,o,u,c,h,g){const _=u[16],C=_[6].projection[c.projection];if(Array.isArray(C))for(let I=0;I<C.length;I++)qi(o,s,h,C[I],g);else Mv(s,o,C,_[3],h,g,!0)}function rb(s,o,u){Mn(s)?s.setAttribute(o,"style",u):o.style.cssText=u}function ho(s,o,u){Mn(s)?""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u):o.className=u}function kd(s,o,u){let c=s.length;for(;;){const h=s.indexOf(o,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===c||s.charCodeAt(h+g)<=32)return h}u=h+1}}const Q0="ng-template";function ib(s,o,u){let c=0;for(;c<s.length;){let h=s[c++];if(u&&"class"===h){if(h=s[c],-1!==kd(h.toLowerCase(),o,0))return!0}else if(1===h){for(;c<s.length&&"string"==typeof(h=s[c++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function J0(s){return 4===s.type&&s.value!==Q0}function sb(s,o,u){return o===(4!==s.type||u?s.value:Q0)}function X0(s,o,u){let c=4;const h=s.attrs||[],g=function lb(s){for(let o=0;o<s.length;o++)if(xn(s[o]))return o;return s.length}(h);let _=!1;for(let E=0;E<o.length;E++){const C=o[E];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!sb(s,C,u)||""===C&&1===o.length){if(Fo(c))return!1;_=!0}}else{const I=8&c?C:o[++E];if(8&c&&null!==s.attrs){if(!ib(s.attrs,I,u)){if(Fo(c))return!1;_=!0}continue}const L=ob(8&c?"class":C,h,J0(s),u);if(-1===L){if(Fo(c))return!1;_=!0;continue}if(""!==I){let q;q=L>g?"":h[L+1].toLowerCase();const ne=8&c?q:null;if(ne&&-1!==kd(ne,I,0)||2&c&&I!==q){if(Fo(c))return!1;_=!0}}}}else{if(!_&&!Fo(c)&&!Fo(C))return!1;if(_&&Fo(C))continue;_=!1,c=C|1&c}}return Fo(c)||_}function Fo(s){return 0==(1&s)}function ob(s,o,u,c){if(null===o)return-1;let h=0;if(c||!u){let g=!1;for(;h<o.length;){const _=o[h];if(_===s)return h;if(3===_||6===_)g=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=g?1:2}return-1}return function ub(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function eE(s,o,u=!1){for(let c=0;c<o.length;c++)if(X0(s,o[c],u))return!0;return!1}function tm(s,o){return s?":not("+o.trim()+")":o}function cb(s){let o=s[0],u=1,c=2,h="",g=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&c){const E=s[++u];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?h+="."+_:4&c&&(h+=" "+_);else""!==h&&!Fo(_)&&(o+=tm(g,h),h=""),c=_,g=g||!Fo(c);u++}return""!==h&&(o+=tm(g,h)),o}const ut={};function xt(s){an(Ut(),Ae(),pr()+s,nu())}function an(s,o,u,c){if(!c)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&cl(o,g,u)}else{const g=s.preOrderHooks;null!==g&&da(o,g,0,u)}gr(u)}function Od(s,o){return s<<17|o<<2}function Lo(s){return s>>17&32767}function kv(s){return 2|s}function Il(s){return(131068&s)>>2}function rm(s,o){return-131069&s|o<<2}function Ov(s){return 1|s}function uE(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const h=u[c],g=u[c+1];if(-1!==g){const _=s.data[g];Ao(h),_.contentQueries(2,o[g],g)}}}function Nf(s,o,u,c,h,g,_,E,C,I){const x=o.blueprint.slice();return x[0]=h,x[2]=140|c,vs(x),x[3]=x[15]=s,x[8]=u,x[10]=_||s&&s[10],x[11]=E||s&&s[11],x[12]=C||s&&s[12]||null,x[9]=I||s&&s[9]||null,x[6]=g,x[16]=2==o.type?s[16]:x,x}function Nd(s,o,u,c,h){let g=s.data[o];if(null===g)g=function jv(s,o,u,c,h){const g=ol(),_=_s(),C=s.data[o]=function Vd(s,o,u,c,h,g){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,u,o,c,h);return null===s.firstChild&&(s.firstChild=C),null!==g&&(_?null==g.child&&null!==C.parent&&(g.child=C):null===g.next&&(g.next=C)),C}(s,o,u,c,h),function od(){return vt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=c,g.attrs=h;const _=function Js(){const s=vt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===_?-1:_.injectorIndex}return si(g,!0),g}function Pd(s,o,u,c){if(0===u)return-1;const h=o.length;for(let g=0;g<u;g++)o.push(c),s.blueprint.push(c),s.data.push(null);return h}function Pf(s,o,u){iu(o);try{const c=s.viewQuery;null!==c&&Jv(1,c,u);const h=s.template;null!==h&&cE(s,o,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&uE(s,o),s.staticViewQueries&&Jv(2,s.viewQuery,u);const g=s.components;null!==g&&function Db(s,o){for(let u=0;u<o.length;u++)DE(s,o[u])}(o,g)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[2]&=-5,Es()}}function Fd(s,o,u,c){const h=o[2];if(256==(256&h))return;iu(o);const g=nu();try{vs(o),function ru(s){return vt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&cE(s,o,u,2,c);const _=3==(3&h);if(!g)if(_){const I=s.preOrderCheckHooks;null!==I&&cl(o,I,null)}else{const I=s.preOrderHooks;null!==I&&da(o,I,0,null),Xs(o,0)}if(function Na(s){for(let o=zi(s);null!==o;o=mu(o)){if(!o[2])continue;const u=o[9];for(let c=0;c<u.length;c++){const h=u[c],g=h[3];0==(1024&h[2])&&il(g,1),h[2]|=1024}}}(o),function Rb(s){for(let o=zi(s);null!==o;o=mu(o))for(let u=10;u<o.length;u++){const c=o[u],h=c[1];ia(c)&&Fd(h,c,h.template,c[8])}}(o),null!==s.contentQueries&&uE(s,o),!g)if(_){const I=s.contentCheckHooks;null!==I&&cl(o,I)}else{const I=s.contentHooks;null!==I&&da(o,I,1),Xs(o,1)}!function Eb(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const h=u[c];if(h<0)gr(~h);else{const g=h,_=u[++c],E=u[++c];Kh(_,g),E(2,o[g])}}}finally{gr(-1)}}(s,o);const E=s.components;null!==E&&function am(s,o){for(let u=0;u<o.length;u++)EE(s,o[u])}(o,E);const C=s.viewQuery;if(null!==C&&Jv(2,C,c),!g)if(_){const I=s.viewCheckHooks;null!==I&&cl(o,I)}else{const I=s.viewHooks;null!==I&&da(o,I,2),Xs(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),g||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,il(o[3],-1))}finally{Es()}}function Cb(s,o,u,c){const h=o[10],g=!nu(),_=Wn(o);try{g&&!_&&h.begin&&h.begin(),_&&Pf(s,o,c),Fd(s,o,u,c)}finally{g&&!_&&h.end&&h.end()}}function cE(s,o,u,c,h){const g=pr(),_=2&c;try{gr(-1),_&&o.length>20&&an(s,o,20,nu()),u(c,h)}finally{gr(g)}}function Hv(s,o,u){!la()||(function Mb(s,o,u,c){const h=u.directiveStart,g=u.directiveEnd;s.firstCreatePass||Nr(u,o),Sr(c,o);const _=u.initialInputs;for(let E=h;E<g;E++){const C=s.data[E],I=yi(C);I&&Wt(o,u,C);const x=tr(o,s,E,u);Sr(x,o),null!==_&&_E(0,E-h,x,C,0,_),I&&(Tr(u.index,o)[8]=x)}}(s,o,u,Rr(u,o)),128==(128&u.flags)&&function xb(s,o,u){const c=u.directiveStart,h=u.directiveEnd,_=u.index,E=function al(){return vt.lFrame.currentDirectiveIndex}();try{gr(_);for(let C=c;C<h;C++){const I=s.data[C],x=o[C];Wu(C),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Wv(I,x)}}finally{gr(-1),Wu(E)}}(s,o,u))}function $v(s,o,u=Rr){const c=o.localNames;if(null!==c){let h=o.index+1;for(let g=0;g<c.length;g+=2){const _=c[g+1],E=-1===_?u(o,s):s[_];s[h++]=E}}}function Ff(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Lf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Lf(s,o,u,c,h,g,_,E,C,I){const x=20+c,L=x+h,q=function hE(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:ut);return u}(x,L),ne="function"==typeof I?I():I;return q[1]={type:s,blueprint:q,template:u,queries:null,viewQuery:E,declTNode:o,data:q.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:L,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:ne,incompleteFirstPass:!1}}function Oa(s,o,u,c){const h=Vf(o);null===u?h.push(c):(h.push(u),s.firstCreatePass&&Du(s).push(c,h.length-1))}function qv(s,o,u){for(let c in s)if(s.hasOwnProperty(c)){const h=s[c];(u=null===u?{}:u).hasOwnProperty(c)?u[c].push(o,h):u[c]=[o,h]}return u}function Zv(s,o,u,c){let h=!1;if(la()){const g=function mE(s,o,u){const c=s.directiveRegistry;let h=null;if(c)for(let g=0;g<c.length;g++){const _=c[g];eE(u,_.selectors,!1)&&(h||(h=[]),ji(Nr(u,o),s,_.type),yi(_)?(yE(s,u),h.unshift(_)):h.push(_))}return h}(s,o,u),_=null===c?null:{"":-1};if(null!==g){h=!0,vE(u,s.data.length,g.length);for(let x=0;x<g.length;x++){const L=g[x];L.providersResolver&&L.providersResolver(L)}let E=!1,C=!1,I=Pd(s,o,g.length,null);for(let x=0;x<g.length;x++){const L=g[x];u.mergedAttrs=Kn(u.mergedAttrs,L.hostAttrs),Gv(s,u,o,I,L),Ob(I,L,_),null!==L.contentQueries&&(u.flags|=8),(null!==L.hostBindings||null!==L.hostAttrs||0!==L.hostVars)&&(u.flags|=128);const q=L.type.prototype;!E&&(q.ngOnChanges||q.ngOnInit||q.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),E=!0),!C&&(q.ngOnChanges||q.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),C=!0),I++}!function Tb(s,o){const c=o.directiveEnd,h=s.data,g=o.attrs,_=[];let E=null,C=null;for(let I=o.directiveStart;I<c;I++){const x=h[I],L=x.inputs,q=null===g||J0(o)?null:Kv(L,g);_.push(q),E=qv(L,I,E),C=qv(x.outputs,I,C)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=E,o.outputs=C}(s,u)}_&&function kb(s,o,u){if(o){const c=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=u[o[h+1]];if(null==g)throw new Fe(-301,`Export of name '${o[h+1]}' not found!`);c.push(o[h],g)}}}(u,c,_)}return u.mergedAttrs=Kn(u.mergedAttrs,u.attrs),h}function gE(s,o,u,c,h,g){const _=g.hostBindings;if(_){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const C=~o.index;(function Ab(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(E)!=C&&E.push(C),E.push(c,h,_)}}function Wv(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function yE(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function Ob(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;yi(o)&&(u[""]=s)}}function vE(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}function Gv(s,o,u,c,h){s.data[c]=h;const g=h.factory||(h.factory=vi(h.type)),_=new Gn(g,yi(h),null);s.blueprint[c]=_,u[c]=_,gE(s,o,0,c,Pd(s,u,h.hostVars,ut),h)}function Wt(s,o,u){const c=Rr(o,s),h=Ff(u),g=s[10],_=Ir(s,Nf(s,h,null,u.onPush?64:16,c,o,g,g.createRenderer(c,u),null,null));s[o.index]=_}function Ra(s,o,u,c,h,g){const _=Rr(s,o);!function Eu(s,o,u,c,h,g,_){if(null==g)Mn(s)?s.removeAttribute(o,h,u):o.removeAttribute(h);else{const E=null==_?ee(g):_(g,c||"",h);Mn(s)?s.setAttribute(o,h,E,u):u?o.setAttributeNS(u,h,E):o.setAttribute(h,E)}}(o[11],_,g,s.value,u,c,h)}function _E(s,o,u,c,h,g){const _=g[o];if(null!==_){const E=c.setInput;for(let C=0;C<_.length;){const I=_[C++],x=_[C++],L=_[C++];null!==E?c.setInput(u,L,I,x):u[x]=L}}}function Kv(s,o){let u=null,c=0;for(;c<o.length;){const h=o[c];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===u&&(u=[]),u.push(h,s[h],o[c+1])),c+=2}else c+=2;else c+=4}return u}function wE(s,o,u,c){return new Array(s,!0,!1,o,null,0,c,u,null,null)}function EE(s,o){const u=Tr(o,s);if(ia(u)){const c=u[1];80&u[2]?Fd(c,u,c.template,u[8]):u[5]>0&&lm(u)}}function lm(s){for(let c=zi(s);null!==c;c=mu(c))for(let h=10;h<c.length;h++){const g=c[h];if(1024&g[2]){const _=g[1];Fd(_,g,_.template,g[8])}else g[5]>0&&lm(g)}const u=s[1].components;if(null!==u)for(let c=0;c<u.length;c++){const h=Tr(u[c],s);ia(h)&&h[5]>0&&lm(h)}}function DE(s,o){const u=Tr(o,s),c=u[1];(function Ek(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),Pf(c,u,u[8])}function Ir(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function fo(s){for(;s;){s[2]|=64;const o=Ct(s);if(el(s)&&!o)return s;s=o}return null}function um(s,o,u){const c=o[10];c.begin&&c.begin();try{Fd(s,o,s.template,u)}catch(h){throw Bd(o,h),h}finally{c.end&&c.end()}}function Qv(s){!function Yv(s){for(let o=0;o<s.components.length;o++){const u=s.components[o],c=Td(u),h=c[1];Cb(h,c,h.template,u)}}(s[8])}function Jv(s,o,u){Ao(0),o(s,u)}const TE=(()=>Promise.resolve(null))();function Vf(s){return s[7]||(s[7]=[])}function Du(s){return s.cleanup||(s.cleanup=[])}function Bd(s,o){const u=s[9],c=u?u.get(pc,null):null;c&&c.handleError(o)}function bE(s,o,u,c,h){for(let g=0;g<u.length;){const _=u[g++],E=u[g++],C=o[_],I=s.data[_];null!==I.setInput?I.setInput(C,h,c,E):C[E]=h}}function Zi(s,o,u){const c=wi(o,s);!function Sl(s,o,u){Mn(s)?s.setValue(o,u):o.textContent=u}(s[11],c,u)}function cm(s,o,u){let c=u?s.styles:null,h=u?s.classes:null,g=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?g=E:1==g?h=de(h,E):2==g&&(c=de(c,E+": "+o[++_]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=h:s.classesWithoutHost=h}const jd=new Ln("INJECTOR",-1);class Hd{get(o,u=Jt){if(u===Jt){const c=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw c.name="NullInjectorError",c}return u}}const dm=new Ln("Set Injector scope."),Cu={},Lb={};let Uf;function Bf(){return void 0===Uf&&(Uf=new Hd),Uf}function Xv(s,o=null,u=null,c){const h=e_(s,o,u,c);return h._resolveInjectorDefTypes(),h}function e_(s,o=null,u=null,c){return new Vb(s,u,o||Bf(),c)}class Vb{constructor(o,u,c,h=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&As(u,E=>this.processProvider(E,o,u)),As([o],E=>this.processInjectorType(E,[],g)),this.records.set(jd,$d(void 0,this));const _=this.records.get(dm);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:fe(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,u=Jt,c=Et.Default){this.assertNotDestroyed();const h=k(this),g=qn(void 0);try{if(!(c&Et.SkipSelf)){let E=this.records.get(o);if(void 0===E){const C=function zd(s){return"function"==typeof s||"object"==typeof s&&s instanceof Ln}(o)&&$t(o);E=C&&this.injectableDefInScope(C)?$d(t_(o),Cu):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(c&Et.Self?Bf():this.parent).get(o,u=c&Et.Optional&&u===Jt?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Pr]=_[Pr]||[]).unshift(fe(o)),h)throw _;return function Dn(s,o,u,c){const h=s[Pr];throw o[_d]&&h.unshift(o[_d]),s.message=function Fr(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let h=fe(o);if(Array.isArray(o))h=o.map(fe).join(" -> ");else if("object"==typeof o){let g=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];g.push(_+":"+("string"==typeof E?JSON.stringify(E):fe(E)))}h=`{${g.join(", ")}}`}return`${u}${c?"("+c+")":""}[${h}]: ${s.replace(va,"\n  ")}`}("\n"+s.message,h,u,c),s.ngTokenPath=h,s[Pr]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{qn(g),k(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((c,h)=>o.push(fe(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(o,u,c){if(!(o=X(o)))return!1;let h=jr(o);const g=null==h&&o.ngModule||void 0,_=void 0===g?o:g,E=-1!==c.indexOf(_);if(void 0!==g&&(h=jr(g)),null==h)return!1;if(null!=h.imports&&!E){let x;c.push(_);try{As(h.imports,L=>{this.processInjectorType(L,u,c)&&(void 0===x&&(x=[]),x.push(L))})}finally{}if(void 0!==x)for(let L=0;L<x.length;L++){const{ngModule:q,providers:ne}=x[L];As(ne,_e=>this.processProvider(_e,q,ne||j))}}this.injectorDefTypes.add(_);const C=vi(_)||(()=>new _);this.records.set(_,$d(C,Cu));const I=h.providers;if(null!=I&&!E){const x=o;As(I,L=>this.processProvider(L,x,I))}return void 0!==g&&void 0!==o.providers}processProvider(o,u,c){let h=wc(o=X(o))?o:X(o&&o.provide);const g=function hm(s,o,u){return ME(s)?$d(void 0,s.useValue):$d(AE(s),Cu)}(o);if(wc(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=$d(void 0,Cu,!0),_.factory=()=>Xe(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,g)}hydrate(o,u){return u.value===Cu&&(u.value=Lb,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Al(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=X(o.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function t_(s){const o=$t(s),u=null!==o?o.factory:vi(s);if(null!==u)return u;if(s instanceof Ln)throw new Error(`Token ${fe(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function Ub(s){const o=s.length;if(o>0){const c=function no(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?");throw new Error(`Can't resolve all parameters for ${fe(s)}: (${c.join(", ")}).`)}const u=function Dr(s){const o=s&&(s[Yi]||s[pi]);if(o){const u=function $s(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),o}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Error("unreachable")}function AE(s,o,u){let c;if(wc(s)){const h=X(s);return vi(h)||t_(h)}if(ME(s))c=()=>X(s.useValue);else if(function jb(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Xe(s.deps||[]));else if(function Bb(s){return!(!s||!s.useExisting)}(s))c=()=>Q(X(s.useExisting));else{const h=X(s&&(s.useClass||s.provide));if(!function r_(s){return!!s.deps}(s))return vi(h)||t_(h);c=()=>new h(...Xe(s.deps))}return c}function $d(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function ME(s){return null!==s&&"object"==typeof s&&T in s}function wc(s){return"function"==typeof s}let Rs=(()=>{class s{static create(u,c){var h;if(Array.isArray(u))return Xv({name:""},c,u,"");{const g=null!==(h=u.name)&&void 0!==h?h:"";return Xv({name:g},u.parent,u.providers,g)}}}return s.THROW_IF_NOT_FOUND=Jt,s.NULL=new Hd,s.\u0275prov=Qt({token:s,providedIn:"any",factory:()=>Q(jd)}),s.__NG_ELEMENT_ID__=-1,s})();function ym(s,o){ud(Td(s)[1],_n())}function l_(s){let o=function vm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let h;if(yi(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Error("Directives cannot inherit Components");h=o.\u0275dir}if(h){if(u){c.push(h);const _=s;_.inputs=_m(s.inputs),_.declaredInputs=_m(s.declaredInputs),_.outputs=_m(s.outputs);const E=h.hostBindings;E&&Zb(s,E);const C=h.viewQuery,I=h.contentQueries;if(C&&zb(s,C),I&&qb(s,I),ce(s.inputs,h.inputs),ce(s.declaredInputs,h.declaredInputs),ce(s.outputs,h.outputs),yi(h)&&h.data.animation){const x=s.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let _=0;_<g.length;_++){const E=g[_];E&&E.ngInherit&&E(s),E===l_&&(u=!1)}}o=Object.getPrototypeOf(o)}!function UE(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const h=s[c];h.hostVars=o+=h.hostVars,h.hostAttrs=Kn(h.hostAttrs,u=Kn(u,h.hostAttrs))}}(c)}function _m(s){return s===gi?{}:s===j?[]:s}function zb(s,o){const u=s.viewQuery;s.viewQuery=u?(c,h)=>{o(c,h),u(c,h)}:o}function qb(s,o){const u=s.contentQueries;s.contentQueries=u?(c,h,g)=>{o(c,h,g),u(c,h,g)}:o}function Zb(s,o){const u=s.hostBindings;s.hostBindings=u?(c,h)=>{o(c,h),u(c,h)}:o}let Pa=null;function Zd(){if(!Pa){const s=Gt.Symbol;if(s&&s.iterator)Pa=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<o.length;++u){const c=o[u];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(Pa=c)}}}return Pa}function $f(s){return!!Ec(s)&&(Array.isArray(s)||!(s instanceof Map)&&Zd()in s)}function Ec(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Fa(s,o,u){return s[o]=u}function Ml(s,o){return s[o]}function Lr(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Dc(s,o,u,c){const h=Lr(s,o,u);return Lr(s,o+1,c)||h}function qf(s,o,u,c,h){const g=Dc(s,o,u,c);return Lr(s,o+2,h)||g}function Ns(s,o,u,c,h,g){const _=Dc(s,o,u,c);return Dc(s,o+2,h,g)||_}function c_(s,o,u,c){const h=Ae();return Lr(h,ws(),o)&&(Ut(),Ra(Rn(),h,s,o,u,c)),c_}function HE(s,o,u,c,h,g,_,E){const C=Ae(),I=Ut(),x=s+20,L=I.firstCreatePass?function Yb(s,o,u,c,h,g,_,E,C){const I=o.consts,x=Nd(o,s,4,_||null,Ei(I,E));Zv(o,u,x,Ei(I,C)),ud(o,x);const L=x.tViews=Lf(2,x,c,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,I);return null!==o.queries&&(o.queries.template(o,x),L.queries=o.queries.embeddedTView(x)),x}(x,I,C,o,u,c,h,g,_):I.data[x];si(L,!1);const q=C[11].createComment("");xd(I,C,q,L),Sr(q,C),Ir(C,C[x]=wE(q,C,q,L)),Ws(L)&&Hv(I,C,L),null!=_&&$v(C,L,E)}function $E(s){return Ui(function Gh(){return vt.lFrame.contextLView}(),20+s)}function Qf(s,o=Et.Default){const u=Ae();return null===u?Q(s,o):Qe(_n(),u,X(s),o)}function Cm(){throw new Error("invalid")}function Tm(s,o,u){const c=Ae();return Lr(c,ws(),o)&&function Os(s,o,u,c,h,g,_,E){const C=Rr(o,u);let x,I=o.inputs;!E&&null!=I&&(x=I[c])?(bE(s,u,x,c,h),Yl(o)&&function _c(s,o){const u=Tr(o,s);16&u[2]||(u[2]|=64)}(u,o.index)):3&o.type&&(c=function fE(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),h=null!=_?_(h,o.value||"",c):h,Mn(g)?g.setProperty(C,c,h):wn(c)||(C.setProperty?C.setProperty(c,h):C[c]=h))}(Ut(),Rn(),c,s,o,c[11],u,!1),Tm}function D_(s,o,u,c,h){const _=h?"class":"style";bE(s,u,o.inputs[_],_,c)}function C_(s,o,u,c){const h=Ae(),g=Ut(),_=20+s,E=h[11],C=h[_]=mc(E,o,function Jh(){return vt.lFrame.currentNamespace}()),I=g.firstCreatePass?function aS(s,o,u,c,h,g,_){const E=o.consts,I=Nd(o,s,2,h,Ei(E,g));return Zv(o,u,I,Ei(E,_)),null!==I.attrs&&cm(I,I.attrs,!1),null!==I.mergedAttrs&&cm(I,I.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,I),I}(_,g,h,0,o,u,c):g.data[_];si(I,!0);const x=I.mergedAttrs;null!==x&&Ju(E,C,x);const L=I.classes;null!==L&&ho(E,C,L);const q=I.styles;null!==q&&rb(E,C,q),64!=(64&I.flags)&&xd(g,h,C,I),0===function oa(){return vt.lFrame.elementDepthCount}()&&Sr(C,h),function Qs(){vt.lFrame.elementDepthCount++}(),Ws(I)&&(Hv(g,h,I),function dE(s,o,u){if(Qc(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}}(g,I,h)),null!==c&&$v(h,I)}function T_(){let s=_n();_s()?function Zu(){vt.lFrame.isParent=!1}():(s=s.parent,si(s,!1));const o=s;!function aa(){vt.lFrame.elementDepthCount--}();const u=Ut();u.firstCreatePass&&(ud(u,s),Qc(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function dl(s){return 0!=(16&s.flags)}(o)&&D_(u,o,Ae(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function ef(s){return 0!=(32&s.flags)}(o)&&D_(u,o,Ae(),o.stylesWithoutHost,!1)}function b_(s,o,u,c){C_(s,o,u,c),T_()}function Sm(){return Ae()}function Uo(s){return!!s&&"function"==typeof s.then}function bc(s){return!!s&&"function"==typeof s.subscribe}const nD=bc;function S_(s,o,u,c){const h=Ae(),g=Ut(),_=_n();return function A_(s,o,u,c,h,g,_,E){const C=Ws(c),x=s.firstCreatePass&&Du(s),L=o[8],q=Vf(o);let ne=!0;if(3&c.type||E){const $e=Rr(c,o),rt=E?E($e):$e,Ie=q.length,yt=E?Ht=>E(Sn(Ht[c.index])):c.index;if(Mn(u)){let Ht=null;if(!E&&C&&(Ht=function uS(s,o,u,c){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const _=h[g];if(_===u&&h[g+1]===c){const E=o[7],C=h[g+2];return E.length>C?E[C]:null}"string"==typeof _&&(g+=2)}return null}(s,o,h,c.index)),null!==Ht)(Ht.__ngLastListenerFn__||Ht).__ngNextListenerFn__=g,Ht.__ngLastListenerFn__=g,ne=!1;else{g=Jf(c,o,L,g,!1);const dn=u.listen(rt,h,g);q.push(g,dn),x&&x.push(h,yt,Ie,Ie+1)}}else g=Jf(c,o,L,g,!0),rt.addEventListener(h,g,_),q.push(g),x&&x.push(h,yt,Ie,_)}else g=Jf(c,o,L,g,!1);const _e=c.outputs;let Ve;if(ne&&null!==_e&&(Ve=_e[h])){const $e=Ve.length;if($e)for(let rt=0;rt<$e;rt+=2){const Ls=o[Ve[rt]][Ve[rt+1]].subscribe(g),Un=q.length;q.push(g,Ls),x&&x.push(h,c.index,Un,-(Un+1))}}}(g,h,h[11],_,s,o,!!u,c),S_}function M_(s,o,u,c){try{return!1!==u(c)}catch(h){return Bd(s,h),!1}}function Jf(s,o,u,c,h){return function g(_){if(_===Function)return c;const E=2&s.flags?Tr(s.index,o):o;0==(32&o[2])&&fo(E);let C=M_(o,0,c,_),I=g.__ngNextListenerFn__;for(;I;)C=M_(o,0,I,_)&&C,I=I.__ngNextListenerFn__;return h&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function cS(s=1){return function Qh(s){return(vt.lFrame.contextLView=function Dg(s,o){for(;s>0;)o=o[15],s--;return o}(s,vt.lFrame.contextLView))[8]}(s)}function hD(s,o,u,c,h){const g=s[u+1],_=null===o;let E=c?Lo(g):Il(g),C=!1;for(;0!==E&&(!1===C||_);){const x=s[E+1];Lk(s[E],o)&&(C=!0,s[E+1]=c?Ov(x):kv(x)),E=c?Lo(x):Il(x)}C&&(s[u+1]=c?kv(g):Ov(g))}function Lk(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ns(s,o)>=0}function O_(s,o,u){return Ua(s,o,u,!1),O_}function R_(s,o){return Ua(s,o,null,!0),R_}function Ua(s,o,u,c){const h=Ae(),g=Ut(),_=function Bi(s){const o=vt.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);g.firstUpdatePass&&function ES(s,o,u,c){const h=s.data;if(null===h[u+1]){const g=h[pr()],_=function N_(s,o){return o>=s.expandoStartIndex}(s,u);(function np(s,o){return 0!=(s.flags&(o?16:32))})(g,c)&&null===o&&!_&&(o=!1),o=function Vk(s,o,u,c){const h=function Io(s){const o=vt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let g=c?o.residualClasses:o.residualStyles;if(null===h)0===(c?o.classBindings:o.styleBindings)&&(u=tp(u=ep(null,s,o,u,c),o.attrs,c),g=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==h)if(u=ep(h,s,o,u,c),null===g){let C=function Uk(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Il(c))return s[Lo(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=ep(null,s,o,C[1],c),C=tp(C,o.attrs,c),function DS(s,o,u,c){s[Lo(u?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else g=function CS(s,o,u){let c;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)c=tp(c,s[g].hostAttrs,u);return tp(c,o.attrs,u)}(s,o,c)}return void 0!==g&&(c?o.residualClasses=g:o.residualStyles=g),u}(h,g,o,c),function hS(s,o,u,c,h,g){let _=g?o.classBindings:o.styleBindings,E=Lo(_),C=Il(_);s[c]=u;let x,I=!1;if(Array.isArray(u)){const L=u;x=L[1],(null===x||ns(L,x)>0)&&(I=!0)}else x=u;if(h)if(0!==C){const q=Lo(s[E+1]);s[c+1]=Od(q,E),0!==q&&(s[q+1]=rm(s[q+1],c)),s[E+1]=function hb(s,o){return 131071&s|o<<17}(s[E+1],c)}else s[c+1]=Od(E,0),0!==E&&(s[E+1]=rm(s[E+1],c)),E=c;else s[c+1]=Od(C,0),0===E?E=c:s[C+1]=rm(s[C+1],c),C=c;I&&(s[c+1]=kv(s[c+1])),hD(s,x,c,!0),hD(s,x,c,!1),function dD(s,o,u,c,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&ns(g,o)>=0&&(u[c+1]=Ov(u[c+1]))}(o,x,s,c,g),_=Od(E,C),g?o.classBindings=_:o.styleBindings=_}(h,g,o,u,_,c)}}(g,s,_,c),o!==ut&&Lr(h,_,o)&&function TS(s,o,u,c,h,g,_,E){if(!(3&o.type))return;const C=s.data,I=C[E+1];Mm(function Rd(s){return 1==(1&s)}(I)?Jd(C,o,u,h,Il(I),_):void 0)||(Mm(g)||function xv(s){return 2==(2&s)}(I)&&(g=Jd(C,null,u,h,E,_)),function ik(s,o,u,c,h){const g=Mn(s);if(o)h?g?s.addClass(u,c):u.classList.add(c):g?s.removeClass(u,c):u.classList.remove(c);else{let _=-1===c.indexOf("-")?void 0:O.DashCase;if(null==h)g?s.removeStyle(u,c,_):u.style.removeProperty(c);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),_|=O.Important),g?s.setStyle(u,c,h,_):u.style.setProperty(c,h,E?"important":"")}}}(c,_,wi(pr(),u),h,g))}(g,g.data[pr()],h,h[11],s,h[_+1]=function jk(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(Dl(s)))),s}(o,u),c,_)}function ep(s,o,u,c,h){let g=null;const _=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<_&&(g=o[E],c=tp(c,g.hostAttrs,h),g!==s);)E++;return null!==s&&(u.directiveStylingLast=E),c}function tp(s,o,u){const c=u?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?h=_:h===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Gr(s,_,!!u||o[++g]))}return void 0===s?null:s}function Jd(s,o,u,c,h,g){const _=null===o;let E;for(;h>0;){const C=s[h],I=Array.isArray(C),x=I?C[1]:C,L=null===x;let q=u[h+1];q===ut&&(q=L?j:void 0);let ne=L?No(q,c):x===c?q:void 0;if(I&&!Mm(ne)&&(ne=No(C,c)),Mm(ne)&&(E=ne,_))return E;const _e=s[h+1];h=_?Lo(_e):Il(_e)}if(null!==o){let C=g?o.residualClasses:o.residualStyles;null!=C&&(E=No(C,c))}return E}function Mm(s){return void 0!==s}function Iu(s,o=""){const u=Ae(),c=Ut(),h=s+20,g=c.firstCreatePass?Nd(c,h,1,o,null):c.data[h],_=u[h]=function bl(s,o){return Mn(s)?s.createText(o):s.createTextNode(o)}(u[11],o);xd(c,u,_,g),si(g,!1)}function _D(s){return P_("",s,""),_D}function P_(s,o,u){const c=Ae(),h=function Su(s,o,u,c){return Lr(s,ws(),u)?o+ee(u)+c:ut}(c,s,o,u);return h!==ut&&Zi(c,pr(),h),P_}const Pl=void 0;var MD=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Om(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Au={};function Nm(s){const o=function $k(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=jS(o);if(u)return u;const c=o.split("-")[0];if(u=jS(c),u)return u;if("en"===c)return MD;throw new Error(`Missing locale data for the locale "${s}".`)}function xD(s){return Nm(s)[St.PluralCase]}function jS(s){return s in Au||(Au[s]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[s]),Au[s]}var St=(()=>((St=St||{})[St.LocaleId=0]="LocaleId",St[St.DayPeriodsFormat=1]="DayPeriodsFormat",St[St.DayPeriodsStandalone=2]="DayPeriodsStandalone",St[St.DaysFormat=3]="DaysFormat",St[St.DaysStandalone=4]="DaysStandalone",St[St.MonthsFormat=5]="MonthsFormat",St[St.MonthsStandalone=6]="MonthsStandalone",St[St.Eras=7]="Eras",St[St.FirstDayOfWeek=8]="FirstDayOfWeek",St[St.WeekendRange=9]="WeekendRange",St[St.DateFormat=10]="DateFormat",St[St.TimeFormat=11]="TimeFormat",St[St.DateTimeFormat=12]="DateTimeFormat",St[St.NumberSymbols=13]="NumberSymbols",St[St.NumberFormats=14]="NumberFormats",St[St.CurrencyCode=15]="CurrencyCode",St[St.CurrencySymbol=16]="CurrencySymbol",St[St.CurrencyName=17]="CurrencyName",St[St.Currencies=18]="Currencies",St[St.Directionality=19]="Directionality",St[St.PluralCase=20]="PluralCase",St[St.ExtraData=21]="ExtraData",St))();const B_="en-US";let j_=B_;function lp(s,o,u,c,h){if(s=X(s),Array.isArray(s))for(let g=0;g<s.length;g++)lp(s[g],o,u,c,h);else{const g=Ut(),_=Ae();let E=wc(s)?s:X(s.provide),C=AE(s);const I=_n(),x=1048575&I.providerIndexes,L=I.directiveStart,q=I.providerIndexes>>20;if(wc(s)||!s.multi){const ne=new Gn(C,h,Qf),_e=iw(E,o,h?x:x+q,L);-1===_e?(ji(Nr(I,_),g,E),zm(g,s,o.length),o.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),u.push(ne),_.push(ne)):(u[_e]=ne,_[_e]=ne)}else{const ne=iw(E,o,x+q,L),_e=iw(E,o,x,x+q),Ve=ne>=0&&u[ne],$e=_e>=0&&u[_e];if(h&&!$e||!h&&!Ve){ji(Nr(I,_),g,E);const rt=function XD(s,o,u,c,h){const g=new Gn(s,u,Qf);return g.multi=[],g.index=o,g.componentProviders=0,rw(g,h,c&&!u),g}(h?JD:QD,u.length,h,c,C);!h&&$e&&(u[_e].providerFactory=rt),zm(g,s,o.length,0),o.push(E),I.directiveStart++,I.directiveEnd++,h&&(I.providerIndexes+=1048576),u.push(rt),_.push(rt)}else zm(g,s,ne>-1?ne:_e,rw(u[h?_e:ne],C,!h&&c));!h&&c&&$e&&u[_e].componentProviders++}}}function zm(s,o,u,c){const h=wc(o),g=function n_(s){return!!s.useClass}(o);if(h||g){const C=(g?X(o.useClass):o).prototype.ngOnDestroy;if(C){const I=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const x=I.indexOf(u);-1===x?I.push(u,[c,C]):I[x+1].push(c,C)}else I.push(u,C)}}}function rw(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function iw(s,o,u,c){for(let h=u;h<c;h++)if(o[h]===s)return h;return-1}function QD(s,o,u,c){return up(this.multi,[])}function JD(s,o,u,c){const h=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=tr(u,u[1],this.providerFactory.index,c);g=E.slice(0,_),up(h,g);for(let C=_;C<E.length;C++)g.push(E[C])}else g=[],up(h,g);return g}function up(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function eC(s,o=[]){return u=>{u.providersResolver=(c,h)=>function nw(s,o,u){const c=Ut();if(c.firstCreatePass){const h=yi(s);lp(u,c.data,c.blueprint,h,!0),lp(o,c.data,c.blueprint,h,!1)}}(c,h?h(s):s,o)}}class qm{}class Zm{resolveComponentFactory(o){throw function ow(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Mc=(()=>{class s{}return s.NULL=new Zm,s})();function rI(){return sh(_n(),Ae())}function sh(s,o){return new oh(Rr(s,o))}let oh=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=rI,s})();function iI(s){return s instanceof oh?s.nativeElement:s}class Wm{}let aw=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function lw(){const s=Ae(),u=Tr(_n().index,s);return function sI(s){return s[11]}(mi(u)?u:s)}(),s})(),tC=(()=>{class s{}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:()=>null}),s})();class nC{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const cp=new nC("13.1.2"),dp={};function ah(s,o,u,c,h=!1){for(;null!==u;){const g=o[u.index];if(null!==g&&c.push(Sn(g)),ri(g))for(let E=10;E<g.length;E++){const C=g[E],I=C[1].firstChild;null!==I&&ah(C[1],C,I,c)}const _=u.type;if(8&_)ah(s,o,u.child,c);else if(32&_){const E=ve(u,o);let C;for(;C=E();)c.push(C)}else if(16&_){const E=K0(o,u);if(Array.isArray(E))c.push(...E);else{const C=Ct(o[16]);ah(C[1],C,E,c,!0)}}u=h?u.projectionNext:u.next}return c}class lh{constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,u=o[1];return ah(u,o,u.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ri(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(Qg(o,c),Oo(u,c))}this._attachedToViewContainer=!1}H0(this._lView[1],this._lView)}onDestroy(o){Oa(this._lView[1],this._lView,null,o)}markForCheck(){fo(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){um(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Pb(s,o,u){ua(!0);try{um(s,o,u)}finally{ua(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Kg(s,o){yu(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=o}}class oI extends lh{constructor(o){super(o),this._view=o}detectChanges(){Qv(this._view)}checkNoChanges(){!function CE(s){ua(!0);try{Qv(s)}finally{ua(!1)}}(this._view)}get context(){return null}}class uh extends Mc{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=ar(o);return new cw(u,this.ngModule)}}function uw(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}const iC=new Ln("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ad});class cw extends qm{constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function nE(s){return s.map(cb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return uw(this.componentDef.inputs)}get outputs(){return uw(this.componentDef.outputs)}create(o,u,c,h){const g=(h=h||this.ngModule)?function Gm(s,o){return{get:(u,c,h)=>{const g=s.get(u,dp,h);return g!==dp||c===dp?g:o.get(u,c,h)}}}(o,h.injector):o,_=g.get(Wm,Ys),E=g.get(tC,null),C=_.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",x=c?function Ld(s,o,u){if(Mn(s))return s.selectRootElement(o,u===jt.ShadowDom);let c="string"==typeof o?s.querySelector(o):o;return c.textContent="",c}(C,c,this.componentDef.encapsulation):mc(_.createRenderer(null,this.componentDef),I,function rC(s){const o=s.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(I)),L=this.componentDef.onPush?576:528,q=function a_(s,o){return{components:[],scheduler:s||Ad,clean:TE,playerHandler:o||null,flags:0}}(),ne=Lf(0,null,null,1,0,null,null,null,null,null),_e=Nf(null,ne,q,L,null,null,_,C,E,g);let Ve,$e;iu(_e);try{const rt=function LE(s,o,u,c,h,g){const _=u[1];u[20]=s;const C=Nd(_,20,2,"#host",null),I=C.mergedAttrs=o.hostAttrs;null!==I&&(cm(C,I,!0),null!==s&&(Ju(h,s,I),null!==C.classes&&ho(h,s,C.classes),null!==C.styles&&rb(h,s,C.styles)));const x=c.createRenderer(s,o),L=Nf(u,Ff(o),null,o.onPush?64:16,u[20],C,c,x,g||null,null);return _.firstCreatePass&&(ji(Nr(C,u),_,o.type),yE(_,C),vE(C,u.length,1)),Ir(u,L),u[20]=L}(x,this.componentDef,_e,_,C);if(x)if(c)Ju(C,x,["ng-version",cp.full]);else{const{attrs:Ie,classes:yt}=function db(s){const o=[],u=[];let c=1,h=2;for(;c<s.length;){let g=s[c];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++c]):8===h&&u.push(g);else{if(!Fo(h))break;h=g}c++}return{attrs:o,classes:u}}(this.componentDef.selectors[0]);Ie&&Ju(C,x,Ie),yt&&yt.length>0&&ho(C,x,yt.join(" "))}if($e=ra(ne,20),void 0!==u){const Ie=$e.projection=[];for(let yt=0;yt<this.ngContentSelectors.length;yt++){const Ht=u[yt];Ie.push(null!=Ht?Array.from(Ht):null)}}Ve=function VE(s,o,u,c,h){const g=u[1],_=function Ib(s,o,u){const c=_n();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Gv(s,c,o,Pd(s,o,1,null),u));const h=tr(o,s,c.directiveStart,c);Sr(h,o);const g=Rr(c,o);return g&&Sr(g,o),h}(g,u,o);if(c.components.push(_),s[8]=_,h&&h.forEach(C=>C(_,o)),o.contentQueries){const C=_n();o.contentQueries(1,_,C.directiveStart)}const E=_n();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(gr(E.index),gE(u[1],E,0,E.directiveStart,E.directiveEnd,o),Wv(o,_)),_}(rt,this.componentDef,_e,q,[ym]),Pf(ne,_e,null)}finally{Es()}return new lI(this.componentType,Ve,sh($e,_e),_e,$e)}}class lI extends class sw{}{constructor(o,u,c,h,g){super(),this.location=c,this._rootLView=h,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new oI(h),this.componentType=o}get injector(){return new eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class po{}class dw{}const Vl=new Map;class fp extends po{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new uh(this);const c=lr(o);this._bootstrapComponents=v(c.bootstrap),this._r3Injector=e_(o,u,[{provide:po,useValue:this},{provide:Mc,useValue:this.componentFactoryResolver}],fe(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,u=Rs.THROW_IF_NOT_FOUND,c=Et.Default){return o===Rs||o===po||o===jd?this:this._r3Injector.get(o,u,c)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Ym extends dw{constructor(o){super(),this.moduleType=o,null!==lr(o)&&function sC(s){const o=new Set;!function u(c){const h=lr(c,!0),g=h.id;null!==g&&(function ch(s,o,u){if(o&&o!==u)throw new Error(`Duplicate module registered for ${s} - ${fe(o)} vs ${fe(o.name)}`)}(g,Vl.get(g),c),Vl.set(g,c));const _=v(h.imports);for(const E of _)o.has(E)||(o.add(E),u(E))}(s)}(o)}create(o){return new fp(this.moduleType,o)}}function Qm(s,o,u){const c=br()+s,h=Ae();return h[c]===ut?Fa(h,c,u?o.call(u):o()):Ml(h,c)}function fw(s,o,u,c){return ty(Ae(),br(),s,o,u,c)}function pw(s,o,u,c,h){return yp(Ae(),br(),s,o,u,c,h)}function dh(s,o,u,c,h,g){return ny(Ae(),br(),s,o,u,c,h,g)}function Jm(s,o,u,c,h,g,_){return function mw(s,o,u,c,h,g,_,E,C){const I=o+u;return Ns(s,I,h,g,_,E)?Fa(s,I+4,C?c.call(C,h,g,_,E):c(h,g,_,E)):mp(s,I+4)}(Ae(),br(),s,o,u,c,h,g,_)}function Xm(s,o,u,c,h,g,_,E){const C=br()+s,I=Ae(),x=Ns(I,C,u,c,h,g);return Lr(I,C+4,_)||x?Fa(I,C+5,E?o.call(E,u,c,h,g,_):o(u,c,h,g,_)):Ml(I,C+5)}function ey(s,o,u,c,h,g,_,E,C){const I=br()+s,x=Ae(),L=Ns(x,I,u,c,h,g);return Dc(x,I+4,_,E)||L?Fa(x,I+6,C?o.call(C,u,c,h,g,_,E):o(u,c,h,g,_,E)):Ml(x,I+6)}function pp(s,o,u,c,h,g,_,E,C,I){const x=br()+s,L=Ae();let q=Ns(L,x,u,c,h,g);return qf(L,x+4,_,E,C)||q?Fa(L,x+7,I?o.call(I,u,c,h,g,_,E,C):o(u,c,h,g,_,E,C)):Ml(L,x+7)}function gw(s,o,u,c){return function yw(s,o,u,c,h,g){let _=o+u,E=!1;for(let C=0;C<h.length;C++)Lr(s,_++,h[C])&&(E=!0);return E?Fa(s,_,c.apply(g,h)):mp(s,_)}(Ae(),br(),s,o,u,c)}function mp(s,o){const u=s[o];return u===ut?void 0:u}function ty(s,o,u,c,h,g){const _=o+u;return Lr(s,_,h)?Fa(s,_+1,g?c.call(g,h):c(h)):mp(s,_+1)}function yp(s,o,u,c,h,g,_){const E=o+u;return Dc(s,E,h,g)?Fa(s,E+2,_?c.call(_,h,g):c(h,g)):mp(s,E+2)}function ny(s,o,u,c,h,g,_,E){const C=o+u;return qf(s,C,h,g,_)?Fa(s,C+3,E?c.call(E,h,g,_):c(h,g,_)):mp(s,C+3)}function vw(s,o){const u=Ut();let c;const h=s+20;u.firstCreatePass?(c=function dI(s,o){if(o)for(let u=o.length-1;u>=0;u--){const c=o[u];if(s===c.name)return c}}(o,u.pipeRegistry),u.data[h]=c,c.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(h,c.onDestroy)):c=u.data[h];const g=c.factory||(c.factory=vi(c.type)),_=qn(Qf);try{const E=Pn(!1),C=g();return Pn(E),function Qb(s,o,u,c){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=c}(u,Ae(),h,C),C}finally{qn(_)}}function hh(s,o,u){const c=s+20,h=Ae(),g=Ui(h,c);return kc(h,c)?ty(h,br(),o,g.transform,u,g):g.transform(u)}function _w(s,o,u,c){const h=s+20,g=Ae(),_=Ui(g,h);return kc(g,h)?yp(g,br(),o,_.transform,u,c,_):_.transform(u,c)}function vp(s,o,u,c,h){const g=s+20,_=Ae(),E=Ui(_,g);return kc(_,g)?ny(_,br(),o,E.transform,u,c,h,E):E.transform(u,c,h)}function kc(s,o){return s[1].data[o].pure}function wp(s){return o=>{setTimeout(s,void 0,o)}}const Gi=class hI extends a.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){var h,g,_;let E=o,C=u||(()=>null),I=c;if(o&&"object"==typeof o){const L=o;E=null===(h=L.next)||void 0===h?void 0:h.bind(L),C=null===(g=L.error)||void 0===g?void 0:g.bind(L),I=null===(_=L.complete)||void 0===_?void 0:_.bind(L)}this.__isAsync&&(C=wp(C),E&&(E=wp(E)),I&&(I=wp(I)));const x=super.subscribe({next:E,error:C,complete:I});return o instanceof re.w0&&o.add(x),x}};function ww(){return this._results[Zd()]()}class Ul{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Zd(),c=Ul.prototype;c[u]||(c[u]=ww)}get changes(){return this._changes||(this._changes=new Gi)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const h=Wr(o);(this._changesDetected=!function ts(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let h=s[c],g=o[c];if(u&&(h=u(h),g=u(g)),g!==h)return!1}return!0}(c._results,h,u))&&(c._results=h,c.length=h.length,c.last=h[this.length-1],c.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let fh=(()=>{class s{}return s.__NG_ELEMENT_ID__=Bl,s})();const fI=fh,Oc=class extends fI{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o){const u=this._declarationTContainer.tViews,c=Nf(this._declarationLView,u,o,16,null,u.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(c[19]=g.createEmbeddedView(u)),Pf(u,c,o),new lh(c)}};function Bl(){return Rc(_n(),Ae())}function Rc(s,o){return 4&s.type?new Oc(o,s,sh(s,o)):null}let Nc=(()=>{class s{}return s.__NG_ELEMENT_ID__=ry,s})();function ry(){return aC(_n(),Ae())}const oC=Nc,$n=class extends oC{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return sh(this._hostTNode,this._hostLView)}get injector(){return new eo(this._hostTNode,this._hostLView)}get parentInjector(){const o=Mo(this._hostTNode,this._hostLView);if(_t(o)){const u=pa(o,this._hostLView),c=Cs(o);return new eo(u[1].data[c+8],u)}return new eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Ep(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,u,c){const h=o.createEmbeddedView(u||{});return this.insert(h,c),h}createComponent(o,u,c,h,g){const _=o&&!function ml(s){return"function"==typeof s}(o);let E;if(_)E=u;else{const L=u||{};E=L.index,c=L.injector,h=L.projectableNodes,g=L.ngModuleRef}const C=_?o:new cw(ar(o)),I=c||this.parentInjector;if(!g&&null==C.ngModule&&I){const L=I.get(po,null);L&&(g=L)}const x=C.create(I,h,void 0,g);return this.insert(x.hostView,E),x}insert(o,u){const c=o._lView,h=c[1];if(function rl(s){return ri(s[3])}(c)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const L=c[3],q=new $n(L,L[6],L[3]);q.detach(q.indexOf(o))}}const g=this._adjustIndex(u),_=this._lContainer;!function Yg(s,o,u,c){const h=10+c,g=u.length;c>0&&(u[h-1][4]=o),c<g-10?(o[4]=u[h],du(u,10+c,o)):(u.push(o),o[4]=null),o[3]=u;const _=o[17];null!==_&&u!==_&&function lo(s,o){const u=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===u?s[9]=[o]:u.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=128}(h,c,_,g);const E=Av(g,_),C=c[11],I=Xg(C,_[7]);return null!==I&&function Md(s,o,u,c,h,g){c[0]=h,c[6]=o,yu(s,c,u,1,h,g)}(h,_[6],C,c,I,E),o.attachToViewContainerRef(),du(Ew(_),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Ep(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=Qg(this._lContainer,u);c&&(Oo(Ew(this._lContainer),u),H0(c[1],c))}detach(o){const u=this._adjustIndex(o,-1),c=Qg(this._lContainer,u);return c&&null!=Oo(Ew(this._lContainer),u)?new lh(c):null}_adjustIndex(o,u=0){return null==o?this.length+u:o}};function Ep(s){return s[8]}function Ew(s){return s[8]||(s[8]=[])}function aC(s,o){let u;const c=o[s.index];if(ri(c))u=c;else{let h;if(8&s.type)h=Sn(c);else{const g=o[11];h=g.createComment("");const _=Rr(s,o);vc(g,Xg(g,_),h,function bv(s,o){return Mn(s)?s.nextSibling(o):o.nextSibling}(g,_),!1)}o[s.index]=u=wE(c,o,h,s),Ir(o,u)}return new $n(u,s,o)}class iy{constructor(o){this.queryList=o,this.matches=null}clone(){return new iy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Dw{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,h=[];for(let g=0;g<c;g++){const _=u.getByIndex(g);h.push(this.queries[_.indexInDeclarationView].clone())}return new Dw(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==Mw(o,u).matches&&this.queries[u].setDirty()}}class lC{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Cw{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const h=null!==u?u.length:0,g=this.getByIndex(c).embeddedTView(o,h);g&&(g.indexInDeclarationView=c,null!==u?u.push(g):u=[g])}return null!==u?new Cw(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Tw{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Tw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let h=0;h<c.length;h++){const g=c[h];this.matchTNodeWithReadOption(o,u,Tp(u,g)),this.matchTNodeWithReadOption(o,u,ga(u,o,g,!1,!1))}else c===fh?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ga(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const h=this.metadata.read;if(null!==h)if(h===oh||h===Nc||h===fh&&4&u.type)this.addMatch(u.index,-2);else{const g=ga(u,o,h,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Tp(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function uC(s,o,u,c){return-1===u?function xu(s,o){return 11&s.type?sh(s,o):4&s.type?Rc(s,o):null}(o,s):-2===u?function cC(s,o,u){return u===oh?sh(o,s):u===fh?Rc(o,s):u===Nc?aC(o,s):void 0}(s,o,c):tr(s,s[1],u,o)}function bw(s,o,u,c){const h=o[19].queries[c];if(null===h.matches){const g=s.data,_=u.matches,E=[];for(let C=0;C<_.length;C+=2){const I=_[C];E.push(I<0?null:uC(o,g[I],_[C+1],u.metadata.read))}h.matches=E}return h.matches}function ku(s,o,u,c){const h=s.queries.getByIndex(u),g=h.matches;if(null!==g){const _=bw(s,o,h,u);for(let E=0;E<g.length;E+=2){const C=g[E];if(C>0)c.push(_[E/2]);else{const I=g[E+1],x=o[-C];for(let L=10;L<x.length;L++){const q=x[L];q[17]===q[3]&&ku(q[1],q,I,c)}if(null!==x[9]){const L=x[9];for(let q=0;q<L.length;q++){const ne=L[q];ku(ne[1],ne,I,c)}}}}}return c}function dC(s){const o=Ae(),u=Ut(),c=Gu();Ao(c+1);const h=Mw(u,c);if(s.dirty&&Wn(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?ku(u,o,c,[]):bw(u,o,h,c);s.reset(g,iI),s.notifyOnChanges()}return!0}return!1}function Sw(s,o,u,c){const h=Ut();if(h.firstCreatePass){const g=_n();(function sy(s,o,u){null===s.queries&&(s.queries=new Cw),s.queries.track(new Tw(o,u))})(h,new lC(o,u,c),g.index),function Aw(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}!function Iw(s,o,u){const c=new Ul(4==(4&u));Oa(s,o,c,c.destroy),null===o[19]&&(o[19]=new Dw),o[19].queries.push(new iy(c))}(h,Ae(),u)}function hC(){return function fC(s,o){return s[19].queries[o].queryList}(Ae(),Gu())}function Mw(s,o){return s.queries.getByIndex(o)}function xw(s,o){return Rc(s,o)}function $l(...s){}const jw=new Ln("Application Initializer");let Ru=(()=>{class s{constructor(u){this.appInits=u,this.resolve=$l,this.reject=$l,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,h)=>{this.resolve=c,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Uo(g))u.push(g);else if(nD(g)){const _=new Promise((E,C)=>{g.subscribe({complete:E,error:C})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(h=>{this.reject(h)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(Q(jw,8))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const CC=new Ln("AppId"),TC={provide:CC,useFactory:function SI(){return`${Hw()}${Hw()}${Hw()}`},deps:[]};function Hw(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xp=new Ln("Platform Initializer"),bC=new Ln("Platform ID"),$w=new Ln("appBootstrapListener");let Fc=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const jo=new Ln("LocaleId"),py=new Ln("DefaultCurrencyCode");class kp{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let Op=(()=>{class s{compileModuleSync(u){return new Ym(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),g=v(lr(u).declarations).reduce((_,E)=>{const C=ar(E);return C&&_.push(new cw(C)),_},[]);return new kp(c,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();const II=(()=>Promise.resolve(0))();function Ze(s){"undefined"==typeof Zone?II.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Se{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gi(!1),this.onMicrotaskEmpty=new Gi(!1),this.onStable=new Gi(!1),this.onError=new Gi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!c&&u,h.shouldCoalesceRunChangeDetection=c,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function ge(){let s=Gt.requestAnimationFrame,o=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function MI(s){const o=()=>{!function AI(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Gt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,zw(s),s.isCheckStableRunning=!0,gy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),zw(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,h,g,_,E)=>{try{return SC(s),u.invokeTask(h,g,_,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),IC(s)}},onInvoke:(u,c,h,g,_,E,C)=>{try{return SC(s),u.invoke(h,g,_,E,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),IC(s)}},onHasTask:(u,c,h,g)=>{u.hasTask(h,g),c===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,zw(s),gy(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,c,h,g)=>(u.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Se.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Se.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,h){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+h,o,Kr,$l,$l);try{return g.runTask(_,u,c)}finally{g.cancelTask(_)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const Kr={};function gy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function zw(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function SC(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function IC(s){s._nesting--,gy(s)}class AC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gi,this.onMicrotaskEmpty=new Gi,this.onStable=new Gi,this.onError=new Gi}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,h){return o.apply(u,c)}}let MC=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Se.assertNotInAngularZone(),Ze(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ze(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,h){let g=-1;c&&c>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:h})}whenStable(u,c,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,c,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(Q(Se))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})(),xI=(()=>{class s{constructor(){this._applications=new Map,my.addToWindow(this)}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return my.findTestabilityInTree(this,u,c)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();class Fs{addToWindow(o){}findTestabilityInTree(o,u,c){return null}}function kI(s){my=s}let kt,my=new Fs;const Pt=new Ln("AllowMultipleToken");class xC{constructor(o,u){this.name=o,this.token=u}}function qw(s,o,u=[]){const c=`Platform: ${o}`,h=new Ln(c);return(g=[])=>{let _=kC();if(!_||_.injector.get(Pt,!1))if(s)s(u.concat(g).concat({provide:h,useValue:!0}));else{const E=u.concat(g).concat({provide:h,useValue:!0},{provide:dm,useValue:"platform"});!function Lc(s){if(kt&&!kt.destroyed&&!kt.injector.get(Pt,!1))throw new Fe(400,"");kt=s.get(Qr);const o=s.get(xp,null);o&&o.forEach(u=>u())}(Rs.create({providers:E,name:c}))}return function Rp(s){const o=kC();if(!o)throw new Fe(401,"");return o}()}}function kC(){return kt&&!kt.destroyed?kt:null}let Qr=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const E=function vh(s,o){let u;return u="noop"===s?new AC:("zone.js"===s?void 0:s)||new Se({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),u}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),C=[{provide:Se,useValue:E}];return E.run(()=>{const I=Rs.create({providers:C,parent:this.injector,name:u.moduleType.name}),x=u.create(I),L=x.injector.get(pc,null);if(!L)throw new Fe(402,"");return E.runOutsideAngular(()=>{const q=E.onError.subscribe({next:ne=>{L.handleError(ne)}});x.onDestroy(()=>{ja(this._modules,x),q.unsubscribe()})}),function RI(s,o,u){try{const c=u();return Uo(c)?c.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(L,E,()=>{const q=x.injector.get(Ru);return q.runInitializers(),q.donePromise.then(()=>(function $S(s){Le(s,"Expected localeId to be defined"),"string"==typeof s&&(j_=s.toLowerCase().replace(/_/g,"-"))}(x.injector.get(jo,B_)||B_),this._moduleDoBootstrap(x),x))})})}bootstrapModule(u,c=[]){const h=Mr({},c);return function yh(s,o,u){const c=new Ym(u);return Promise.resolve(c)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(u){const c=u.injector.get(Np);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>c.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new Fe(403,"");u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Q(Rs))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();function Mr(s,o){return Array.isArray(o)?o.reduce(Mr,s):Object.assign(Object.assign({},s),o)}let Np=(()=>{class s{constructor(u,c,h,g,_){this._zone=u,this._injector=c,this._exceptionHandler=h,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new P.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),C=new P.y(I=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),Ze(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const L=this._zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{x.unsubscribe(),L.unsubscribe()}});this.isStable=(0,ue.T)(E,C.pipe((0,ae.B)()))}bootstrap(u,c){if(!this._initStatus.done)throw new Fe(405,"");let h;h=u instanceof qm?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(h.componentType);const g=function Yr(s){return s.isBoundToModule}(h)?void 0:this._injector.get(po),E=h.create(Rs.NULL,[],c||h.selector,g),C=E.location.nativeElement,I=E.injector.get(MC,null),x=I&&E.injector.get(xI);return I&&x&&x.registerApplication(C,I),E.onDestroy(()=>{this.detachView(E.hostView),ja(this.components,E),x&&x.unregisterApplication(C)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;ja(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get($w,[]).concat(this._bootstrapListeners).forEach(h=>h(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(Q(Se),Q(Rs),Q(pc),Q(Mc),Q(Ru))},s.\u0275prov=Qt({token:s,factory:s.\u0275fac}),s})();function ja(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}let yy=!0,Zw=!1;function Pp(){return Zw=!0,yy}function Vc(){if(Zw)throw new Error("Cannot enable prod mode after platform setup.");yy=!1}let Uc=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ha,s})();function Ha(s){return function Fp(s,o,u){if(Yl(s)&&!u){const c=Tr(s.index,o);return new lh(c,c)}return 47&s.type?new lh(o[16],o):null}(_n(),Ae(),16==(16&s))}class LC{constructor(){}supports(o){return $f(o)}create(o){return new UI(o)}}const VI=(s,o)=>o;class UI{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||VI}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,h=0,g=null;for(;u||c;){const _=!c||u&&u.currentIndex<jc(c,h,g)?u:c,E=jc(_,h,g),C=_.currentIndex;if(_===c)h--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)h++;else{g||(g=[]);const I=E-h,x=C-h;if(I!=x){for(let q=0;q<I;q++){const ne=q<g.length?g[q]:g[q]=0,_e=ne+q;x<=_e&&_e<I&&(g[q]=ne+1)}g[_.previousIndex]=x-I}}E!==C&&o(_,E,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!$f(o))throw new Error(`Error trying to diff '${fe(o)}'. Only arrays and iterables are allowed`);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,_,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],_=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,g,_,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,_,E),c=!0),u=u._next}else h=0,function zf(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Zd()]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,E=>{_=this._trackByFn(h,E),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,E,_,h)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,_,h),c=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,h))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,g,h)):o=this._addAfter(new BI(u,c),g,h),o}_verifyReinsertion(o,u,c,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const h=null===u?this._itHead:u._next;return o._next=h,o._prev=u,null===h?this._itTail=o:h._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new jp),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new jp),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class BI{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Bp{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class jp{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new Bp,this.map.set(u,c)),c.add(o)}get(o,u){const h=this.map.get(o);return h?h.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function jc(s,o,u){const c=s.previousIndex;if(null===c)return c;let h=0;return u&&c<u.length&&(h=u[c]),c+o+h}class VC{constructor(){}supports(o){return o instanceof Map||Ec(o)}create(){return new UC}}class UC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||Ec(o)))throw new Error(`Error trying to diff '${fe(o)}'. Only maps and objects are allowed`)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(h,c);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,u);const g=h._prev,_=h._next;return g&&(g._next=_),_&&(_._prev=g),h._next=null,h._prev=null,h}const c=new BC(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class BC{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $a(){return new Hp([new LC])}let Hp=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||$a()),deps:[[s,new is,new mn]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${u}' of type '${function Eh(s){return s.name||typeof s}(u)}'`)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:$a}),s})();function $p(){return new Hc([new VC])}let Hc=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const h=c.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||$p()),deps:[[s,new is,new mn]]}}find(u){const c=this.factories.find(h=>h.supports(u));if(c)return c;throw new Error(`Cannot find a differ supporting object '${u}'`)}}return s.\u0275prov=Qt({token:s,providedIn:"root",factory:$p}),s})();const Qw=[new VC],Xw=new Hp([new LC]),Dh=new Hc(Qw),jC=qw(null,"core",[{provide:bC,useValue:"unknown"},{provide:Qr,deps:[Rs]},{provide:xI,deps:[]},{provide:Fc,deps:[]}]),$C=[{provide:Np,useClass:Np,deps:[Se,Rs,pc,Mc,Ru]},{provide:iC,deps:[Se],useFactory:function jI(s){let o=[];return s.onStable.subscribe(()=>{for(;o.length;)o.pop()()}),function(u){o.push(u)}}},{provide:Ru,useClass:Ru,deps:[[new mn,jw]]},{provide:Op,useClass:Op,deps:[]},TC,{provide:Hp,useFactory:function zp(){return Xw},deps:[]},{provide:Hc,useFactory:function HC(){return Dh},deps:[]},{provide:jo,useFactory:function e0(s){return s||function qp(){return"undefined"!=typeof $localize&&$localize.locale||B_}()},deps:[[new nr(jo),new mn,new is]]},{provide:py,useValue:"USD"}];let zC=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Q(Np))},s.\u0275mod=Hr({type:s}),s.\u0275inj=ln({providers:$C}),s})()},3942:(at,Ce,N)=>{"use strict";N.d(Ce,{Z:()=>Fe});var a=N(2090),re=N(4859),P=N(9681),ue=N(1877);class ae{constructor(ee,ie){this._delegate=ee,this.firebase=ie,(0,P._addComponent)(ee,new re.wA("app-compat",()=>this,"PUBLIC")),this.container=ee.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this._delegate.automaticDataCollectionEnabled=ee}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ee=>{this._delegate.checkDestroyed(),ee()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(ee,ie=P._DEFAULT_ENTRY_NAME){var we;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(ee);return!xe.isInitialized()&&"EXPLICIT"===(null===(we=xe.getComponent())||void 0===we?void 0:we.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:ie})}_removeServiceInstance(ee,ie=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ee).clearInstance(ie)}_addComponent(ee){(0,P._addComponent)(this._delegate,ee)}_addOrOverwriteComponent(ee){(0,P._addOrOverwriteComponent)(this._delegate,ee)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ce=new a.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function de(){const nt=function fe(nt){const ee={},ie={__esModule:!0,initializeApp:function ye(Ge,he={}){const V=P.initializeApp(Ge,he);if((0,a.r3)(ee,V.name))return ee[V.name];const H=new nt(V,ie);return ee[V.name]=H,H},app:xe,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function be(Ge){const he=Ge.name,V=he.replace("-compat","");if(P._registerComponent(Ge)&&"PUBLIC"===Ge.type){const H=(Z=xe())=>{if("function"!=typeof Z[V])throw ce.create("invalid-app-argument",{appName:he});return Z[V]()};void 0!==Ge.serviceProps&&(0,a.ZB)(H,Ge.serviceProps),ie[V]=H,nt.prototype[V]=function(...Z){return this._getService.bind(this,he).apply(this,Ge.multipleInstances?Z:[])}}return"PUBLIC"===Ge.type?ie[V]:null},removeApp:function we(Ge){delete ee[Ge]},useAsService:function et(Ge,he){return"serverAuth"===he?null:he},modularAPIs:P}};function xe(Ge){if(!(0,a.r3)(ee,Ge=Ge||P._DEFAULT_ENTRY_NAME))throw ce.create("no-app",{appName:Ge});return ee[Ge]}return ie.default=ie,Object.defineProperty(ie,"apps",{get:function Ne(){return Object.keys(ee).map(Ge=>ee[Ge])}}),xe.App=nt,ie}(ae);return nt.INTERNAL=Object.assign(Object.assign({},nt.INTERNAL),{createFirebaseNamespace:de,extendNamespace:function ee(ie){(0,a.ZB)(nt,ie)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),nt}(),z=new ue.Yd("@firebase/app-compat");if((0,a.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const nt=self.firebase.SDK_VERSION;nt&&nt.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Fe=$;!function Me(nt){(0,P.registerVersion)("@firebase/app-compat","0.1.14",nt)}()},9681:(at,Ce,N)=>{"use strict";N.r(Ce),N.d(Ce,{FirebaseError:()=>ue.ZR,SDK_VERSION:()=>jr,_DEFAULT_ENTRY_NAME:()=>rn,_addComponent:()=>At,_addOrOverwriteComponent:()=>On,_apps:()=>Je,_clearComponents:()=>$t,_components:()=>Tn,_getProvider:()=>fi,_registerComponent:()=>Qt,_removeServiceInstance:()=>ln,deleteApp:()=>Qi,getApp:()=>zs,getApps:()=>pi,initializeApp:()=>Yi,onLog:()=>sr,registerVersion:()=>Jr,setLogLevel:()=>qn});var a=N(5861),re=N(4859),P=N(1877),ue=N(2090);class ae{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Bt=>{if(function me(bt){const it=bt.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Bt)){const In=Bt.getImmediate();return`${In.library}/${In.version}`}return null}).filter(Bt=>Bt).join(" ")}}const ce="@firebase/app",de=new P.Yd("@firebase/app"),rn="[DEFAULT]",Le={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Je=new Map,Tn=new Map;function At(bt,it){try{bt.container.addComponent(it)}catch(Bt){de.debug(`Component ${it.name} failed to register with FirebaseApp ${bt.name}`,Bt)}}function On(bt,it){bt.container.addOrOverwriteComponent(it)}function Qt(bt){const it=bt.name;if(Tn.has(it))return de.debug(`There were multiple attempts to register component ${it}.`),!1;Tn.set(it,bt);for(const Bt of Je.values())At(Bt,bt);return!0}function fi(bt,it){return bt.container.getProvider(it)}function ln(bt,it,Bt=rn){fi(bt,it).clearInstance(Bt)}function $t(){Tn.clear()}const Dr=new ue.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class $s{constructor(it,Bt,In){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Bt),this._name=Bt.name,this._automaticDataCollectionEnabled=Bt.automaticDataCollectionEnabled,this._container=In,this.container.addComponent(new re.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const jr="9.6.3";function Yi(bt,it={}){"object"!=typeof it&&(it={name:it});const Bt=Object.assign({name:rn,automaticDataCollectionEnabled:!1},it),In=Bt.name;if("string"!=typeof In||!In)throw Dr.create("bad-app-name",{appName:String(In)});const kr=Je.get(In);if(kr){if((0,ue.vZ)(bt,kr.options)&&(0,ue.vZ)(Bt,kr.config))return kr;throw Dr.create("duplicate-app",{appName:In})}const jt=new re.H0(In);for(const mt of Tn.values())jt.addComponent(mt);const st=new $s(bt,Bt,jt);return Je.set(In,st),st}function zs(bt=rn){const it=Je.get(bt);if(!it)throw Dr.create("no-app",{appName:bt});return it}function pi(){return Array.from(Je.values())}function Qi(bt){return Et.apply(this,arguments)}function Et(){return(Et=(0,a.Z)(function*(bt){const it=bt.name;Je.has(it)&&(Je.delete(it),yield Promise.all(bt.container.getProviders().map(Bt=>Bt.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function Jr(bt,it,Bt){var In;let kr=null!==(In=Le[bt])&&void 0!==In?In:bt;Bt&&(kr+=`-${Bt}`);const jt=kr.match(/\s|\//),st=it.match(/\s|\//);if(jt||st){const mt=[`Unable to register library "${kr}" with version "${it}":`];return jt&&mt.push(`library name "${kr}" contains illegal characters (whitespace or "/")`),jt&&st&&mt.push("and"),st&&mt.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void de.warn(mt.join(" "))}Qt(new re.wA(`${kr}-version`,()=>({library:kr,version:it}),"VERSION"))}function sr(bt,it){if(null!==bt&&"function"!=typeof bt)throw Dr.create("invalid-log-argument");(0,P.Am)(bt,it)}function qn(bt){(0,P.Ub)(bt)}!function _o(bt){Qt(new re.wA("platform-logger",it=>new ae(it),"PRIVATE")),Jr(ce,"0.7.13",bt),Jr(ce,"0.7.13","esm2017"),Jr("fire-js","")}("")},4859:(at,Ce,N)=>{"use strict";N.d(Ce,{wA:()=>P,H0:()=>fe});var a=N(5861),re=N(2090);class P{constructor($,z,X){this.name=$,this.instanceFactory=z,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ue="[DEFAULT]";class ae{constructor($,z){this.name=$,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const z=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(z)){const X=new re.BH;if(this.instancesDeferred.set(z,X),this.isInitialized(z)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:z});je&&X.resolve(je)}catch(je){}}return this.instancesDeferred.get(z).promise}getImmediate($){var z;const X=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),je=null!==(z=null==$?void 0:$.optional)&&void 0!==z&&z;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(Me){if(je)return null;throw Me}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function ce(de){return"EAGER"===de.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ue})}catch(z){}for(const[z,X]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(z);try{const Me=this.getOrInitializeService({instanceIdentifier:je});X.resolve(Me)}catch(Me){}}}}clearInstance($=ue){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,a.Z)(function*(){const z=Array.from($.instances.values());yield Promise.all([...z.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...z.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ue){return this.instances.has($)}getOptions($=ue){return this.instancesOptions.get($)||{}}initialize($={}){const{options:z={}}=$,X=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:X,options:z});for(const[Me,Fe]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(Me)&&Fe.resolve(je);return je}onInit($,z){var X;const je=this.normalizeInstanceIdentifier(z),Me=null!==(X=this.onInitCallbacks.get(je))&&void 0!==X?X:new Set;Me.add($),this.onInitCallbacks.set(je,Me);const Fe=this.instances.get(je);return Fe&&$(Fe,je),()=>{Me.delete($)}}invokeOnInitCallbacks($,z){const X=this.onInitCallbacks.get(z);if(X)for(const je of X)try{je($,z)}catch(Me){}}getOrInitializeService({instanceIdentifier:$,options:z={}}){let X=this.instances.get($);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(de=$,de===ue?void 0:de),options:z}),this.instances.set($,X),this.instancesOptions.set($,z),this.invokeOnInitCallbacks(X,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,X)}catch(je){}var de;return X||null}normalizeInstanceIdentifier($=ue){return this.component?this.component.multipleInstances?$:ue:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor($){this.name=$,this.providers=new Map}addComponent($){const z=this.getProvider($.name);if(z.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);z.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const z=new ae($,this);return this.providers.set($,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(at,Ce,N)=>{"use strict";N.d(Ce,{in:()=>re,Yd:()=>ce,Ub:()=>fe,Am:()=>de});const a=[];var re=(()=>{return($=re||(re={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",re;var $})();const P={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},ue=re.INFO,ae={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},me=($,z,...X)=>{if(z<$.logLevel)return;const je=(new Date).toISOString(),Me=ae[z];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Me](`[${je}]  ${$.name}:`,...X)};class ce{constructor(z){this.name=z,this._logLevel=ue,this._logHandler=me,this._userLogHandler=null,a.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in re))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...z),this._logHandler(this,re.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...z),this._logHandler(this,re.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,re.INFO,...z),this._logHandler(this,re.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,re.WARN,...z),this._logHandler(this,re.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...z),this._logHandler(this,re.ERROR,...z)}}function fe($){a.forEach(z=>{z.setLogLevel($)})}function de($,z){for(const X of a){let je=null;z&&z.level&&(je=P[z.level]),X.userLogHandler=null===$?null:(Me,Fe,...nt)=>{const ee=nt.map(ie=>{if(null==ie)return null;if("string"==typeof ie)return ie;if("number"==typeof ie||"boolean"==typeof ie)return ie.toString();if(ie instanceof Error)return ie.message;try{return JSON.stringify(ie)}catch(we){return null}}).filter(ie=>ie).join(" ");Fe>=(null!=je?je:Me.logLevel)&&$({level:re[Fe].toLowerCase(),message:ee,args:nt,type:Me.name})}}}},5861:(at,Ce,N)=>{"use strict";function a(P,ue,ae,me,ce,fe,de){try{var $=P[fe](de),z=$.value}catch(X){return void ae(X)}$.done?ue(z):Promise.resolve(z).then(me,ce)}function re(P){return function(){var ue=this,ae=arguments;return new Promise(function(me,ce){var fe=P.apply(ue,ae);function de(z){a(fe,me,ce,de,$,"next",z)}function $(z){a(fe,me,ce,de,$,"throw",z)}de(void 0)})}}N.d(Ce,{Z:()=>re})}},at=>{at(at.s=7906)}]);